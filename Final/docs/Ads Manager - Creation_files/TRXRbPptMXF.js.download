if (self.CavalryLogger) { CavalryLogger.start_js(["GuHXz"]); }

__d("ResetScrollOnUnload",["Run"],(function(a,b,c,d,e,f){a={disableScrollRestoration:function(){b("Run").onUnload(function(){window.history.scrollRestoration="manual"})},init:function(a){b("Run").onUnload(function(){window.history.scrollRestoration="manual",a.style.opacity="0",window.scrollTo(0,0)})}};e.exports=a}),null);
__d("NavigationMenubarInteractionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:NavigationMenubarInteractionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:NavigationMenubarInteractionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:NavigationMenubarInteractionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setTargetItem=function(a){this.$1.target_item=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={action:!0,target_item:!0};e.exports=a}),null);
__d("NavigationAssistantController",["csx","cx","fbt","Arbiter","AsyncRequest","CSS","DOM","DOMEventListener","DOMQuery","DOMTraverser","Event","Focus","KeyboardShortcuts","KeyEventController","Menu","MenuItem","NavigationMenubarInteractionsTypedLogger","PageTransitions","RTLKeys","TabbableElements","debounce","ge","getActiveElement","getOrCreateDOMID","gkx","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=["main","banner","search","navigation","region","complementary","form","contentinfo"],k={main:function(a){return a?i._("Main: {section name}",[i._param("section name",a)]):i._("Main section")},banner:function(a){return i._("{section name} banner",[i._param("section name",a)])},search:function(a){return i._("Search {section name}",[i._param("section name",a)])},navigation:function(a){return a?i._("Navigate {section name}",[i._param("section name",a)]):i._("Navigation")},region:function(a){return a},complementary:function(a){return a?a:i._("Complementary information")},form:function(a){return i._("{section name} form",[i._param("section name",a)])},contentinfo:function(a){return i._("{section name} footer",[i._param("section name",a)])}},l=500;a={init:function(a,c,d,e,f,g){__p&&__p();this._banner=a;this._menubar=c;this._sectionsMenu=d;this._accessibilityMenu=e;this._globalMenu=f;this._shortcutMenuItem=this._accessibilityMenu&&this._accessibilityMenu.getItemAt(0);this._menubarMenus=[{menu:this._sectionsMenu,logName:"page_sections"}];this._accessibilityMenu&&this._menubarMenus.push({menu:this._accessibilityMenu,logName:"accessibility"});this._globalMenu&&this._menubarMenus.push({menu:this._globalMenu,logName:"global"});document.body&&b("CSS").addClass(document.body,"hasAXNavMenubar");this._hasBanner=document.body&&b("CSS").hasClass(document.body,"hasBanner");this._shown=!1;this._items=[];this._hotKeyTrigger=null;this._menubarMenuItems=b("DOMQuery").scry(this._menubar,'[role="button"]');this._menubarMenuItems.forEach(function(a){a.setAttribute("role","menuitem")});this._activeItem=this._menubarMenuItems[0];this._activeItemIndex=0;if(g!=null)for(var h in g)Object.prototype.hasOwnProperty.call(g,h)&&g[h]!=null&&g[h].disableTypeaheadActivation();this._setupEvents();this._keysSoFar="";this._clearKeysSoFarAfterDelay=b("debounce")(function(){this._keysSoFar=""}.bind(this),l);this._handlePageLoad()},_setupEvents:function(){this._menubarMenuItems[0].addEventListener("focus",this._showMenubar.bind(this)),this._menubar.addEventListener("keydown",this._checkHide.bind(this)),this._menubar.addEventListener("keyup",this._checkMenuSwitch.bind(this)),this._menubarMenus.forEach(function(a){a.menu.subscribe("show",this._menuShown.bind(this,a)),a.menu.subscribe("hide",this._menuHidden.bind(this,a)),a.menu.subscribe("done",this._checkBlur.bind(this)),a.menu.getRoot().addEventListener("keyup",this._checkMenuSwitch.bind(this))}.bind(this)),b("DOMEventListener").add(document,"click",this._checkClickBlur.bind(this)),this._sectionsMenu.subscribe("focus",this._highlightFocused.bind(this)),this._sectionsMenu.subscribe("blur",this._unhighlightFocused.bind(this)),this._accessibilityMenu&&this._accessibilityMenu.subscribe("itemclick",this._checkShortcutsShow.bind(this)),this._globalMenu&&this._globalMenu.subscribe("itemclick",this._checkLogEvent.bind(this)),b("gkx")("677762")&&(b("DOMEventListener").add(document,"keydown",this._checkHotKey.bind(this)),b("DOMEventListener").add(document,"keypress",this._trackHotKeyPress.bind(this)),b("DOMEventListener").add(document,"keyup",this._unsetHotKey.bind(this)))},_checkHide:function(a){a=b("Event").getKeyCode(a);if(a===b("RTLKeys").ESC){this._hideMenubar();this._returnFocus();return}a===b("RTLKeys").TAB&&b("setImmediate")(function(){this._hideMenubar()}.bind(this))},_returnFocus:function(){if(this._hotKeyTrigger)b("Focus").set(this._hotKeyTrigger,!0),this._hotKeyTrigger=null;else{var a=this._banner.nextElementSibling;b("TabbableElements").isTabbable(a)||(a=b("DOMTraverser").nextFilteredNode(document.body,a,b("TabbableElements").isTabbable));b("Focus").set(a)}},_setActiveItem:function(a){if(a<0||a>=this._menubarMenuItems.length)return;this._activeItem.setAttribute("tabindex","-1");this._activeItem=this._menubarMenuItems[a];this._activeItemIndex=a;this._activeItem.setAttribute("tabindex","0")},_checkMenuSwitch:function(event){__p&&__p();var a=b("Event").getKeyCode(event),c=this._menubarMenus.length,d=this._activeItemIndex;switch(a){case b("RTLKeys").getLeft():d=this._activeItemIndex===0?c-1:this._activeItemIndex-1;break;case b("RTLKeys").getRight():d=this._activeItemIndex===c-1?0:this._activeItemIndex+1;break;default:d=this._findItemToFocus(a);if(d<0)return!1}this._isShowingMenu&&this._isShowingMenu.done();this._setActiveItem(d);b("setTimeout")(function(){b("Focus").set(this._activeItem,!0)}.bind(this),0);return!0},_findItemToFocus:function(a){if(this._isShowingMenu)return-1;a=String.fromCharCode(a).toLowerCase();this._keysSoFar||(this._searchIndex=this._activeItemIndex);this._keysSoFar+=a;this._clearKeysSoFarAfterDelay();a=this._findMatchInRange(this._searchIndex+1,this._menubarMenuItems.length);a<0&&(a=this._findMatchInRange(0,this._searchIndex));return a<0?this._searchIndex:a},_findMatchInRange:function(a,b){for(var a=a;a<b;a++){var c=this._menubarMenuItems[a].innerText;if(c.toLowerCase().indexOf(this._keysSoFar)===0)return a}return-1},_menuShown:function(a){this._ignoreBlur=!0,this._isShowingMenu=a.menu,this._logEvent("menu_shown",a.logName)},_menuHidden:function(a){this._ignoreBlur=!1,this._isShowingMenu===a.menu&&(this._isShowingMenu=null)},_checkClickBlur:function(){this._ignoreBlur||this._checkBlur()},_checkBlur:function(){var a=b("getActiveElement")();this._shown&&a&&!b("DOM").contains(this._menubar,a)&&!this._ignoreBlur&&this._hideMenubar();this._highlighted&&(b("CSS").removeClass(this._highlighted,"_1toc"),this._highlighted=null)},_highlightFocused:function(a,c){this._highlighted&&b("CSS").removeClass(this._highlighted,"_1toc"),this._highlighted=b("ge")(c.item.getValue()),this._highlighted&&b("CSS").addClass(this._highlighted,"_1toc")},_unhighlightFocused:function(a,c){this._highlighted&&b("CSS").removeClass(this._highlighted,"_1toc")},_checkHotKey:function(a){__p&&__p();var c=b("Event").getKeyCode(a),d=a.altKey;if(!b("gkx")("677763")&&!b("KeyEventController").filterEventTargets(a,"keydown"))return;if(c===b("RTLKeys").FORWARD_SLASH&&d){c=b("getActiveElement")();this._listenHotKeyPress=!0;if(this._shown){this._menubarMenus.forEach(function(a){a.menu.done()});b("setTimeout")(function(){this._returnFocus(),this._hideMenubar()}.bind(this),0);return}if(c&&this._isInDialog(c))return;this._hotKeyTrigger=c;this._showMenubar();b("Focus").set(this._activeItem,!0);this._logEvent("hotkey_triggered","menubar");return}this._listenHotKeyPress=!1;this._shown&&this._checkHide(a)},_unsetHotKey:function(a){this._listenHotKeyPress=!1},_trackHotKeyPress:function(a){if(this._listenHotKeyPress){a=b("Event").getKeyCode(a);this._logEvent("hotkey_char",""+a)}},_handlePageLoad:function(){this._validateMainSection(),this._setupSectionsMenu(),this._setupAccessibilityMenu(),b("PageTransitions").registerCompletionCallback(function(){this._handlePageLoad()}.bind(this))},_validateMainSection:function(){var a=document.getElementById("content");if(!a)return;var c=b("DOMQuery").scry(a,'[role="main"]'),d=a.getAttribute("role")==="main";c.length&&d?a.setAttribute("role",""):!c.length&&!d&&a.setAttribute("role","main")},_isInDialog:function(a){a=a;while(a&&a!==document&&a.getAttribute("role")!=="dialog")a=a.parentNode;return a!==document},_hideMenubar:function(){if(!this._shown)return;this._shown=!1;b("KeyboardShortcuts").popLayer();b("CSS").addClass(this._banner,"_1toe");this._setActiveItem(0);!this._hasBanner&&document.body&&b("CSS").removeClass(document.body,"hasBanner");b("setTimeout")(function(){b("Event").fire(window,"scroll")},350)},_showMenubar:function(){__p&&__p();if(this._shown)return;this._shown=!0;this._ignoreBlur=!1;this._validateMainSection();this._setupSectionsMenu();this._setupAccessibilityMenu();b("KeyboardShortcuts").pushLayer();b("CSS").matchesSelector(this._banner.nextElementSibling,"._73y_")?b("CSS").addClass(this._banner,"_1tof"):b("CSS").removeClass(this._banner,"_1tof");b("CSS").removeClass(this._banner,"_1toe");!this._hasBanner&&document.body&&b("CSS").addClass(document.body,"hasBanner");b("setTimeout")(function(){b("Event").fire(window,"scroll"),b("Arbiter").inform("banner/shown",null,"state")},50);this._logEvent("shown","menubar")},_addMenuItem:function(a,c,d){c=b("Menu").buildItemFromData({ctor:b("MenuItem"),label:a,selected:!1,value:c,onclick:function(c){b("setTimeout")(function(){b("Focus").set(b("ge")(d),!0),this._hideMenubar()}.bind(this),0),this._logEvent("selected_item",a),this._ignoreBlur=!1}.bind(this)});this._sectionsMenu.addItem(c);this._items.push(c)},_getLandmarkSections:function(a){var b=[],c=[];a.forEach(function(a){var d=a.getAttribute("role");d==="main"?b.push(a):j.indexOf(d)>-1&&c.push(a)});return b.concat(c)},_computeElementLabel:function(a,b,c){__p&&__p();var d=a.getAttribute("id");c=c||[];var e=c.includes(d);!e&&d&&c.push(d);d=a.getAttribute("aria-labelledby");if(!e&&d){e=d.split(" ");var f="";e.forEach(function(a){a=document.getElementById(a);if(!a)return;f+=this._computeElementLabel(a,!1,c)}.bind(this));return f}d=a.getAttribute("aria-label");if(d)return d;return b?"":a.innerText?a.innerText.substring(0,100):""},_addSectionItems:function(a){__p&&__p();a.forEach(function(a){__p&&__p();if(!b("TabbableElements").isVisible(a)||!a.offsetHeight||!a.offsetWidth)return;var c=a.getAttribute("role");if(!c||!Object.prototype.hasOwnProperty.call(k,c))return;var d=k[c](this._computeElementLabel(a,!0)),e=a;if(c==="search"||c==="region"||c==="form"){c=b("DOMQuery").scry(a,".navigationFocus");c.length&&(e=c[0],!b("TabbableElements").isTabbable(e)&&b("TabbableElements").find(e).length&&(e=b("TabbableElements").find(e)[0]))}d&&this._addMenuItem(d,b("getOrCreateDOMID")(a),b("getOrCreateDOMID")(e))}.bind(this))},_setupSectionsMenu:function(){var a=b("DOMQuery").scry(document.body,"[role]");a=this._getLandmarkSections(a);this._cleanupSectionsMenu();this._addSectionItems(a)},_cleanupSectionsMenu:function(){while(this._items.length)this._sectionsMenu.removeItem(this._items.pop())},_setupAccessibilityMenu:function(){if(!this._accessibilityMenu)return;if(b("KeyboardShortcuts").hasFlyoutToShow()){var a=this._accessibilityMenu.getItemAt(0);a!==this._shortcutMenuItem&&this._accessibilityMenu.addItemBefore(this._shortcutMenuItem,a)}else this._accessibilityMenu.removeItem(this._shortcutMenuItem)},_logEvent:function(a,c){new(b("NavigationMenubarInteractionsTypedLogger"))().setAction(a).setTargetItem(c).log()},_checkShortcutsShow:function(a,c){c.item.getValue()==="key_shortcuts"&&(this._ignoreBlur=!1,this._hideMenubar(),b("setTimeout")(function(){b("KeyboardShortcuts").showShortcutFlyout()},0)),this._logEvent("selected_item_ax",c.item.getValue())},_checkLogEvent:function(a,b){a=b.item.getValue();this._logEvent("selected_item_global",a);this._ignoreBlur=!1},_getHelpDialogRequest:function(){if(!this._dialogRequest)this._dialogRequest=new(b("AsyncRequest"))("/ajax/keyboard_shortcuts"),this._dialogRequest.setReadOnly(!0);else if(this._dialogRequest.transport)return null;return this._dialogRequest}};e.exports=a}),null);
__d("BiometricDataField",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TIME_STAMP:"ts",WEB_SESSION_ID:"web_session_id",PAGE_URI:"page_uri",SCRIPT_PATH:"script_path",MOUSE_MOVEMENT_COORDINATES:"mouse_movement_coordinates",MOUSE_MOVEMENT_COORDINATES_NO_SCROLL:"mouse_movement_coordinates_no_scroll",MOUSE_CLICK_COORDINATES:"mouse_click_coordinates",MOUSE_CLICK_COORDINATES_NO_SCROLL:"mouse_click_coordinates_no_scroll",MOUSE_CLICK_DURATIONS:"mouse_click_durations",MOUSE_MOVEMENT_SPEEDS:"mouse_movement_speeds",MOUSE_MOVEMENT_ACCELERATIONS:"mouse_movement_accelerations",KEY_STROKE_TIMES:"key_stroke_times",KEY_STROKE_CATEGORIES:"key_stroke_categories",KEY_STROKE_DURATIONS:"key_stroke_durations",KEY_TO_KEY_DOWN_TIMES:"key_to_key_down_times",KEY_TO_KEY_UP_TIMES:"key_to_key_up_times",SCROLL_LENGTHS:"scroll_lengths",SCROLL_SPEEDS:"scroll_speeds",BOT_DETECTOR_RESULTS:"bot_detector_results",BOT_DETECTOR_CONFIDENCE_SCORES:"bot_detector_confidence_scores",BOT_SCORER_FEATURE_SCORES:"bot_scorer_feature_scores"})}),null);
__d("KeyStrokeCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,ALPHABETIC:1,NUMERIC:2,PUNCTUATION_AND_ARITHMETIC:3,NAVIGATION:4,BACKSPACE_AND_DELETE:5,SPECIAL:6})}),null);
__d("IntegrityKeyStrokeCategoryCollector",["BiometricDataField","Event","KeyStrokeCategory"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=65,h=90,i=48,j=57,k=96,l=105,m=106,n=111,o=186,p=222,q=9,r=33,s=40,t=8,u=46,v=0,w=[];a={attachListener:function(){b("Event").listen(window.document,"keydown",x)},storeData:function(){w.push(y(v)),v=0},clearData:function(){w=[],v=0},getData:function(){var a;if(w.every(function(a){return a===b("KeyStrokeCategory").NONE}))return{};var c=b("BiometricDataField").KEY_STROKE_CATEGORIES;return a={},a[c]=JSON.stringify(w),a}};function x(a){a.repeat||(v=a.keyCode)}function y(a){__p&&__p();if(z(v))return b("KeyStrokeCategory").ALPHABETIC;if(A(v))return b("KeyStrokeCategory").NUMERIC;if(B(v))return b("KeyStrokeCategory").PUNCTUATION_AND_ARITHMETIC;if(C(v))return b("KeyStrokeCategory").NAVIGATION;if(D(v))return b("KeyStrokeCategory").BACKSPACE_AND_DELETE;return v!==0?b("KeyStrokeCategory").SPECIAL:b("KeyStrokeCategory").NONE}function z(a){return a>=g&&a<=h}function A(a){return a>=i&&a<=j||a>=k&&a<=l}function B(a){return a>=m&&a<=n||a>=o&&a<=p}function C(a){return a===q||a>=r&&a<=s}function D(a){return a===t||a===u}e.exports=a}),null);
__d("IntegrityKeyStrokeTimeCollector",["BiometricDataField","Event","getTime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map(),i=[];a={attachListener:function(){b("Event").listen(window.document,"keydown",j),b("Event").listen(window.document,"keyup",k)},storeData:function(){var a=Array.from(h.keys()),b=a.find(function(a){return g.has(a)})||"",c=g.get(b)||0;b=h.get(b)||0;c&&b?i.push([c,b]):i.push([0,0]);a.forEach(function(a){g["delete"](a),h["delete"](a)})},clearData:function(){i=[],g.clear(),h.clear()},getData:function(){var a;if(i.every(function(a){return a[0]===0&&a[1]===0}))return{};var c=b("BiometricDataField").KEY_STROKE_TIMES;return a={},a[c]=JSON.stringify(i),a}};function j(a){!g.has(a.code)&&!a.repeat&&g.set(a.code,b("getTime")())}function k(a){g.has(a.code)&&!h.has(a.code)&&h.set(a.code,b("getTime")())}e.exports=a}),null);
__d("IntegrityMouseClickCollector",["BiometricDataField","Event"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=[],i=-1,j=-1,k=-1,l=-1;a={attachListener:function(){b("Event").listen(window.document,"click",m)},storeData:function(){g.push([i,j]),h.push([k,l]),i=-1,j=-1,k=-1,l=-1},clearData:function(){g=[],h=[]},getData:function(){var a;if(g.every(function(a){return a.length===2&&a[0]===-1&&a[1]===-1}))return{};var c=b("BiometricDataField").MOUSE_CLICK_COORDINATES,d=b("BiometricDataField").MOUSE_CLICK_COORDINATES_NO_SCROLL;return a={},a[c]=JSON.stringify(g),a[d]=JSON.stringify(h),a}};function m(a){i=a.pageX,j=a.pageY,k=a.clientX,l=a.clientY}e.exports=a}),null);
__d("IntegrityMouseClickDurationCollector",["BiometricDataField","Event","getTime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=0,i=0;a={attachListener:function(){b("Event").listen(window.document,"mousedown",j),b("Event").listen(window.document,"mouseup",k)},storeData:function(){g.push(i),i=0},clearData:function(){g=[],h=0,i=0},getData:function(){var a;if(g.every(function(a){return a===0}))return{};var c=b("BiometricDataField").MOUSE_CLICK_DURATIONS;return a={},a[c]=JSON.stringify(g),a}};function j(a){h=b("getTime")()}function k(a){i=b("getTime")()-h}e.exports=a}),null);
__d("IntegrityMouseMovementCollector",["BiometricDataField","Event"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=[],i=-1,j=-1,k=-1,l=-1;a={attachListener:function(){b("Event").listen(window.document,"mousemove",m)},storeData:function(){g.push([i,j]),h.push([k,l])},clearData:function(){g=[],h=[]},getData:function(){var a;if(g.every(function(a){return a.length===2&&a[0]===-1&&a[1]===-1}))return{};var c=b("BiometricDataField").MOUSE_MOVEMENT_COORDINATES,d=b("BiometricDataField").MOUSE_MOVEMENT_COORDINATES_NO_SCROLL;return a={},a[c]=JSON.stringify(g),a[d]=JSON.stringify(h),a}};function m(a){i=a.pageX,j=a.pageY,k=a.clientX,l=a.clientY}e.exports=a}),null);
__d("IntegrityScrollLengthCollector",["BiometricDataField"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=window.pageYOffset;a={attachListener:function(){},storeData:function(){var a=window.pageYOffset;g.push(a-h);h=a},clearData:function(){g=[],h=window.pageYOffset},getData:function(){var a;if(g.every(function(a){return a===0}))return{};var c=b("BiometricDataField").SCROLL_LENGTHS;return a={},a[c]=JSON.stringify(g),a}};e.exports=a}),null);
__d("XIntegrityBiometricLoggingAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/ibl/",{})}),null);
__d("IntegrityBiometricsLogger",["AsyncRequest","BiometricDataField","XIntegrityBiometricLoggingAsyncController","IntegrityKeyStrokeCategoryCollector","IntegrityKeyStrokeTimeCollector","IntegrityMouseClickCollector","IntegrityMouseClickDurationCollector","IntegrityMouseMovementCollector","IntegrityScrollLengthCollector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("IntegrityKeyStrokeCategoryCollector"),b("IntegrityKeyStrokeTimeCollector"),b("IntegrityMouseClickCollector"),b("IntegrityMouseClickDurationCollector"),b("IntegrityMouseMovementCollector"),b("IntegrityScrollLengthCollector")];a={attachListeners:function(){g.forEach(function(a){return a.attachListener()})},storeData:function(){g.forEach(function(a){return a.storeData()})},clearData:function(){g.forEach(function(a){return a.clearData()})},logData:function(a){var c=b("XIntegrityBiometricLoggingAsyncController").getURIBuilder().getURI(),d=h(),e=b("BiometricDataField").WEB_SESSION_ID,f=b("BiometricDataField").PAGE_URI,g=b("BiometricDataField").SCRIPT_PATH;new(b("AsyncRequest"))(c).setData(babelHelpers["extends"]((c={},c[e]=a.webSessionID,c[f]=a.currentPageURI,c[g]=a.scriptPath,c),d)).setOption("suppressEvaluation",!0).send()}};function h(){return g.map(function(a){return a.getData()}).reduce(function(a,b){return babelHelpers["extends"]({},a,b)},{})}e.exports=a}),null);
__d("IntegrityBiometricsScheduler",["BotDetectionMouseMovementSitevarConfig","IntegrityBiometricsLogger","Run","URI","getTime","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BotDetectionMouseMovementSitevarConfig").run_time_ms,h=b("BotDetectionMouseMovementSitevarConfig").interval_time_ms,i=!1,j=!1,k,l,m,n={schedule:function(a){if(!i){i=!0;l=b("getTime")();k=a;b("IntegrityBiometricsLogger").attachListeners();m=setInterval(n._storeData,h);a=!0;b("Run").onBeforeUnload(n._handlePageTransition,a)}},_storeData:function(){__p&&__p();if(j){clearInterval(m);return}if(b("getTime")()-l>g){b("IntegrityBiometricsLogger").logData({webSessionID:b("guid")(),currentPageURI:b("URI").getRequestURI().getPath(),scriptPath:k});b("IntegrityBiometricsLogger").clearData();j=!0;clearInterval(m);return}b("IntegrityBiometricsLogger").storeData()},_handlePageTransition:function(){j||(b("IntegrityBiometricsLogger").logData({webSessionID:b("guid")(),currentPageURI:b("URI").getRequestURI().getPath(),scriptPath:k}),b("IntegrityBiometricsLogger").clearData()),i=!1,j=!1}};e.exports=n}),null);
__d("BlueBarFocusListener",["CSS","Deferred","Event","TimeSlice","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g="f_key",h="f_click",i=null,j=function(){i=null};function k(a){b("CSS").removeClass(a,g),b("CSS").removeClass(a,h)}var l=b("TimeSlice").guard(function(a){i&&i.reject(),i=new(b("Deferred"))(),b("promiseDone")(i.getPromise().then(function(c){k(a),b("CSS").addClass(a,c)}),j,j)},"BlueBarFocusListener focusIn",{propagationType:b("TimeSlice").PropagationType.ORPHAN});function m(){i&&i.resolve(g)}function n(a){i&&i.reject(),b("CSS").removeClass(a,g),b("CSS").addClass(a,h)}function o(a){return function(event){a(event.getTarget())}}a={listen:function(a){if(!a)return;b("Event").listen(a,"focusout",o(k));b("Event").listen(a,"focusin",o(l));b("Event").listen(a,"click",o(n));b("Event").listen(a,"keyup",m)}};e.exports=a}),null);
__d("RoyalBluebarTransitions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INDETERMINATE:"Indeterminate",PULSE:"Pulse",SHIMMER:"Shimmer",NONE:"none",OFF:"off",PULSE_GIF_2S:"pulse_gif1",PULSE_GIF_2S_DARKER:"pulse_gif2",PULSE_GIF_3S:"pulse_gif3"})}),null);
__d("RoyalBluebar",["cx","Arbiter","BigPipe","CSS","Event","QuicklingFetchStreamConfig","RoyalBluebarTransitions","Run","SubscriptionsHandler","clearTimeout","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null,i=!1,j=b("QuicklingFetchStreamConfig"),k=j.experimentName,l=k!==b("RoyalBluebarTransitions").OFF&&k!==b("RoyalBluebarTransitions").NONE;function m(){h&&h()}var n={_subscriptionHandler:null,_getSubscriptionHandler:function(){this._subscriptionHandler||(this._subscriptionHandler=new(b("SubscriptionsHandler"))(),b("Run").onUnload(function(){this._subscriptionHandler.release(),this._subscriptionHandler=null}.bind(this)));return this._subscriptionHandler},fixOnScroll:function(a){this._getSubscriptionHandler().addSubscriptions(b("Arbiter").subscribe("bluebarFixedBehaviorController/isfixed",function(c,d){c="_50ti";var e="_33rf";a.firstChild instanceof Element&&b("CSS").conditionClass(a.firstChild,c,d);a.firstChild instanceof Element&&b("CSS").conditionClass(a.firstChild,e,!d);b("Arbiter").inform("reflow")}))},informOnClick:function(a){this._getSubscriptionHandler().addSubscriptions(b("Event").listen(a,"click",function(event){b("Arbiter").inform("BlueBar/homeClick",event)===!1&&event.preventDefault()}))},stopAnimatingAfterDD:function(){var a=b("Arbiter").subscribeOnce(b("BigPipe").Events.init,function(a,c){c.arbiter.subscribeOnce(b("BigPipe").Events.displayed,m)}),c=b("Run").onAfterLoad(m);h=function(){h=null,b("Arbiter").unsubscribe(a),c.remove(),n.stopTransitionAnimation()}},startTransitionAnimation:function(){if(l){h&&h();var a=b("ge")(j.bluebarTransitionElement);a&&b("CSS").addClass(a,j.bluebarTransitionClass)}},stopTransitionAnimation:function(){__p&&__p();if(l){var a=j,c=b("ge")(a.bluebarTransitionElement);if(!c)return;if(k===b("RoyalBluebarTransitions").INDETERMINATE){if(!i){i=!0;b("CSS").addClass(c,"finishing");var d;h=function(){h=null,i=!1,b("clearTimeout")(d),b("CSS").removeClass(c,"finishing"),b("CSS").removeClass(c,a.bluebarTransitionClass)};d=b("setTimeoutAcrossTransitions")(h,200)}}else b("CSS").removeClass(c,a.bluebarTransitionClass)}}};e.exports=n}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","CurrentUser","Event","MercuryIDs","MercuryParticipantTypes","Parent","WorkGalahadSettings","WorkplaceChatHelper","gkx","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null;b("requireWeak")("FantaTabsReactApp",function(a){return h=a});b("requireWeak")("FantaTabsSlimApp",function(a){return h=a});function i(a,c,d,e){b("Event").listen(a,"click",function(f){(b("WorkGalahadSettings").isGalahadEnabled||l.canOpenTab()||b("CurrentUser").isWorkUser()&&b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()&&b("gkx")("678256"))&&(e(c,d),a.removeAttribute("ajaxify"),a.removeAttribute("rel"),f.preventDefault())})}function j(a,c,d,e){b("Event").listen(a,"click",function(a){l.canOpenTab()&&e(c,d)})}function k(a){a=b("ContextualThing").getContext(a);return a&&b("Parent").bySelector(a,"._3qw")!==null}var l={canOpenTab:function(){return h&&!h.isHidden()},listenOpenEmptyTabDEPRECATED:function(a,b){i(a,null,b,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function(a,b,c){i(a,b,c,function(a,b){return this.loadAndOpenFantaTab(a,b,c)}.bind(this))},listenOpenUserTabDEPRECATED:function(a,c,d){k(a)||i(a,c,d,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").USER,d)}.bind(this))},listenOpenUserTabPersistentEventDEPRECATED:function(a,c,d){k(a)||j(a,c,d,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").USER,d)}.bind(this))},listenOpenPageTabDEPRECATED:function(a,c,d,e){k(a)||i(a,c,e,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").PAGE,e)}.bind(this))},listenOpenPageTabPersistentEventDEPRECATED:function(a,c,d,e){k(a)||j(a,c,e,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").PAGE,e)}.bind(this))},loadAndOpenFantaTab:function(a,c,d){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(e,f){if(c===b("MercuryParticipantTypes").USER||c===b("MercuryParticipantTypes").PAGE){var g=b("MercuryIDs").getThreadIDFromUserID(a);f.openTab(g,[d]);e.logUserClickOpen(d,a)}else f.openTab(a,[d]),e.logClickOpen(d,a)},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function(){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MessengerState.bs"],function(a,c,d){d=d.createNewLocalThreadGenerateID(b("CurrentUser").getID());c.openNewMessageTab(d,"jewel_new_message");a.logClickOpen("EmptyTab")},"ChatOpenTab")}};e.exports=l}),null);
__d("FacebookWebNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2382846945064526",queryID:"1138169679678964"})}),null);
__d("FacebookWebNotificationsSubscription",["invariant","BanzaiODS","BaseGraphQLSubscription","CurrentUser","FacebookWebNotificationsSubscriptionWebGraphQLSubscription","StreamStateMachineConstants","SubscriptionsHandler","WebPixelRatio","uuid"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("StreamStateMachineConstants").events,j="WEB_DESKTOP",k=[],l=null,m="www.notifications.lifecycle",n=0,o=!1,p=!1;h=babelHelpers.inherits(q,b("BaseGraphQLSubscription"));h&&h.prototype;q.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/actor_id_"+a.actorID+"_environment_"+j};q.prototype.getQueryID=function(){"use strict";return b("FacebookWebNotificationsSubscriptionWebGraphQLSubscription").getDocID()};q.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:j}),is_work_user:b("CurrentUser").isWorkUser(),scale:b("WebPixelRatio").get()}};q.prototype.getSubscriptionCallName=function(){"use strict";return"web_notification_receive_subscribe"};function q(){"use strict";h.apply(this,arguments)}function r(a){__p&&__p();a=Date.now()-a;if(a<6e4)return"1m";else if(a<3e5)return"5m";else if(a<9e5)return"15m";else if(a<18e5)return"30m";else if(a<36e5)return"1h";else return">1h"}function s(a){__p&&__p();if(a.__type==="lifecycle_event"){var c=a.state;if(c===i.GQLS_STATE_TRANSIT_ON_CREATE){n=Date.now();return}if(o&&c===i.GQLS_STATE_TRANSIT_ON_ACTIVE){var d=i.GQLS_STATE_TRANSIT_ON_RESUME,e=r(n);b("BanzaiODS").bumpEntityKey(m,d);p||(e!=null&&b("BanzaiODS").bumpEntityKey(m,"first."+d+"."+e),p=!0);b("BanzaiODS").bumpEntityKey(m,d+"."+e);return}b("BanzaiODS").bumpEntityKey(m,c);if(c===i.GQLS_STATE_TRANSIT_ON_PAUSE){if(!o){o=!0;d=r(n);d!=null&&b("BanzaiODS").bumpEntityKey(m,c+"."+d)}n=Date.now()}return}e=a.web_notification_receive_subscribe;if(e==null)return;b("BanzaiODS").bumpEntityKey(m,"payload");var f=e.aggregated_notification,g=e.notification,h=e.pinned_conversation,j=e.should_play_sound,l=e.should_show_beeper;k.forEach(function(a){switch(a.event){case"NEW_BEEPER":g!=null&&l===!0&&a.callback({notification:g,should_play_sound:!!j});break;case"NEW_NOTIFICATION":f!=null&&a.callback(f);break;case"NEW_PINNED_CONVERSATION":h!=null&&a.callback(h);break}})}e.exports={subscribe:function(a){__p&&__p();k.push(a);l===null&&(l=new(b("SubscriptionsHandler"))(),l.addSubscriptions(q.subscribe({actorID:b("CurrentUser").getID()},s)));var c=!1;return{remove:function(){if(c===!0)return;l!=null||g(0,3589);c=!0;k.splice(k.indexOf(a),1);k.length===0&&(l.release(),l=null)}}}}}),null);
__d("NotificationBeeperConst",["keyMirror"],(function(a,b,c,d,e,f){a={IDLE_DELAY:1e4,ACTIVE_DELAY_LONG:4e3,FADE_OUT_LENGTH:1500,BeepStates:b("keyMirror")({PENDING:!0,RENDERED:!0,READY_TO_HIDE:!0,FADING_OUT:!0})};e.exports=a}),null);
__d("NotificationBeeperItemCloseButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=h._("Close");return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:"_3soc",title:a,label:a,labelIsHidden:!0}))};function a(){"use strict";i.apply(this,arguments)}e.exports=a}),null);
__d("QPLTimeToLoadHelper",["QuickPerformanceLogger","Run","crc32","performance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a&&b("crc32")(a)||0}function h(a){return b("performance")&&b("performance").timing&&b("performance").timing.navigationStart&&a<b("performance").timing.navigationStart?a+b("performance").timing.navigationStart:a}function i(a){a.time!=null&&(a.time=h(a.time));var c=g(a.instanceKey);b("QuickPerformanceLogger").markerStart(a.qplMarker,c,a.time);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,"SOURCE",a.source,c);b("Run").onUnload(function(){return b("QuickPerformanceLogger").markerEnd(a.qplMarker,"CANCEL",c)})}a={startWithClickEvent:function(a){i(babelHelpers["extends"]({},a,{time:a.event.timeStamp}))},start:function(a){i(a)},annotateString:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerString(a.qplMarker,a.annotationKey,a.annotationValue,c)},annotateInt:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,a.annotationKey,a.annotationValue,c)},addPoint:function(a){var c=g(a.instanceKey);b("QuickPerformanceLogger").markerPoint(a.qplMarker,a.pointName,a.data,c,a.time!=null?h(a.time):a.time)},end:function(a){var c=a.time!=null?h(a.time):a.time,d=g(a.instanceKey);b("QuickPerformanceLogger").annotateMarkerInt(a.qplMarker,"END_TIME",c==null?-1:c,d);b("QuickPerformanceLogger").markerEnd(a.qplMarker,a.action?a.action:"SUCCESS",d,c)}};e.exports=a}),null);
__d("XLiveVideoLoadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/video/load/",{video_id:{type:"FBID",required:!0}})}),null);
__d("NotificationListRendererUtils",["AsyncRequest","Bootloader","FBLogger","FeedQuickLogModule","NavigationMetrics","NotificationURI","PageTransitions","QPLTimeToLoadHelper","URI","VideoChainingCaller","XLiveVideoLoadController","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(event,a){b("Bootloader").loadModules(["FBStoriesLiveNotificationHandler"],function(b){b.renderLiveStory(a)},"NotificationListRendererUtils")}function h(event,a,c){b("Bootloader").loadModules(["TahoeController"],function(d){var e=b("NotificationURI").localize(new(b("URI"))(c.url)),f=a.video_channel_caller;d.openFromVideoLink(new(b("URI"))(e),{channelID:a.video_channel_id,caller:f?(d=b("VideoChainingCaller"))!=null?d[f]:d:null})},"NotificationListRendererUtils")}function i(a,c){b("QPLTimeToLoadHelper").start({source:"notifications",qplMarker:b("FeedQuickLogModule").COMMENT_TTL_WWW,time:a.timeStamp}),c.notif_type?b("QPLTimeToLoadHelper").annotateString({source:"notifications",qplMarker:b("FeedQuickLogModule").COMMENT_TTL_WWW,annotationKey:"NOTIF_TYPE",annotationValue:c.notif_type}):b("FBLogger")("comet_notifications").addMetadata("COMET_NOTIFICATION","ALERT_ID",c.alert_id||"UNKONWN").mustfix("Missing notification type",c.alert_id)}function j(a,c){b("QPLTimeToLoadHelper").start({source:"notifications",qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,time:a.timeStamp}),c.notif_type?b("QPLTimeToLoadHelper").annotateString({source:"notifications",qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,annotationKey:"NOTIF_TYPE",annotationValue:c.notif_type}):b("FBLogger")("comet_notifications").addMetadata("COMET_NOTIFICATION","ALERT_ID",c.alert_id||"UNKONWN").mustfix("Missing notification type"),b("NavigationMetrics").once(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,c){a=c.tti;c.tti||(a=c.e2e,b("QPLTimeToLoadHelper").annotateString({qplMarker:b("FeedQuickLogModule").LOAD_STORY_PERMALINK_FROM_ANYWHERE_WWW,annotationKey:"TIMESTAMP_ERROR",annotationValue:"NO_TTI"}));b("QPLTimeToLoadHelper").end({qplMarker:b("FeedQuickLogModule").LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW,time:a})})}var k={openNotification:function(event,a){__p&&__p();var c=a.renderer_data;if(c==null)return;if(!k.isStoryOnlyLiveVideoNotification(a)&&(event.metaKey||event.ctrlKey||event.button===1))return;if(c.__typename==="LiveVideoNotificationRendererData"){event.preventDefault();c=b("XLiveVideoLoadController").getURIBuilder().setFBID("video_id",c.video_id).getURI();c=new(b("AsyncRequest"))(c).setHandler(function(c){c.payload?k.openNotificationInSurface(event,a):b("PageTransitions").go(a.url)});c.send()}},openNotificationInSurface:function(event,a){var b=a.renderer_data;if(b==null)return;b.bucket_data?g(event,b):b.can_render_in_tahoe&&h(event,b,a)},isStoryOnlyLiveVideoNotification:function(a){a=a.renderer_data;return a==null?!1:a.__typename==="LiveVideoNotificationRendererData"&&!!a.bucket_data},startTTLMarkers:function(a,c){b("gkx")("678283")&&i(a,c),b("gkx")("678284")&&j(a,c)}};e.exports=k}),null);
__d("RelationshipDelightTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RelationshipDelightLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAlertID=function(a){this.$1.alert_id=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setMetadata=function(a){this.$1.metadata=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={alert_id:!0,event:!0,metadata:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RelationshipDelightUtils",["NotificationRelationshipDelightsConfig","QE2Logger","RelationshipDelightTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function h(a){a=a.eligible_buckets;return!!a&&a.indexOf("SO_NOTIFICATIONS")!==-1}function i(){b("QE2Logger").logExposureForUser(b("NotificationRelationshipDelightsConfig").universeName)}function a(a){var c=b("NotificationRelationshipDelightsConfig").shouldDecorateNotificationWithHearts,d=b("NotificationRelationshipDelightsConfig").shouldLogExposureForNotification;if(h(a)===!1)return!1;d&&i();return c===!0}function j(a,event,c){var d=event+"-"+a;if(g[d])return;g[d]=!0;d=new(b("RelationshipDelightTypedLogger"))().setEvent(event).setAlertID(a);c&&d.setMetadata(JSON.stringify(c));d.log()}c={shouldHeartBadge:function(a){var c=b("NotificationRelationshipDelightsConfig").shouldDecorateBadgeWithHearts,d=b("NotificationRelationshipDelightsConfig").shouldLogExposureForBadge;if(h(a)===!1)return!1;d&&i();return c===!0},shouldHeartBeeper:a,shouldHeartNotification:a,logNotificationAnimation:function(a,b,c){j(a,"notification_animated",{animation:b,rowIndex:c})},logBeeperAnimation:function(a){j(a,"beeper_animated")},logBadgeAnimation:function(a){j(a,"badge_animated")}};e.exports=c}),null);
__d("NotificationBeeperItemContents.react",["cx","Animation","AsyncRequest","BootloadedComponent.react","Bootloader","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","JSResource","NotificationBeeperItemCloseButton.react","NotificationInterpolator","NotificationListRendererUtils","NotificationURI","NotificationUserActions","React","ReactDOM","RelationshipDelightUtils","TextWithEntities.react","Timestamp.react","URI"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.isLiveVideo=null,this.$2=function(a){__p&&__p();this.$1();this.props.onHide();if(a.button===1||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return;var c=this.props.notification;b("NotificationListRendererUtils").openNotification(a,c);if(a.isDefaultPrevented()===!0)return;var d=c.primerAttributes;if(d&&(d.rel==="async"||d.rel==="async-post")){var e=new(b("AsyncRequest"))(d.ajaxify||c.url);d.rel==="async-post"&&e.setMethod("POST");e.send();a.preventDefault()}else d&&d.rel==="theater"?(a.persist(),b("Bootloader").loadModules(["PhotoSnowlift"],function(b){b.bootstrap(d.ajaxify||c.url,a.currentTarget)},"NotificationBeeperItemContents.react"),a.preventDefault()):d&&(d.rel==="dialog"||d.rel==="dialog-post")&&(b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(d.ajaxify||c.url,a.currentTarget,"dialog")},"NotificationBeeperItemContents.react"),a.preventDefault())}.bind(this),this.$3=function(){this.$1(),this.props.onHide()}.bind(this),c}a.prototype.$1=function(){"use strict";b("NotificationUserActions").markNotificationsAsRead([this.props.notification.alert_id])};a.prototype.$4=function(){"use strict";new(b("Animation"))(b("ReactDOM").findDOMNode(this.refs.inner)).from("opacity","0").to("opacity","1").duration(200).go()};a.prototype.$5=function(){"use strict";var a=this.$6();a=JSON.parse(a);return a.content_id};a.prototype.$7=function(){"use strict";if(this.isLiveVideo===null){var a=this.$6();this.isLiveVideo=a.indexOf("live_video")!==-1}return!!this.isLiveVideo};a.prototype.$6=function(){"use strict";return this.props.notification.tracking||"{}"};a.prototype.$8=function(){"use strict";var a=this.props.notification,c=b("RelationshipDelightUtils").shouldHeartBeeper(a);if(!c)return null;b("RelationshipDelightUtils").logBeeperAnimation(a.alert_id);return b("React").createElement("div",{className:"_5_xp"},b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("RelationshipDelightsActorAnimation.react").__setRef("NotificationBeeperItemContents.react")}))};a.prototype.componentDidMount=function(){"use strict";this.props.onReadyToHide(this.props.notification.alert_id),this.$7()&&b("Bootloader").loadModules(["VideoPlayerMetaData","PhotoSnowliftVideoNode"],function(a,b){b=this.$5();b&&a.genVideoData(b)}.bind(this),"NotificationBeeperItemContents.react")};a.prototype.componentDidUpdate=function(a){"use strict";(a.notification.alert_id!==this.props.notification.alert_id||a.notification.creation_time!==this.props.notification.creation_time)&&(this.$4(),this.props.onReadyToHide(this.props.notification.alert_id))};a.prototype.render=function(){"use strict";var a=this.props.notification,c=a.thumbnail?a.thumbnail.uri:null,d=a.icon?a.icon.uri:null,e=b("NotificationURI").localize(new(b("URI"))(a.url));return b("React").createElement("div",{ref:"inner",className:this.props.className},b("React").createElement(b("NotificationBeeperItemCloseButton.react"),{onClick:this.$3}),b("React").createElement("a",{href:e,onClick:this.$2,className:"_3soi"},b("React").createElement(b("ImageBlock.react"),{className:"_3soj",spacing:"medium"},b("React").createElement(b("FBProfilePhotoShadow.react"),{className:"_2yt7"},b("React").createElement(b("Image.react"),{src:c,className:"_3sok"+(c?"":" hidden_elem")})),b("React").createElement("div",{className:"_3sol"},b("React").createElement(b("TextWithEntities.react"),{renderEmoticons:!0,renderEmoji:!0,interpolator:b("NotificationInterpolator"),ranges:a.title.ranges,aggregatedranges:a.title.aggregated_ranges,text:a.title.text}),b("React").createElement(b("ImageBlock.react"),{className:"_3som"},b("React").createElement(b("Image.react"),{className:"_1x8t"+(d?"":" hidden_elem"),src:d}),b("React").createElement(b("Timestamp.react"),{time:a.timestamp.time,text:a.timestamp.text,verbose:a.timestamp.verbose})))),this.$8()))};e.exports=a}),null);
__d("NotificationBeeperItem.react",["cx","CSSFade","NotificationBeeperConst","NotificationBeeperItemContents.react","NotificationBeeperItemRenderersList","React","ReactDOM","Style","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("NotificationBeeperConst").FADE_OUT_LENGTH;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={encounteredException:!1,fadedIn:!1,hidden:!1},this.$3=function(){this.setState({hidden:!0})}.bind(this),b}a.prototype.componentDidCatch=function(){"use strict";this.props.onReadyToHide(this.props.notification.alert_id),this.setState(function(a){return babelHelpers["extends"]({},a,{encounteredException:!0})})};a.prototype.componentDidMount=function(){"use strict";b("setTimeoutAcrossTransitions")(function(){this.setState({fadedIn:!0})}.bind(this),50),this.props.onInserted(this.props.notification.alert_id)};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.cancel()};a.prototype.render=function(){"use strict";if(this.state.encounteredException)return null;var a=this.props.notification,c=a.renderer_data;a=a.tracking;c=this.$4(c);return b("React").createElement("li",{className:this.state.hidden?"hidden_elem":"",ref:function(a){return this.$2=a}.bind(this),"data-gt":a},b("React").createElement(c,{className:"_3sod"+(this.state.fadedIn?" _3soe":""),notification:this.props.notification,onHide:this.$3,onReadyToHide:this.props.onReadyToHide,onPreventHide:this.props.onPreventHide}))};a.prototype.componentDidUpdate=function(a,c,d){"use strict";if(!this.$2)return;a=b("ReactDOM").findDOMNode(this.$2);if(!a)return;this.props.fadingOut?(this.$1=b("CSSFade").hide(a,{callback:this.$3,duration:i}),a.style.transitionDuration="0ms"):(this.$1&&(this.$1.cancel(),this.$1=void 0),b("Style").set(a,"opacity","1"))};a.prototype.$4=function(a){"use strict";return a&&a.__typename==="LiveVideoNotificationRendererData"&&a.video_id==null?b("NotificationBeeperItemContents.react"):b("NotificationBeeperItemRenderersList")[a&&a.__typename]||b("NotificationBeeperItemContents.react")};e.exports=a}),null);
__d("NotificationImpressions",["AsyncSignal","NotificationTokens","URI"],(function(a,b,c,d,e,f){var g="/ajax/notifications/impression.php";function a(a,c){var d={ref:c};b("NotificationTokens").untokenizeIDs(a).forEach(function(a,b){d["alert_ids["+b+"]"]=a});new(b("AsyncSignal"))(new(b("URI"))(g).getQualifiedURI().toString(),d).send()}e.exports={log:a}}),null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){__p&&__p();var g="fb_sounds_playing3";function h(){__p&&__p();var a=b("WebStorage").getLocalStorage();if(a)try{a=a[g];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function i(a){var c=b("WebStorage").getLocalStorage();if(c){var d=h();d.push(a);while(d.length>5)d.shift();try{c[g]=JSON.stringify(d)}catch(a){}}}function j(a){return h().some(function(b){return b===a})}a={play:function(a,c,d){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(j(c))return;b("SoundPlayer").play(a,{loop:!!d});i(c)},isSupported:function(){return!!b("WebStorage").getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["Event","FBJSON","SoundSynchronizer"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c,d){b("SoundSynchronizer").play(a,c,d)}a={playLocal:g,playRemote:function(a,c,d,e){c={name:"SoundRPC",data:{paths:c,sync:d,loop:e}};a.postMessage(b("FBJSON").stringify(c),"*")},supportsRPC:function(){return!!window.postMessage},_listen:function(){b("Event").listen(window,"message",function(a){if(!/\.facebook.com$/.test(a.origin))return;var c={};try{c=b("FBJSON").parse(a.data)}catch(a){}c.name==="SoundRPC"&&g(c.data.paths,c.data.sync,c.data.loop)})}};e.exports=a}),null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=!1;c={init:function(a){},play:function(a,c,d){g?b("SoundRPC").playRemote(g.contentWindow,a,c,!1):b("SoundRPC").playLocal(a,c,d),h=!0},hasPlayedSoundBefore:function(){return h},playOnlyIfImmediate:function(a,c,d){if(!h&&b("Visibility").isHidden())return;this.play(a,c,d)},stop:function(a){g||b("SoundPlayer").stop(a)}};d=new(b("URI"))(location.href);d.getSubdomain()&&d.getSubdomain()!=="www"&&d.setSubdomain("www");f=d.getDomain();function a(){if(b("UserAgent_DEPRECATED").ie()<9)return!1;return b("SoundInitialData").RPC_DISABLED?!1:b("SoundSynchronizer").isSupported()&&b("SoundRPC").supportsRPC()}b("isFacebookURI")(d)&&location.host!==f&&a()&&(g=document.createElement("iframe"),g.setAttribute("src","//"+f+"/sound_iframe.php"),g.style.display="none",document.body&&document.body.appendChild(g));e.exports=c}),null);
__d("NotificationSound",["Sound"],(function(a,b,c,d,e,f){__p&&__p();var g=5e3;b("Sound").init(["audio/mpeg"]);function a(a){this._soundPath=a,this._lastPlayed=0}Object.assign(a.prototype,{play:function(a){if(!this._soundPath)return;var c=Date.now();if(c-this._lastPlayed<g)return;this._lastPlayed=c;b("Sound").playOnlyIfImmediate(this._soundPath,a,!1)}});e.exports=a}),null);
__d("NotificationBeeper.react",["cx","Arbiter","ChannelConstants","FacebookWebNotificationsSubscription","NotificationBeeperConst","NotificationBeeperItem.react","NotificationConstants","NotificationImpressions","NotificationSound","NotificationUpdates","NotificationUserActions","NotifTestIDs","React","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("NotificationBeeperConst").ACTIVE_DELAY_LONG,j=b("NotificationBeeperConst").BeepStates,k=b("NotificationBeeperConst").FADE_OUT_LENGTH,l=b("NotificationBeeperConst").IDLE_DELAY,m="beeper";c=b("NotificationConstants").PayloadSourceType;var n=c.CLIENT,o=c.OTHER_APPLICATION;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={beeps:{},fading:!1,hovering:!1,soundEnabled:this.props.soundEnabled},this.onMouseEnter=function(){this.$2&&b("clearTimeout")(this.$2);var a=[],c=this.state.beeps;Object.keys(c).forEach(function(b){c[b].state!=j.PENDING?a.push(b):c[b].state=j.RENDERED});b("NotificationUserActions").markNotificationsAsSeen(a);this.setState({hovering:!0,fading:!1,beeps:c})}.bind(this),this.onMouseLeave=function(){this.$5(i),this.setState({hovering:!1})}.bind(this),this.$6=function(a){this.state.hovering||this.$5(),this.state.soundEnabled&&this.state.beeps[a].shouldPlaySound&&(this.$3||(this.$3=new(b("NotificationSound"))(this.props.soundPath)),this.$3.play(a)),this.props.shouldLogImpressions&&b("NotificationImpressions").log([a],m)}.bind(this),this.onReadyToHide=function(a,b){this.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:j.READY_TO_HIDE});return babelHelpers["extends"]({},b,{beeps:c})}),this.$2||this.$5(b)}.bind(this),this.$8=function(a){this.setState(function(b){var c=babelHelpers["extends"]({},b.beeps);c[a]=babelHelpers["extends"]({},c[a],{state:j.RENDERED});return babelHelpers["extends"]({},b,{beeps:c})})}.bind(this),this.$7=function(){this.$2=null,this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.READY_TO_HIDE&&(b[a]=babelHelpers["extends"]({},b[a],{state:j.FADING_OUT}))});return babelHelpers["extends"]({},a,{beeps:b,fading:!0})}),b("setTimeoutAcrossTransitions")(b("shield")(this.$9,this),k)}.bind(this),this.$9=function(){__p&&__p();if(!this.state.fading)return;this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.FADING_OUT&&delete b[a]});return babelHelpers["extends"]({},a,{beeps:b,fading:!1})});b("setTimeoutAcrossTransitions")(function(){this.setState(function(a){var b=babelHelpers["extends"]({},a.beeps);Object.keys(b).forEach(function(a){b[a].state==j.PENDING&&(b[a]=babelHelpers["extends"]({},b[a],{state:j.RENDERED}))});return babelHelpers["extends"]({},a,{beeps:b})})}.bind(this))}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";__p&&__p();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("NotificationUpdates").subscribe("update-notifications",function(a,b){if(b.payloadsource===o||b.payloadsource===n){a=b.nodes;a&&a.length&&this.handleBeepChanges(this.$4(a))}}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notif_sound_pref_changed"),function(a,b){this.setState({soundEnabled:b.obj.enabled})}.bind(this)));a.addSubscriptions(b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_BEEPER",callback:function(a){var b=a.notification;a=a.should_play_sound;if(b!==null){var c;this.handleBeepChanges((c={},c[b.alert_id]={notification:b,shouldPlaySound:a},c))}}.bind(this)}));this.$1=a;b("Arbiter").inform("NotificationBeeper/mounted",null,"persistent")};a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.release(),this.$1=null};a.prototype.$5=function(a){"use strict";this.$2&&b("clearTimeout")(this.$2),this.$2=b("setTimeoutAcrossTransitions")(b("shield")(this.$7,this),a==null?l:a)};a.prototype.handleBeepChanges=function(a){"use strict";var b=this.state.fading?j.PENDING:j.RENDERED,c=!1,d=babelHelpers["extends"]({},this.state.beeps);Object.keys(a).reverse().forEach(function(e){var f=a[e],g=d[e];(!g||g.notification.alert_id!==f.notification.alert_id||g.notification.creation_time!==f.notification.creation_time)&&(g&&(c=!0,delete d[e]),d[e]=babelHelpers["extends"]({},f,{state:b}))});c&&this.$5();this.setState({beeps:d})};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.beeps,c=[];Object.keys(a).reverse().forEach(function(d){var e=a[d];if(e.state==j.PENDING)return;c.push(b("React").createElement(b("NotificationBeeperItem.react"),{key:d,fadingOut:this.state.fading&&e.state==j.FADING_OUT,notification:e.notification,onInserted:this.$6,onReadyToHide:this.onReadyToHide,onPreventHide:this.$8}))}.bind(this),this);var d=c.length>0;d=(d?"":"hidden_elem")+" _50d1";return b("React").createElement("ul",{ref:"container",className:d,"data-gt":this.props.tracking,"data-testid":b("NotifTestIDs").BEEPER_LIST,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},c)};a.prototype.$4=function(a){"use strict";return a.reduce(function(a,b){a[b.alert_id]={notification:b,shouldPlaySound:!1};return a},{})};e.exports=a}),null);
__d("NotificationBeeperContainer",["NotificationBeeper.react","React","ReactDOM"],(function(a,b,c,d,e,f){a={renderBeeper:function(a,c){b("ReactDOM").render(b("React").createElement(b("NotificationBeeper.react"),a),c)}};e.exports=a}),null);
__d("NotificationEndpointState",["BusinessUserConf","KeyedCallbackManager","RangedCallbackManager","flatMapArray","objectValues","stableStringify"],(function(a,b,c,d,e,f){__p&&__p();var g={AdsUnifiedNavNotificationsPayloadPagelet:"AdsUnifiedNavNotificationsPayloadPagelet",BusinessManagerNotificationsPayloadPagelet:"BusinessManagerNotificationsPayloadPagelet",WebNotificationsPayloadPagelet:"WebNotificationsPayloadPagelet","/notifications/client/ads_unified_nav/":"AdsUnifiedNavNotificationsPayloadPagelet","/notifications/client/business_manager/":"BusinessManagerNotificationsPayloadPagelet","/ajax/notifications/client/get.php":b("BusinessUserConf").businessUserID?"BusinessManagerNotificationsPayloadPagelet":"WebNotificationsPayloadPagelet"};h.getInstance=function(a){"use strict";var b=a.classification!=null?a.classification:"_",c=a.readness!=null?a.readness:"_";b="(c)"+b+"(s)"+c;c=h.$1[a.endpointControllerName];c==null&&(h.$1[a.endpointControllerName]=c={});c[b]==null&&(c[b]=new h(a));return c[b]};h.getAllInstances=function(a){"use strict";a!=null?a=[a]:a=Object.keys(h.$1);return b("flatMapArray")(a,function(a){a=h.$1[a];if(a==null)return[];else return b("objectValues")(a)})};function h(a){__p&&__p();var c=a.businessUserID,d=a.classification,e=a.endpointControllerName;a=a.readness;this.notifications=new(b("KeyedCallbackManager"))();this.businessUserID=c!=null?c:b("BusinessUserConf").businessUserID;this.classification=d;this.endpointControllerName=e;this.readness=a;c=function(a){a=this.notifications.getResource(a);return a.creation_time};this.order=new(b("RangedCallbackManager"))(c.bind(this),function(a,b){return b-a});this.graphQLPageInfo=null}h.prototype.getConfig=function(){"use strict";return{businessUserID:this.businessUserID,classification:this.classification,endpointControllerName:this.endpointControllerName,readness:this.readness}};h.prototype.getHash=function(){"use strict";return b("stableStringify")(this.getConfig())};h.prototype.getRequestParams=function(a){"use strict";a=Math.max(0,a-this.order.getAllResources().length);return{businessUserID:this.businessUserID,classification:this.classification!=null?this.classification.toLowerCase():void 0,cursor:this.graphQLPageInfo&&this.graphQLPageInfo.end_cursor,filter:this.readness==null?void 0:this.readness==="SEEN_AND_READ"?"read":"unread",readness:this.readness,length:a}};h.prototype.getStreamingTransportPageletName=function(){"use strict";return g[this.endpointControllerName]||this.endpointControllerName};h.$1={};e.exports=h}),null);
__d("performanceNowNoFallback",["performance"],(function(a,b,c,d,e,f){e.exports=b("performance").now?function(){return b("performance").now()}:null}),null);
__d("NotificationEagerLoader",["invariant","Promise","Arbiter","AsyncRequest","BigPipe","JewelLogger","NotificationComponentsBootloader","NotificationDataFetchConfig","NotificationEndpointState","NotificationListConfig","once","performanceAbsoluteNow","performanceNowNoFallback"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("JewelLogger").logDataEagerLoad,i=b("JewelLogger").logJsBootload,j=b("NotificationDataFetchConfig").dataEagerFetchTrigger,k=b("NotificationListConfig").jsBootloadTrigger,l=b("NotificationListConfig").numNotificationsPerPage;l=j!=="none"?l:0;var m={hasData:l>0,targetNumToLoad:l,endpointState:a(),payloadPromise:null};function a(){var a={endpointControllerName:"WebNotificationsPayloadPagelet"};return b("NotificationEndpointState").getInstance(a)}function c(a){if(!b("performanceNowNoFallback"))return b("NotificationComponentsBootloader").load().then(function(){});else{i({jewelName:"notifications",eventName:"js_bootload_trigger",trigger:k,timestamp:b("performanceNowNoFallback")()-a,eagerLoadDelayInMs:0});i({jewelName:"notifications",eventName:"js_bootload_start",timestamp:b("performanceNowNoFallback")()});return b("NotificationComponentsBootloader").load().then(function(){i({jewelName:"notifications",eventName:"js_bootload_end",timestamp:b("performanceNowNoFallback")()})})}}function d(a){__p&&__p();b("performanceNowNoFallback")&&(h({jewelName:"notifications",eventName:"data_eager_load_trigger",trigger:j,timestamp:b("performanceNowNoFallback")()-a,eagerLoadDelayInMs:0}),h({jewelName:"notifications",eventName:"data_eager_load_start",timestamp:b("performanceNowNoFallback")()}));a=m.targetNumToLoad;var c=m.endpointState;a=c.getRequestParams(a);var d;switch(c.endpointControllerName){case"WebNotificationsPayloadPagelet":d="/ajax/notifications/client/get.php";break;case"AdsUnifiedNavNotificationsPayloadPagelet":d="/notifications/client/ads_unified_nav/";break;case"BusinessManagerNotificationsPayloadPagelet":d="/notifications/client/business_manager/";break}d!=null||g(0,5504,c.endpointControllerName);c=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).setData(a);a=c.exec().then(function(a){b("performanceNowNoFallback")&&h({jewelName:"notifications",eventName:"data_eager_load_end",timestamp:b("performanceNowNoFallback")()});return a.getPayload()});m.hasData||g(0,5505);return a}function f(a){__p&&__p();return new(b("Promise"))(function(c,d){__p&&__p();b("Arbiter").subscribeOnce(b("BigPipe").Events.init,b("once")(function(e,f){__p&&__p();e=f.arbiter;if(!e){d("No arbiter from BigPipe init event");return}e.subscribeOnce(b("BigPipe").Events.displayed,b("once")(function(e,f){e=f.ts;f=b("performanceAbsoluteNow")()-e;a(f).then(function(a){return c(a)})["catch"](function(a){return d(a)})}))}))})}k==="bigpipe_display_done"&&f(c);j==="bigpipe_display_done"&&(m.payloadPromise=f(d));e.exports={eagerlyLoadedData:m}}),null);
__d("NotificationSubscriptions",["Arbiter","ChannelConstants","FacebookWebNotificationsSubscription","NotificationTokens","createNotificationSubscriptions","createObjectFrom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){(!a.eligible_buckets||!a.eligible_buckets.includes("PRIORITY_INBOX"))&&(a.eligible_buckets=["PRIORITY_INBOX"].concat(a.eligible_buckets||[]));if(!a.sort_keys){var b=a.creation_time||Date.now()/1e3;a.sort_keys=[""+b,b+"000000"]}return a}e.exports=b("createNotificationSubscriptions")({subscribeToNotificationHides:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notification_hidden"),function(c,d){c=b("NotificationTokens").tokenizeIDs([d.obj.notif_id+""]);d=d.obj.state===1;a(b("createObjectFrom")(c,d))})},subscribeToNotificationReadnessUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_read"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToNotificationSeenStateUpdates:function(a){return b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("notifications_seen"),function(c,d){c=b("NotificationTokens").tokenizeIDs(d.obj.alert_ids);d=d.obj.new_state;a(b("createObjectFrom")(c,d))})},subscribeToRealtimeChannelNotifications:function(a){return b("FacebookWebNotificationsSubscription").subscribe({event:"NEW_NOTIFICATION",callback:function(b){a(b?[g(b)]:null)}})}})}),null);
__d("GlobalNotificationSubscriptionsSubscription",["NotificationSubscriptions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("NotificationSubscriptions").setup()}),null);
__d("FacebookWebNotificationsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1729085603868613"};c.getQueryID=function(){"use strict";return"1827770947332664"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("NotificationSync",["invariant","Arbiter","ChannelConstants","CurrentUser","FacebookWebNotificationsQueryWebGraphQLQuery","NotificationConstants","NotificationUpdates","WebGraphQL","WebPixelRatio","ifRequired","objectValues","promiseDone"],(function(a,b,c,d,e,f,g){__p&&__p();var h=0;function i(){var a={endpointControllerName:"WebNotificationsPayloadPagelet"},c;b("ifRequired")("NotificationStore",function(d){c=b("objectValues")(d.getAll(a))});if(c==null)return null;var d=c.map(function(a){return a.creation_time}).filter(Boolean);return d.length===0?null:Math.max.apply(Math,d)}function j(){__p&&__p();var a=i();if(a==null)return;b("promiseDone")(b("WebGraphQL").exec(new(b("FacebookWebNotificationsQueryWebGraphQLQuery"))({is_work_user:b("CurrentUser").isWorkUser(),newer_than:a,scale:b("WebPixelRatio").get(),should_fetch_buckets:!1,should_fetch_sort_keys:!1,should_include_server_time:!1})),function(a){__p&&__p();if(a){a=(a=a)!=null?(a=a.viewer)!=null?(a=a.notifications)!=null?a.edges:a:a:a;a=a&&a.map(function(a){a=a.node;return a}).filter(Boolean);if(a==null)return;a={nodes:a};b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.SYNC,a)}})}var k=null,l=0;a={setup:function(a){__p&&__p();l++;(h===null||a>h)&&(h=a);k==null&&(k=b("Arbiter").subscribe(b("ChannelConstants").ON_INVALID_HISTORY,j));var c=!1;return{remove:function(){if(c===!0)return;k!=null||g(0,51);c=!0;l--;l===0&&(k.unsubscribe(),k=null)}}}};e.exports=a}),null);
__d("GlobalNotificationSyncSubscription",["InitialServerTime","NotificationSync"],(function(a,b,c,d,e,f){"use strict";e.exports=b("NotificationSync").setup(b("InitialServerTime").serverTime)}),null);
__d("LiveVideoBeeperItemContents.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("LiveVideoBeeperItemContentsImpl.react").__setRef("LiveVideoBeeperItemContents.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),babelHelpers["extends"]({},this.props,{ref:"itemContents"}))})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XPymkFunnelLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pymk/funnel_logging/",{event_ts:{type:"Int",required:!0},query_id:{type:"Int"},candidate_id:{type:"Int"},signature:{type:"Int"},loc:{type:"String",required:!0},ref:{type:"String"},action:{type:"Enum",required:!0,enumType:1},social_context_type:{type:"Enum",enumType:1}})}),null);
__d("PymkFunnelLogger",["AsyncRequest","DOMQuery","XPymkFunnelLoggingController"],(function(a,b,c,d,e,f){__p&&__p();a={setupListeners:function(a,b,c,d,e){this._setupForSingleElement(a,b,c,"add"),this._setupForSingleElement(a,b,d,"click"),this._setupForSingleElement(a,b,e,"click")},logImpression:function(a,b,c,d){d===void 0&&(d=null),this._logEvent(a,"impression",b,c,d)},logXOut:function(a,b,c){this._logEvent(a,"hide",b,c)},_logEvent:function(a,event,c,d,e){e===void 0&&(e=null);a=b("XPymkFunnelLoggingController").getURIBuilder().setInt("candidate_id",a).setInt("signature",c).setInt("event_ts",Math.floor(Date.now()/1e3)).setEnum("action",event).setString("loc",d);e!==null&&a.setEnum("social_context_type",e);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").send()},_setupForSingleElement:function(a,c,d,e){Event.listen(d,"click",function(event){var d=a.getAttribute("data-signature"),f=b("DOMQuery").find(a,"input.friendBrowserID");f=parseInt(f.value,10);var g=null,h=b("DOMQuery").scry(a,"#common_group");h!==null&&h.length>0&&(g="common_group");this._logEvent(f,e,d,c,g)}.bind(this))}};e.exports=a}),null);
__d("XFriendRequestIHEventLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/requests/interaction_history_logging/",{target_id:{type:"FBID",required:!0},log_event:{type:"String",required:!0}})}),null);
__d("FriendRequestIHEventLogger",["AsyncRequest","Event","XFriendRequestIHEventLoggingController"],(function(a,b,c,d,e,f){__p&&__p();a={setupJewelListeners:function(a,b,c){this._setupForJewelSingleElement(a,b,"click"),c&&this._setupForJewelSingleElement(a,c,"click")},logImpression:function(a){this._logEvent(a,"impression")},_logEvent:function(a,event){if(isNaN(a))return;a=b("XFriendRequestIHEventLoggingController").getURIBuilder().setFBID("target_id",a).setString("log_event",event).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send()},_setupForJewelSingleElement:function(a,c,d){b("Event").listen(c,"click",function(event){var b=a.getAttribute("id");if(!b)return;b=b.substring(0,b.length-6);this._logEvent(b,d)}.bind(this))}};e.exports=a}),null);
__d("WebFriendingRequests",["Arbiter","DOM","DOMQuery","Event","FriendRequestIHEventLogger","MarauderLogger","PymkFunnelLogger","Vector","debounceCore"],(function(a,b,c,d,e,f){__p&&__p();a={init:function(a,c){__p&&__p();this._pymkBox=a;this._lastPymkSeen=-1;this._recordPYMKImpression();b("Event").listen(window,"scroll",b("debounceCore")(this._recordPYMKImpression.bind(this),100));b("Event").listen(window,"resize",b("debounceCore")(this._recordPYMKImpression.bind(this),100));b("Arbiter").subscribe("pymk-x-out",this._handleXout.bind(this));this._requestsBox=c;if(!this._requestsBox)return;this._lastRequestSeen=-1;this._recordFriendRequestImpression();b("Event").listen(window,"scroll",b("debounceCore")(this._recordFriendRequestImpression.bind(this),100));b("Event").listen(window,"resize",b("debounceCore")(this._recordFriendRequestImpression.bind(this),100))},_recordPYMKImpression:function(){__p&&__p();var a=b("DOM").scry(this._pymkBox,"li.friendBrowserListUnit"),c=b("Vector").getViewportDimensions().y,d=a.length-1;while(d>this._lastPymkSeen){var e=b("Vector").getElementPosition(a[d],"viewport").y;if(e>0&&e+b("Vector").getElementDimensions(a[d]).y<=c)break;d-=1}e=d;while(d>this._lastPymkSeen)this.logPYMKImpression(a[d],"friends_center"),d-=1;this._lastPymkSeen=Math.max(this._lastPymkSeen,e)},_recordFriendRequestImpression:function(){__p&&__p();var a=b("DOM").scry(this._requestsBox,"div.friendRequestItem"),c=b("Vector").getViewportDimensions().y,d=a.length-1;while(d>this._lastRequestSeen){var e=b("Vector").getElementPosition(a[d],"viewport").y;if(e>0&&e+b("Vector").getElementDimensions(a[d]).y<=c)break;d-=1}e=d;while(d>this._lastRequestSeen){c=a[d].getAttribute("data-id");var f={request_id:c,request_location:"friend_center_requests"};b("MarauderLogger").log("request_seen","friend_request_waterfall",f);b("FriendRequestIHEventLogger").logImpression(c);d-=1}this._lastRequestSeen=Math.max(this._lastRequestSeen,e)},_handleXout:function(){this._lastPymkSeen=Math.max(this._lastPymkSeen-1,-1),this._recordPYMKImpression()},logPYMKImpression:function(a,c){var d=b("DOM").find(a,"input.friendBrowserID");d=parseInt(d.value,10);var e=parseInt(a.getAttribute("data-signature"),10),f=null;a=b("DOMQuery").scry(a,"#common_group");a!==null&&a.length>0&&(f="common_group");b("PymkFunnelLogger").logImpression(d,e,c,f)}};e.exports=a}),null);
__d("HelpLiteFlyoutBootloader",["regeneratorRuntime","Deferred","JSResource"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=null,i=null,j={loadFlyout:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:j.loadFlyoutWithHelpType(null);case 1:case"end":return a.stop()}},null,this)},loadFlyoutWithHelpType:function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(b("JSResource")("HelpLiteFlyout").__setRef("HelpLiteFlyoutBootloader").load());case 2:c=h.sent;if(!g){h.next=6;break}c.refreshHelp();return h.abrupt("return");case 6:g=!0;a&&j.setHelpType(a);h.next=10;return b("regeneratorRuntime").awrap(this._getDeferredFlyoutElements().getPromise());case 10:d=h.sent,e=d.flyout,f=d.flyoutRoot,c.registerFlyoutToggler(e,f),c.loadBody();case 15:case"end":return h.stop()}},null,this)},setHelpType:function(a){i=a},getHelpType:function(){return i},_getDeferredFlyoutElements:function(){h==null&&(h=new(b("Deferred"))());return h},registerFlyoutElements:function(a,b){this._getDeferredFlyoutElements().resolve({flyout:a,flyoutRoot:b})}};e.exports=j}),null);
__d("QPEventHandling",[],(function(a,b,c,d,e,f){"use strict";a={registerClickListener:function(a,b,c){a.addEventListener("click",c)}};e.exports=a}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:!0},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}})}),null);
__d("QPRenderer",["csx","CSS","FBLogger","Parent","QPEventHandling","XAsyncRequest","XQuickPromotionSimpleLoggingController","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,event,c){a=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setString("qp_event",event).setStringToStringMap("qp_instance_log_data",c).getURI();new(b("XAsyncRequest"))(a).send()}function a(a,c,d){a=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setEnum("qp_action",c).setStringToStringMap("qp_instance_log_data",d).getURI();new(b("XAsyncRequest"))(a).send()}function c(a,c,d,e,f,g){e=b("ge")(e);e!==null?i(a,d,e,g,function(){f&&b("CSS").hide(c)}):b("FBLogger")("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,d)}function d(a,c,d,e,f){i(a,c,d,f,function(){if(e){var a=b("Parent").bySelector(d,"._5jmm");a instanceof HTMLElement&&b("CSS").hide(a)}})}function e(a,c,d){c.show();h(a,"view",{});c.subscribe("cancel",function(){h(a,"dialog_cancel",{})});for(var e=0;e<d.length;e++){var f=d[e],g=b("ge")(f.element_id);g!==null?(i(a,f.action,g,f.extra_log_data,f.should_close?function(){c.hide()}:function(){}),f.action=="primary"&&g.focus()):b("FBLogger")("quick_promotion").mustfix("Quick Promotion %s is missing %s action element.",a,f.action)}}function i(a,c,d,e,f){b("QPEventHandling").registerClickListener(d,c,function(){var d=b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a).setEnum("qp_action",c).setStringToStringMap("qp_instance_log_data",e).getURI();new(b("XAsyncRequest"))(d).send();f()})}f.setAction=c;f.setComponentActionForFeedUnitQP=d;f.setDialogActionsAndShow=e;f.logAction=a;f.logEvent=h}),null);
__d("JewelQPLogging",["QPRenderer"],(function(a,b,c,d,e,f){var g=!1,h=null,i=!1;function j(){if(i)return;g&&h&&(i=!0,b("QPRenderer").logEvent(String(h.promotion_id),"view",h.instance_log_data?h.instance_log_data:{}))}a={onJewelOpened:function(){g=!0,j()},updateQPLogData:function(a){h=a,j()}};e.exports=a}),null);
__d("RequestsJewelStore",["Arbiter","ArbiterMixin","ChannelConstants"],(function(a,b,c,d,e,f){__p&&__p();a=babelHelpers["extends"]({},b("ArbiterMixin"),{_initialized:!1,_count:0,_requestList:{},addFriendRequests:function(a){Object.assign(this._requestList,a)},getRequestListKeys:function(){return Object.keys(this._requestList)},removeRequest:function(a){delete this._requestList[a]},getRequestCount:function(a){return this.getRequestListKeys().length},decrementCount:function(){this.setCount(Math.max(0,this._count-1))},setCount:function(a){b("Arbiter").inform("jewel/count-updated",{jewel:"requests",count:a},"state")},setupListeners:function(){__p&&__p();if(this._initialized)return;this._initialized=!0;b("Arbiter").subscribe("jewel/count-updated",function(a,b){b.jewel==="requests"&&this._updateCount(b.count)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("jewel_requests_add"),function(a,b){return this._addRequest(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("jewel_friending_notifs"),function(a,b){return this._addNotification(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("mobile_requests_count"),function(a,b){return this._updateBadgeCountFromObject(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("jewel_requests_remove_old"),function(a,b){return this._removeOldRequest(b)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("friend_requests_expired"),function(a,b){return this._refreshJewel(!0)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("friend_requests_seen"),function(a,b){return this.setCount(0)}.bind(this))},_updateCount:function(a){var b=this._count!==a;this._count=a;b&&this.inform("countUpdated",a)},_addRequest:function(a){__p&&__p();if(!a)return;a=a.obj;var b=a.from;a=a.suggester;b=this._requestList[b];b||this.setCount(this._count+1);b=b?b.type:null;a=b===19&&!a;this.inform("addRequest",{shouldReplace:a,previousType:b})},_updateBadgeCountFromObject:function(a){if(!a)return;a=a.obj;a=a.num_unseen+a.num_friend_confirmed_unseen+a.num_expire_highlight_unseen;this._refreshJewel();this.setCount(a)},_addNotification:function(a){if(!a||a.obj.notif_type!=="friend_confirmed")return;this.inform("addNotification")},_removeOldRequest:function(a){if(!a)return;a=this._requestList[a.obj.from];if(!a)return;this.inform("removeOldRequest",a)},_refreshJewel:function(a){a===void 0&&(a=!1),this.inform("refreshJewel",a)}});e.exports=a}),null);
__d("XExpireFriendRequestsMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/requests/expire/",{from_m_jewel:{type:"Bool",defaultValue:!1}})}),null);
__d("XGigaboxxUpdateSeenTimeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/gigaboxx/endpoint/writesafe/update_last_seen_time/",{})}),null);
__d("RequestsJewelController",["invariant","Promise","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","Event","EventProfiler","Focus","FriendRequestIHEventLogger","JewelQPLogging","MarauderLogger","Parent","RequestsJewelStore","ScrollableArea","TimeSlice","WebFriendingRequests","XExpireFriendRequestsMutationController","XGigaboxxUpdateSeenTimeAsyncController","XUIBadge","ge","getElementPosition","getViewportDimensions","promiseDone","requireWeak","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();var h=null;b("requireWeak")("FriendBrowserCheckboxController",function(a){return h=a});var i=31,j=600,k=30,l=160;m.getInstance=function(){"use strict";return this.$12};m.updateFromDOM=function(){"use strict";var a=this.getInstance();a&&a.fromDom()};m.setupScroll=function(){"use strict";var a=this.getInstance();a&&a.setupScroll()};m.setInitialHeight=function(){"use strict";var a=this.getInstance();a&&a.updateHeight()};m.maybeLoadJewel=function(){"use strict";var a=this.getInstance();a&&a.maybeLoadJewel()};m.setTitleBadgeCount=function(a){"use strict";this.$11&&this.$11.setCount(a)};m.initTitleBadge=function(a,c){"use strict";this.$11||b("Arbiter").subscribe(["FriendRequest/delete","FriendRequest/confirm","FriendSuggestion/accepting","FriendSuggestion/ignoring"],function(a,b){return this.decrementTitleBadgeCount(b)}.bind(this)),this.$11=c};m.decrementTitleBadgeCount=function(a){"use strict";this.$11&&this.$11.setCount(this.$11.getCount()-1)};m.isOpen=function(){"use strict";var a=this.getInstance();return a?a.$2():!1};m.create=function(a,b){"use strict";this.$12&&g(0,5550);return this.$12=new m(a,b)};m.setupJewelRefresh=function(){"use strict";b("Arbiter").subscribe(["FriendRequest/confirmFromProfile","FriendRequest/deleteFromProfile"],function(a,c){a={};a.reloadcontent=!0;new(b("AsyncRequest"))().setURI("/ajax/requests/loader/").setData(a).setAllowCrossPageTransition(!0).send()})};function m(a,c){"use strict";this.$2=c,this.$1=a,this.$4=-1,this.$5=-1,this.$10=b("Promise").resolve(!0),this.$8=b("throttle").acrossTransitionsWithBlocking(function(){return this.$13({log_impressions:!0})}.bind(this),5e3),b("RequestsJewelStore").subscribe("addRequest",this.$14.bind(this)),b("RequestsJewelStore").subscribe("addNotification",function(){return this.$15()}.bind(this)),b("RequestsJewelStore").subscribe("removeOldRequest",this.$16.bind(this)),b("RequestsJewelStore").subscribe("refreshJewel",this.$17.bind(this)),b("RequestsJewelStore").setupListeners(),this.setupScroll(),this.$18(),this.$19(),this.$20()}m.prototype.fromDom=function(){"use strict";__p&&__p();var a={};b("DOMQuery").scry(this.$1,"li.objectListItem").forEach(function(b){b=b.getAttribute("id");if(b){b=this.$21(b);b&&b.requester&&(a[b.requester]=b)}}.bind(this));b("RequestsJewelStore").addFriendRequests(a);this.$22()};m.prototype.maybeLoadJewel=function(){"use strict";this.$9&&(this.$9(function(){this.openHandler()}.bind(this)),this.$9=null)};m.prototype.updateHeight=function(){"use strict";var a=this.$23();a&&(a.style.height=this.$24()+"px")};m.prototype.markSeen=function(){"use strict";b("promiseDone")(this.$10,function(){new(b("AsyncRequest"))(b("XGigaboxxUpdateSeenTimeAsyncController").getURIBuilder().getURI()).setMethod("POST").send()})};m.prototype.openHandler=function(){"use strict";__p&&__p();!this.$6&&this.$2()&&(this.$6=!0,b("EventProfiler").tagCurrentActiveInteractionsAs("FirstRequestsJewelOpen"));b("Arbiter").inform("requestsJewel/opened");var a=b("ge")("fbRequestsJewelLoading"),c=this.$23();new(b("AsyncRequest"))().setURI(b("XExpireFriendRequestsMutationController").getURIBuilder().getURI()).send();if(!a&&!c)this.$9=b("TimeSlice").getGuardedContinuation("RequestsJewelController clickBeforeE2E continuation");else if(a)this.$8();else{a=b("RequestsJewelStore").getRequestListKeys();a.length>0&&new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI("/friends/requests/log_impressions").setData({ids:a.join(","),ref:"jewel"}).send()}b("DOMQuery").scry(this.$1,"a.findFriendsLink").forEach(function(a){b("Focus").set(a)});c&&b("ScrollableArea").poke(c);b("JewelQPLogging").onJewelOpened()};m.prototype.closeHandler=function(){"use strict";b("Arbiter").inform("requestsJewel/closed"),b("DOMQuery").scry(this.$1,"li.jewelItemNew").forEach(function(a){b("CSS").removeClass(a,"jewelItemNew")}),b("DOMQuery").scry(this.$1,"span.highlightedExpireText").forEach(function(a){b("CSS").removeClass(a,"highlightedExpireText")})};m.prototype.setupScroll=function(){"use strict";var a=this.$23();a&&(this.$7=this.$25(),this.$3=0,b("ScrollableArea").getInstance(a).subscribe("scroll",this.$26.bind(this)),this.$27(),this.$28())};m.prototype.$18=function(){"use strict";b("Event").listen(this.$1,"submit",function(a){a=b("Parent").byClass(a.getTarget(),"objectListItem");a&&(b("CSS").removeClass(a,"jewelItemNew"),b("CSS").addClass(a,"jewelItemResponded"))})};m.prototype.$19=function(){"use strict";b("Event").listen(window,"resize",b("throttle").acrossTransitions(function(){this.updateHeight()}.bind(this)))};m.prototype.$20=function(){"use strict";b("Arbiter").subscribe("pymk-x-out",function(a,b){a=b.location;(a==="pymk_jewel_first_page"||a==="pymk_jewel")&&this.$27()}.bind(this))};m.prototype.$29=function(a){"use strict";a=parseInt(a,10);return isNaN(a)?null:a};m.prototype.$21=function(a){"use strict";a=a.match(/^(\d+)_(\d+)/);return!a?null:{requester:this.$29(a[1]),type:this.$29(a[2])}};m.prototype.$30=function(a,b){"use strict";return a==null||b==null?null:a+"_"+b};m.prototype.$31=function(a,b){"use strict";return a==null||b==null?null:a+"_"+b+"_req"};m.prototype.$23=function(){"use strict";return b("DOMQuery").scry(this.$1,".uiScrollableArea")[0]};m.prototype.$25=function(){"use strict";return b("DOMQuery").scry(this.$1,".uiScrollableAreaWrap")[0]};m.prototype.$26=function(){"use strict";__p&&__p();var a=b("DOMQuery").scry(this.$7,".uiMorePager").pop();if(a){var c=b("getElementPosition")(a).y,d=this.$23();c>0&&d&&b("CSS").addClass(d,"contentAfter");c=b("DOMQuery").find(a,"a");if(!c)return;d=b("getElementPosition")(c).y;if(d===this.$3)return;a=b("getElementPosition")(this.$7);a=a.y+a.height;if(d-300<a&&d>0){this.$3=d;a=c.getAttribute("ajaxify");a?new(b("AsyncRequest"))(a).setRelativeTo(c).setStatusElement(b("Parent").byClass(c,"stat_elem")).send():h&&h.getInstance("jewel").showMore()}}this.$27();this.$28()};m.prototype.$27=function(){"use strict";__p&&__p();if(!this.$7)return;var a=b("getElementPosition")(this.$7);a=a.y+a.height;var c=b("DOMQuery").scry(this.$1,"li.friendBrowserListUnit"),d=c.length-1;while(d>this.$4){var e=b("getElementPosition")(c[d]),f=e.y;e=f+e.height;if(f>0&&e<=a)break;d-=1}f=d;while(d>this.$4)b("WebFriendingRequests").logPYMKImpression(c[d],"pymk_jewel"),d--;this.$4=Math.max(this.$4,f)};m.prototype.$28=function(){"use strict";__p&&__p();if(!this.$7)return;var a=b("getElementPosition")(this.$7);a=a.y+a.height;var c=b("DOMQuery").scry(this.$1,"li.objectListItem"),d=c.length-1;while(d>this.$5){var e=b("getElementPosition")(c[d]),f=e.y;e=f+e.height;if(f>0&&e<=a)break;d-=1}f=d;while(d>this.$5){e=c[d].getAttribute("id");e=e.substring(0,e.length-6);b("MarauderLogger").log("request_seen","friend_request_waterfall",{request_id:e,request_location:"requests_jewel"});b("FriendRequestIHEventLogger").logImpression(e);d-=1}this.$5=Math.max(this.$5,f)};m.prototype.$13=function(a){a===void 0&&(a={}),this.$10=new(b("Promise"))(function(c,d){var e=!b("ge")("fbRequestsJewelLoading");new(b("AsyncRequest"))().setURI("/ajax/requests/loader/").setData(babelHelpers["extends"]({},a,{reloadcontent:e})).setFinallyHandler(function(a){!a.getError()?c(!0):d()}).send()})};m.prototype.$15=function(){"use strict";if(this.$2())return;this.$13()};m.prototype.$14=function(a,b){a=b.shouldReplace;b=b.previousType;if(!a&&(b||this.$2()))return;this.$13()};m.prototype.$16=function(a,c){a=c.requester;c=c.type;if(this.$2()||b("ge")("fbRequestsJewelLoading")!=null)return;var d=this.$30(a,c),e=d&&b("ge")(d);e||(d=this.$31(a,c),e=b("ge")(d));e&&(b("CSS").hasClass(e,"jewelItemNew")&&b("RequestsJewelStore").decrementCount(),b("CSS").hasClass(e,"jewelItemResponded")||(b("DOM").remove(e),b("RequestsJewelStore").removeRequest(a),this.$22()))};m.prototype.$17=function(a,b){"use strict";if(b!==!0&&this.$2())return;this.$13()};m.prototype.$22=function(){"use strict";b("DOMQuery").scry(this.$1,"li.empty").forEach(function(a){b("CSS").conditionShow(a,b("RequestsJewelStore").getRequestCount()<=0)})};m.prototype.$24=function(){"use strict";return Math.min(Math.max(b("getViewportDimensions")().height-l,k),j)+i};m.$12=null;e.exports=m}),null);
__d("ModalMask",["DOM"],(function(a,b,c,d,e,f){var g=null,h=0;a={show:function(){h++,g||(g=b("DOM").create("div",{id:"modalMaskOverlay"}),b("DOM").appendContent(document.body,g))},hide:function(){h&&(h--,!h&&g&&(b("DOM").remove(g),g=null))},getNode:function(){return g}};e.exports=a}),null);
__d("RequiredFormListener",["Event","Input"],(function(a,b,c,d,e,f){__p&&__p();b("Event").listen(document.documentElement,"submit",function(a){a=a.getTarget();if(a.getAttribute("novalidate"))return!0;a=a.getElementsByTagName("*");for(var c=0;c<a.length;c++)if(a[c].getAttribute("required")&&b("Input").isEmpty(a[c])){a[c].focus();return!1}},b("Event").Priority.URGENT)}),null);
__d("BlueBarCreateMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BlueBarCreateMenuLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEntrypointStyle=function(a){this.$1.entrypoint_style=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setHasUserCreatedPriorToStartDate=function(a){this.$1.has_user_created_prior_to_start_date=a;return this};a.prototype.setMenuElement=function(a){this.$1.menu_element=a;return this};a.prototype.setMenuStyle=function(a){this.$1.menu_style=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={entrypoint_style:!0,event:!0,has_user_created_prior_to_start_date:!0,menu_element:!0,menu_style:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("CreateMenuEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",IMPRESSION:"impression"})}),null);
__d("CreationMenuElements",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRYPOINT:"creation_hub_entrypoint",GROUP:"creation_hub_create_group",EVENT:"creation_hub_create_event",PAGE:"creation_hub_create_page",FUNDRAISER:"creation_hub_create_fundraiser",ADVERTISEMENT:"creation_hub_create_advertisement",POST:"creation_hub_create_post",PHOTO_OR_VIDEO:"creation_hub_create_photo_or_video",MARKETPLACE_LISTING:"creation_hub_create_marketplace_listing",GAME_LIVE:"creation_hub_create_game_live"})}),null);
__d("BlueBarCreateMenuLogger",["BlueBarCreateMenuTypedLogger","CreateMenuEvents","CreationMenuElements","PopoverAsyncMenu"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={initModal:function(a,c,d,e){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log();for(var f=0;f<a.length;f++)a[f]&&(function(){var g=a[f],h=g.name;g=g.element;new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(h).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").IMPRESSION).log();g.addEventListener("click",function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(h).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log()})})()},initDropdown:function(a,c,d,e){__p&&__p();a.onShow=function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log(),a.forEachItem(function(a){if(!a._data.ctor.displayName.includes("MenuStaticItem")){a=a._data.id;new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(a).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").IMPRESSION).log()}})},a.forEachItem(function(a){if(!a._data.ctor.displayName.includes("MenuStaticItem")){var f=a._data.id;a._onclickHandler=function(){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(f).setMenuStyle(c).setEntrypointStyle(d).setHasUserCreatedPriorToStartDate(e).setEvent(b("CreateMenuEvents").CLICK).log()}}})},logEntrypointImpression:function(a,c,d){new(b("BlueBarCreateMenuTypedLogger"))().setMenuElement(b("CreationMenuElements").ENTRYPOINT).setMenuStyle(a).setEntrypointStyle(c).setHasUserCreatedPriorToStartDate(d).setEvent(b("CreateMenuEvents").IMPRESSION).log()}};e.exports=a}),null);
__d("WebBrowserDimensionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:WebBrowserDimensionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:WebBrowserDimensionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WebBrowserDimensionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCpuCoresCount=function(a){this.$1.cpu_cores_count=a;return this};a.prototype.setDocumentFontSize=function(a){this.$1.document_font_size=a;return this};a.prototype.setPixelRatio=function(a){this.$1.pixel_ratio=a;return this};a.prototype.setScreenX=function(a){this.$1.screen_x=a;return this};a.prototype.setScreenY=function(a){this.$1.screen_y=a;return this};a.prototype.setViewportX=function(a){this.$1.viewport_x=a;return this};a.prototype.setViewportY=function(a){this.$1.viewport_y=a;return this};a.prototype.setZoomRatio=function(a){this.$1.zoom_ratio=a;return this};c={cpu_cores_count:!0,document_font_size:!0,pixel_ratio:!0,screen_x:!0,screen_y:!0,viewport_x:!0,viewport_y:!0,zoom_ratio:!0};e.exports=a}),null);
__d("BrowserDimensionsLogger",["WebBrowserDimensionsTypedLogger","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;a={init:function(){__p&&__p();var a=this.getInitialViewportDimensions();a=new(b("WebBrowserDimensionsTypedLogger"))().setPixelRatio(window.devicePixelRatio||1).setScreenX(window.screen.width).setScreenY(window.screen.height).setViewportX(a.width).setViewportY(a.height);window.navigator&&window.navigator.hardwareConcurrency&&a.setCpuCoresCount(window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){var c=Math.round(window.outerWidth/window.innerWidth*100)/100;a.setZoomRatio(c)}if(window.getComputedStyle&&document.documentElement!=null){c=window.getComputedStyle(document.documentElement);c!=null&&a.setDocumentFontSize(c.fontSize)}a.log()},getInitialViewportDimensions:function(){g===null&&(g=b("getViewportDimensions")());return g}};e.exports=a}),null);
__d("BrowserDimensionsResizeLogger",["Bootloader","BrowserDimensionsLogger","debounceAcrossTransitions","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3,h=null;a={init:function(){__p&&__p();var a=function a(){b("Bootloader").loadModules(["WebBrowserDimensionsResizeTypedLogger"],function(){},"BrowserDimensionsResizeLogger"),window.removeEventListener("resize",a)};window.addEventListener("resize",a);window.addEventListener("resize",b("debounceAcrossTransitions")(function(){h===null&&(h=b("BrowserDimensionsLogger").getInitialViewportDimensions());var a=Object.assign({},h),c=b("getViewportDimensions")();h=c;var d=Math.floor(Math.abs(c.width-a.width)),e=Math.floor(Math.abs(c.height-a.height));if(d===0&&e===0)return;var f=window.screen.width,g=window.screen.height;b("Bootloader").loadModules(["WebBrowserDimensionsResizeTypedLogger"],function(b){new b().setPreviousWidth(a.width).setPreviousHeight(a.height).setCurrentWidth(c.width).setCurrentHeight(c.height).setScreenWidth(f).setScreenHeight(g).log()},"BrowserDimensionsResizeLogger")},g))}};e.exports=a}),null);
__d("AccessibilityWebAssistiveTechTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AccessibilityWebAssistiveTechLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AccessibilityWebAssistiveTechLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AccessibilityWebAssistiveTechLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setIndicatedBrowsers=function(a){this.$1.indicated_browsers=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setIsVirtualCursorAction=function(a){this.$1.is_virtual_cursor_action=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={indicated_browsers:!0,is_virtual_cursor_action:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("KeyboardActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:KeyboardActivityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:KeyboardActivityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:KeyboardActivityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDuration=function(a){this.$1.duration=a;return this};a.prototype.setKey=function(a){this.$1.key=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={duration:!0,key:!0,vc:!0};e.exports=a}),null);
__d("BootloadOnInteraction",["Event","JSResource","emptyFunction"],(function(a,b,c,d,e,f){a={mount:function(a,c,d,e){d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=b("emptyFunction"));var f=[b("Event").listen(a,"mouseover",g),b("Event").listen(a,"focus",g)];function g(){f.forEach(function(a){return a.remove()}),e(),b("JSResource").loadAll(c,d)}}};e.exports=a}),null);
__d("MercuryJewelBootloadModules",["BootloadOnInteraction","JSResource","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=[b("JSResource")("MercuryJewel").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryThreadInformer").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MessengerState.bs").__setRef("MercuryJewelBootloadModules"),b("JSResource")("Toggler").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MessengerGraphQLThreadlistFetcher.bs").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryServerRequests").__setRef("MercuryJewelBootloadModules"),b("JSResource")("MercuryJewelUnreadCount.bs").__setRef("MercuryJewelBootloadModules")];function i(a,b){g=g||new a(b,b.bootload_args)}function j(a,b){i(a,b),b.inform("opened")}a={mount:function(a,c){c===void 0&&(c=b("emptyFunction"));var d=a.getButton();b("BootloadOnInteraction").mount(d,h,function(b){j(b,a)},function(){c()})},load:function(a){b("JSResource").loadAll(h,function(b){j(b,a)})},loadModules:function(a){b("JSResource").loadAll(h,function(b){i(b,a)})}};e.exports=a}),null);
__d("FocusRing",["cx","CSS","Event","KeyEventController","Keys","VirtualCursorStatus","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h=["mousedown","mouseup"];a={KEY_CODES:[b("Keys").UP,b("Keys").RIGHT,b("Keys").DOWN,b("Keys").LEFT,b("Keys").TAB,b("Keys").RETURN,b("Keys").SPACE,b("Keys").ESC],init:function(){if(this._initialized)return;this._userInteractingWithKeyboard=!1;this._attachVirtualCursorListener();this._attachKeyDownListener();document.body&&b("CSS").addClass(document.body,"_19_u");this._initialized=!0},usingKeyboardNavigation:function(){return this._userInteractingWithKeyboard},_attachVirtualCursorListener:function(){document.documentElement&&(this._onClickListener=b("VirtualCursorStatus").add(document.documentElement,this._onClick.bind(this)))},_attachMouseListeners:function(){this._onMouseListeners=h.map(function(a){return b("Event").listen(document.documentElement,a,this._onMouseEvent.bind(this))}.bind(this))},_attachKeyDownListener:function(){this._onKeyDownListener=b("Event").listen(document.documentElement,"keydown",this._onKeyDown.bind(this))},_initialized:!1,_userInteractingWithKeyboard:!0,_onMouseEvent:function(){this._hideFocusRing()},_onMouseListeners:h.map(function(a){return{remove:b("emptyFunction")}}),_removeMouseListeners:function(){this._onMouseListeners.forEach(function(a){return a.remove()})},_onClick:function(a,b,c){a&&this._showFocusRing()},_onKeyDown:function(event){this.KEY_CODES.indexOf(b("Event").getKeyCode(event))>-1&&b("KeyEventController").filterEventTargets(event,"keydown")&&this._showFocusRing()},_showFocusRing:function(){this._onKeyDownListener.remove(),this._attachMouseListeners(),this._userInteractingWithKeyboard=!0,document.body&&b("CSS").removeClass(document.body,"_19_u")},_hideFocusRing:function(){this._removeMouseListeners(),this._attachKeyDownListener(),this._userInteractingWithKeyboard=!1,document.body&&b("CSS").addClass(document.body,"_19_u")},_onKeyDownListener:{remove:b("emptyFunction")},_onClickListener:{remove:b("emptyFunction")}};e.exports=a}),null);
__d("QuickPipeRequest",["AjaxPipeRequest","Arbiter","ArtilleryOnUntilOffLogging","DocumentTitle","PageNavigationStageLogger","Quickling","QuicklingConfig","QuicklingFetchStreamConfig","QuicklingRefreshOverheadUtil","RoyalBluebar","RoyalBluebarTransitions","URI","UserAgent_DEPRECATED","goOrReplace","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("QuicklingConfig").version,i,j="";c=babelHelpers.inherits(a,b("AjaxPipeRequest"));g=c&&c.prototype;function a(a,c){"use strict";__p&&__p();var d={version:h};g.constructor.call(this,a,c,{quickling:d});this._processFirstResponse=function(a){var c=a.getPayload();k(c.title);window.scrollTo(0,0);a=a.getRequest();a&&document.body&&(document.body.className=c.body_class||"");b("Arbiter").inform("quickling/response");b("ArtilleryOnUntilOffLogging").onNewPageLoad()};this._isQuickling=!0}a.prototype._preBootloadFirstResponse=function(a){"use strict";return!0};a.prototype._fireDomContentCallback=function(){"use strict";this._request&&this._request.cavalry&&this._request.cavalry.setTimeStamp("t_domcontent"),b("ifRequired")("PageTransitions",function(a){a.transitionComplete()}),g._fireDomContentCallback.call(this)};a.prototype._fireOnloadCallback=function(){"use strict";var a=this._request;a!=null&&a.cavalry&&(a.cavalry.setTimeStamp("t_hooks"),a.cavalry.setTimeStamp("t_layout"),a.cavalry.setTimeStamp("t_onload"));g._fireOnloadCallback.call(this)};a.prototype.isPageActive=function(a){"use strict";return b("Quickling").isPageActive(a)};a.prototype._versionCheck=function(a){"use strict";__p&&__p();if(a.version==h){b("QuicklingRefreshOverheadUtil").onQuicklingVersionMatch();return!0}var c=["quickling","ajaxpipe","ajaxpipe_token","ajaxpipe_fetch_stream"];b("PageNavigationStageLogger").setCookieForNavigation(a.uri);b("PageNavigationStageLogger").setNote("quickling_version");b("PageNavigationStageLogger").updateCookie();b("QuicklingRefreshOverheadUtil").onQuicklingRefreshStart();b("goOrReplace")(window.location,new(b("URI"))(a.uri).removeQueryData(c),!0);b("RoyalBluebar").stopTransitionAnimation();return!1};a.prototype.getSanitizedParameters=function(){"use strict";return["quickling"]};a.prototype._getAsyncRequestType=function(){"use strict";return b("QuicklingFetchStreamConfig").experimentName!==b("RoyalBluebarTransitions").OFF?"useFetchWithIframeFallback":"useIframeTransport"};function k(a){a=a||"Facebook",b("DocumentTitle").set(a),b("UserAgent_DEPRECATED").ie()&&(j=a,i||(i=window.setInterval(function(){var a=j,c=b("DocumentTitle").get();a!=c&&b("DocumentTitle").set(a)},5e3,!1)))}e.exports=a}),null);
__d("QuicklingAugmenter",["URI"],(function(a,b,c,d,e,f){__p&&__p();var g=[];a={addHandler:function(a){g.push(a)},augmentURI:function(a){var c=[],d=new(b("URI"))(a);g.forEach(function(a){var b=a(d);if(!b)return d;c.push(a);d=d.addQueryData(b)});g=c;return d}};e.exports=a}),null);
__d("Quickling",["AjaxPipeRequest","Arbiter","BigPipe","ContextualComponent","PageEvents","PageHooks","PageNavigationStageLogger","PageTransitionsRegistrar","PHPQuerySerializer","QuicklingAugmenter","QuicklingConfig","QuicklingRefreshOverheadUtil","QuickPipeRequest","RoyalBluebar","Run","TimerStorage","URI","cancelAnimationFrame","cancelIdleCallback","clearImmediate","clearInterval","clearTimeout","ge","isEmpty"],(function(a,b,c,d,e,f){__p&&__p();var g=b("QuicklingConfig").sessionLength,h=new RegExp(b("QuicklingConfig").inactivePageRegex),i=0,j=!1,k={init:function(){if(j)return;j=!0;b("Run").onAfterLoad(function(){b("PageTransitionsRegistrar").registerHandler(m,1)})},isActive:function(){return j},isPageActive:function(a){__p&&__p();if(a==="#")return!1;a=new(b("URI"))(a);if(a.getDomain()&&a.getDomain()!=new(b("URI"))(window.location.href).getDomain())return!1;if(a.getPath()=="/l.php"){var c=a.getQueryData().u;if(c){c=new(b("URI"))(unescape(c)).getDomain();if(c&&c!=new(b("URI"))(window.location.href).getDomain())return!1}}c=a.getPath();a=a.getQueryData();b("isEmpty")(a)||(c+="?"+b("PHPQuerySerializer").serialize(a));return Object.keys(a).reduce(function(a,c){return a||b("QuicklingConfig").badRequestKeys.includes(c)},!1)?!1:!h.test(c)},getLoadCount:function(){return i},transitionHandler_DO_NOT_USE:m};function l(){i++;return i>=g}function m(a){__p&&__p();b("AjaxPipeRequest").setCurrentRequest(null);if(l()){b("PageNavigationStageLogger").setNote("quickling_refresh");return!1}a=b("QuicklingAugmenter").augmentURI(a);if(!k.isPageActive(a)){b("PageNavigationStageLogger").setNote("quickling_inactive");return!1}b("TimerStorage").clearAll(b("TimerStorage").ANIMATION_FRAME,b("cancelAnimationFrame"));b("TimerStorage").clearAll(b("TimerStorage").IDLE_CALLBACK,b("cancelIdleCallback"));b("TimerStorage").clearAll(b("TimerStorage").IMMEDIATE,b("clearImmediate"));b("TimerStorage").clearAll(b("TimerStorage").INTERVAL,b("clearInterval"));b("TimerStorage").clearAll(b("TimerStorage").TIMEOUT,b("clearTimeout"));window.ExitTime=Date.now();b("QuicklingRefreshOverheadUtil").onQuicklingStart();b("Run").__removeHook(b("PageHooks").ONLOAD_HOOK);b("Run").__removeHook(b("PageHooks").DOMREADY_HOOK);b("Arbiter").inform(b("PageEvents").AJAXPIPE_ONUNLOAD,{transition_type:"quickling"});var c="content";n(c);b("RoyalBluebar").startTransitionAnimation();c=new(b("QuickPipeRequest"))(c,a).setResetHandler(b("RoyalBluebar").stopTransitionAnimation).setFinallyHandler(b("RoyalBluebar").stopTransitionAnimation).send();c.getArbiter().subscribeOnce(b("BigPipe").Events.displayed,b("RoyalBluebar").stopTransitionAnimation);a=window.__bodyWrapper;a.getCodeUsage&&a.clearCodeUsage();return b("PageTransitionsRegistrar").DELAY_HISTORY}function n(a){var c=function(){var c=b("ge")(a);c=b("ContextualComponent").forNode(c);c&&c.cleanup();b("PageHooks").runHooks("onleavehooks")};c()}e.exports=k;a.Quickling=k}),null);
__d("NotificationJewelReminderLoader",["promiseDone"],(function(a,b,c,d,e,f){e.exports={init:function(a,c){b("promiseDone")(a.load(),function(a){a.init(c)})}}}),null);
__d("ViewasChromeBar",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","Focus","ModalMask","PageTransitionsRegistrar","Parent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="ViewasChromeBar/initialized",j=null,k=!1;function l(a){b("Arbiter").subscribe(i,a)}function m(a){b("CSS").addClass(a,"_7g7");a=b("DOM").find(a,"._7g0");b("Focus").set(b("DOM").find(a,".textInput"))}a={initChromeBar:function(a){if(k)return;j=a;k=!0;b("Arbiter").inform(i,null,"state")},update:function(a,c){l(function(){b("DOM").setContent(j,a),c&&new(b("AsyncRequest"))("/ajax/privacy/glasgow/viewas_bar_flyout_open").send()})},registerSpecificModeOnClick:function(a){b("Event").listen(a,"click",function(){var c=b("Parent").bySelector(a,"._7f-");c instanceof HTMLElement&&m(c)})},registerFlyoutModalMask:function(){b("ModalMask").show(),b("PageTransitionsRegistrar").registerHandler(b("ModalMask").hide,10)}};e.exports=a}),null);
__d("FacebarPlaceholderShortcut",["fbt","KeyboardShortcuts","translateKey"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this._input=a,this._listener=null}a.prototype.enable=function(){this._registerListener()};a.prototype._registerListener=function(){this._listener&&this._listener.remove(),this._listener=b("KeyboardShortcuts").register("SLASH",this._handleKeydown.bind(this),{filter:function(a,b){return!a.getModifiers().shift},persistOnTransition:!0,shortcutInfo:{displayKeys:[b("translateKey")("/")],description:g._("Search")}})};a.prototype.disable=function(){this._listener&&this._listener.remove(),this._listener=null};a.prototype._handleKeydown=function(a){this._input.focus();return!1};e.exports=a}),null);
__d("XFacebarBootloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/typeahead/search/facebar/bootload/",{placeholder_id:{type:"String"}})}),null);
__d("FacebarBootloader",["AsyncRequest","BanzaiODS","CSS","Event","FacebarPlaceholderShortcut","Run","SubscriptionsHandler","XFacebarBootloadController","getActiveElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="facebar_bootloader",h=g+"_";a={isRequested:!1,isFocused:!1,isInitialized:!1,init:function(a,c,d,e){this.reset(),this.subscriptions=new(b("SubscriptionsHandler"))(),this.placeholder=d,this.searchInput=a,this.shortcutHandler=new(b("FacebarPlaceholderShortcut"))(a),this.loadingIndicator=c,this.shortcutHandler.enable(),this.subscriptions.addSubscriptions(b("Event").listen(a,"focus",function(){this.requestSearch(),this.showLoadingIndicator()}.bind(this)),b("Event").listen(d,"mouseover",this.requestSearch.bind(this)),b("Event").listen(a,"invalid",function(event){return event.preventDefault()})),e&&this.subscriptions.addSubscriptions(b("Event").listen(window,"load",this.requestSearch.bind(this))),b("Run").onUnload(this.reset.bind(this)),this.isInitialized=!0,(a.value||b("getActiveElement")()==a)&&(this.requestSearch(),this.showLoadingIndicator())},showLoadingIndicator:function(){this.loadingIndicator&&b("CSS").show(this.loadingIndicator)},reset:function(){this.subscriptions&&this.subscriptions.release(),this.shortcutHandler&&this.shortcutHandler.disable(),this.searchInput=this.subscriptions=this.shortcutHandler=null,this.loadingIndicator=null,this.isRequested=!1,this.isFocused=!1,this.isInitialized=!1},requestSearch:function(){b("getActiveElement")()==this.searchInput&&!this.isFocused&&(this.isFocused=!0,this.focusTime=Date.now());if(this.isRequested||!this.isInitialized)return;this.isRequested=!0;var a=b("XFacebarBootloadController").getURIBuilder().setString("placeholder_id",this.placeholder.getAttribute("id")).getURI(),c=new(b("AsyncRequest"))();c.setURI(a).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0).setErrorHandler(function(a){b("BanzaiODS").bumpEntityKey(g,h+"request_failed"),a&&a.errorSummary?b("BanzaiODS").bumpEntityKey(g,h+"request_failed_"+a.errorSummary):b("BanzaiODS").bumpEntityKey(g,h+"request_failed_no_error_summary"),this.isRequested=!1}).send()},setFocus:function(a,c,d){if(!this.searchInput)return;b("BanzaiODS").bumpEntityKey(g,h+"response_arrived");(this.searchInput.value||this.isFocused)&&(a.getCore().isFocused=!0,a.getCore().input.setValue(d.fromString(this.searchInput.value),!0),a.getCore().setStartTime(this.focusTime),c.focus(),c.setSelection({length:this.searchInput.selectionEnd-this.searchInput.selectionStart,offset:this.searchInput.selectionStart}),c.togglePlaceHolder&&c.togglePlaceholder());this.reset()}};e.exports=a}),null);
__d("AccessibilityWebVirtualCursorClickLogger",["AccessibilityWebAssistiveTechTypedLogger","VirtualCursorStatus"],(function(a,b,c,d,e,f){a={init:function(a){a.forEach(function(a){b("VirtualCursorStatus").add(a,this._log)}.bind(this),this)},_log:function(a,c,d){d===void 0&&(d=!1),a&&new(b("AccessibilityWebAssistiveTechTypedLogger"))().setIndicatedBrowsers(c).setIsVirtualCursorAction(d).log()}};e.exports=a}),null);
__d("KeyboardActivityLogger",["Event","KeyboardActivityTypedLogger","Keys","isElementInteractive"],(function(a,b,c,d,e,f){__p&&__p();a=["tab","right","left","up","down","enter"];var g=a.reduce(function(a,b){a[b]={count:0,startTS:0};return a},{}),h=20;c={init:function(){document.addEventListener("keydown",this._listenForKey.bind(this))},_listenForKey:function(a){__p&&__p();var c=a.getTarget();if(b("isElementInteractive")(c))return;switch(b("Event").getKeyCode(a)){case b("Keys").TAB:this._checkKeyActivity("tab");break;case b("Keys").RIGHT:this._checkKeyActivity("right");break;case b("Keys").LEFT:this._checkKeyActivity("left");break;case b("Keys").UP:this._checkKeyActivity("up");break;case b("Keys").DOWN:this._checkKeyActivity("down");break;case b("Keys").RETURN:this._checkKeyActivity("enter");break}},_checkKeyActivity:function(a){var b=g[a];b.count++;b.startTS===0&&(b.startTS=Date.now());b.count===h&&(this._log(a),b.count=0,b.startTS=0)},_log:function(a){var c=g[a];c=Date.now()-c.startTS;new(b("KeyboardActivityTypedLogger"))().setKey(a).setDuration(c).log()}};e.exports=c}),null);