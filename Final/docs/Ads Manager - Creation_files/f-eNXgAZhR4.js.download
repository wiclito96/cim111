if (self.CavalryLogger) { CavalryLogger.start_js(["qmbZw"]); }

__d("CustomConversionDisableMultiSourceFBNuxDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:!1};e.exports=a}),null);
__d("CustomConversionDisableMultiSourceFBNuxDataProvider",["CustomConversionDisableMultiSourceFBNuxDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("CustomConversionDisableMultiSourceFBNuxDataProviderPlugin"),"CustomConversionDisableMultiSourceFBNuxDataProviderPlugin")}),null);
__d("CustomConversionDisableMultiSourceFBNuxReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.isNuxClosed}};e.exports=a}),null);
__d("CustomConversionDisableMultiSourceFBNuxAction",["Laminar","CustomConversionDisableMultiSourceFBNuxReducerPlugin","CustomConversionDisableMultiSourceFBNuxDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("CustomConversionDisableMultiSourceFBNuxReducerPlugin"),b("CustomConversionDisableMultiSourceFBNuxDataProvider"),{})]},function(){return[]},"CUSTOM_CONVERSION.DISABLE_MULTISOURCE_FBNUX");e.exports=a}),null);
__d("SignalsCustomConversionCreationMetadataFormDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{showDescription:!1,conversionCategory:null,conversionDescription:"",conversionName:"",conversionValue:""}};e.exports=a}),null);
__d("SignalsCustomConversionCreationMetadataFormDataProvider",["Laminar","SignalsCustomConversionCreationMetadataFormDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("SignalsCustomConversionCreationMetadataFormDataProviderPlugin"),"SignalsCustomConversionCreationMetadataFormDataProviderPlugin")}),null);
__d("SignalsCustomConversionCreationMetadataFormDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,b)}};e.exports=a}),null);
__d("SignalsCustomConversionCreationUpdateMetadataFormAction",["Laminar","SignalsCustomConversionCreationMetadataFormDataReducerPlugin","SignalsCustomConversionCreationMetadataFormDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsCustomConversionCreationMetadataFormDataReducerPlugin"),b("SignalsCustomConversionCreationMetadataFormDataProvider"),{})]},function(){return[]},"CUSTOM_CONVERSION_CREATION_METADATA_FORM_UPDATE");e.exports=a}),null);
__d("SignalsWebsiteCustomConversionCreatedReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b=b.adAccountID;return a["delete"](b)}};e.exports=a}),null);
__d("SignalsWebsiteCustomConversionCreatedAction",["Laminar","SignalsWebsiteCustomConversionCreatedReducerPlugin","SignalsWebsiteOptimizedCustomConversionsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsWebsiteCustomConversionCreatedReducerPlugin"),b("SignalsWebsiteOptimizedCustomConversionsDataProvider"),{})]},function(){return[]},"SignalsWebsiteCustomConversionCreatedActionPlugin");e.exports=a}),null);
__d("CustomConversionAndOrSelector.react",["cx","CustomConversionConstants","Image.react","React","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CustomConversionConstants").BOOLEAN_OPERATOR_LABELS_AND_ICONS;a=function(a){a=a.selectedOperator;a=h[a];return b("React").createElement("div",{className:"_du0"},b("React").createElement(b("Image.react"),{className:"_3-90",src:a.icon}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1"},a.label))};e.exports={AndOrRow:a}}),null);
__d("CustomConversionAndOrSelectorV2.react",["cx","CustomConversionConstants","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CustomConversionConstants").BOOLEAN_OPERATOR_LABELS_AND_ICONS;a=function(a){a=a.selectedOperator;a=h[a];return b("React").createElement("div",{className:"_6m2k"},b("React").createElement(b("Image.react"),{className:"_3-90",src:a.icon}),b("React").createElement(b("FDSText.react"),{color:"primary",size:"body2"},a.label))};e.exports={AndOrRow:a}}),null);
__d("CustomConversionCategories",["fbt","AdsAppConversionStandardEvents","AdsPixelConversionStandardEvents","SignalsDataSourcesEnum","StandardEventsDetails","StandardEventsDetailsForApp","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").OrderedMap,i=function(a){a===void 0&&(a=!1);a=a?Object.keys(b("StandardEventsDetails")).sort(function(a,c){return b("StandardEventsDetails")[a].name.toString()>b("StandardEventsDetails")[c].name.toString()?1:-1}).map(function(event){return[event,b("StandardEventsDetails")[event]]}):Object.keys(b("AdsPixelConversionStandardEvents")).sort(function(a,c){return b("AdsPixelConversionStandardEvents")[a].name.toString()>b("AdsPixelConversionStandardEvents")[c].name.toString()?1:-1}).map(function(event){return[event,b("AdsPixelConversionStandardEvents")[event]]});a.push(["Other",{name:g._("Other"),custom_event_type:"OTHER"}]);return a},j=function(a){a===void 0&&(a=!1);return a?Object.keys(b("StandardEventsDetailsForApp")).sort(function(a,c){return b("StandardEventsDetailsForApp")[a].name.toString()>b("StandardEventsDetailsForApp")[c].name.toString()?1:-1}).map(function(event){return[event,b("StandardEventsDetailsForApp")[event]]}):Object.keys(b("AdsAppConversionStandardEvents")).sort(function(a,c){return b("AdsAppConversionStandardEvents")[a].name.toString()>b("AdsAppConversionStandardEvents")[c].name.toString()?1:-1}).map(function(event){return[event,b("AdsAppConversionStandardEvents")[event]]})};a=function(a){var c;a===void 0&&(a=!1);return c={},c[b("SignalsDataSourcesEnum").PIXEL]=h([].concat(i(a))),c[b("SignalsDataSourcesEnum").APP_EVENT]=h([].concat(j(a))),c[b("SignalsDataSourcesEnum").DATA_SET]=h([].concat(i(a))),c[b("SignalsDataSourcesEnum").ALL]=h(),c};e.exports=a}),null);
__d("CustomConversionCategorySelector.react",["fbt","CustomConversionCategories","React","SUISelector.react","SUISelectorOption.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;var i=g._("Select a category");h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.canSeeNewStandardEvents,d=a.isDisabled,e=a.selectedDataSourceType,f=a.value,g=a.onChange;a=a.width;return b("React").createElement(b("SUISelector.react"),{disabled:(d=d)!=null?d:!1,placeholder:i,value:f,width:a,onChange:g},e!=null?b("CustomConversionCategories")(c)[e].toArray().map(function(event){var a=event.name,c=event.custom_event_type;return b("React").createElement(b("SUISelectorOption.react"),{key:c,value:c},a.toString())}):null)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionCreationMetaDataForm.react",["ix","cx","fbt","AdsCurrencyFormatter","CustomConversionCategorySelector.react","CustomConversionCreationUtils","React","SignalsHomeHelpLink.react","SignalsTooltipInfo.react","SUILink.react","SUIText.react","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("CustomConversionCreationUtils").getConversionValueErrorMessage;c=b("React").PureComponent;var l=252,m=g("403741"),n=i._("Name"),o=i._("Description"),p=i._("Category"),q=i._("Value"),r=i._("Add a description"),s=i._("Cancel"),t=i._("Name your conversion"),u=i._("Enter a conversion value (optional)"),v=i._("Add description"),w=i._("Choose the category that best describes the rule you're defining. Selecting a category helps Facebook learn how to optimize ad delivery for the custom conversion you're creating."),x=i._("Set the value that each of these conversions is worth to you to track your return on ad spend. {link_to_conversion_value_help_docs}",[i._param("link_to_conversion_value_help_docs",b("React").createElement(b("SignalsHomeHelpLink.react"),{helpContent:"CONVERSION_VALUE"},i._("Learn more.")))]),y=i._("If you haven't already defined a value for this event, enter a value here. If you leave this field blank, the value will default to zero.");d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){var a=this.props,b=a.metaDataForm;a=a.onFormChange;b=b.showDescription;a({conversionDescription:"",showDescription:!b})}.bind(this),this.$2=function(a){this.props.onFormChange({conversionName:a})}.bind(this),this.$3=function(a){this.props.onFormChange({conversionValue:a})}.bind(this),this.$4=function(a){this.props.onFormChange({conversionDescription:a})}.bind(this),this.$5=function(a){this.props.onFormChange({conversionCategory:a})}.bind(this),b}a.prototype.$6=function(){return b("AdsCurrencyFormatter").formatCurrencyWithISO(this.props.currency,parseInt(this.props.metaDataForm.conversionValue,10))};a.prototype.$7=function(){return this.props.metaDataForm.conversionValue!==""?b("React").createElement("div",{className:"_6a7e"},this.$6()):null};a.prototype.render=function(){var a=this.props,c=a.canSeeNewStandardEvents,d=a.selectedDataSourceType,e=a.showConversionCategorySelector;a=a.metaDataForm;var f=a.conversionCategory,g=a.conversionDescription,h=a.conversionName,i=a.conversionValue;a=a.showDescription;var j=k(i);return b("React").createElement("div",{className:"_60-2"},b("React").createElement("div",{className:"_60-3"},b("React").createElement("div",{className:"_60-4"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},n)),b("React").createElement("div",{className:"_60-5"},b("React").createElement(b("SUITextInput.react"),{maxLength:50,placeholder:t,value:h,onChange:this.$2}),a?null:b("React").createElement("div",{className:"_60-6"},b("React").createElement(b("SUILink.react"),{onClick:this.$1},r)))),a?b("React").createElement("div",{className:"_60-3"},b("React").createElement("div",{className:"_60-4"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},o)),b("React").createElement("div",{className:"_60-5"},b("React").createElement(b("SUITextInput.react"),{maxLength:100,placeholder:v,value:g,onChange:this.$4}),b("React").createElement("div",{className:"_60-6"},b("React").createElement(b("SUILink.react"),{onClick:this.$1},s)))):null,e===!0?b("React").createElement("div",{className:"_60-3"},b("React").createElement("div",{className:"_60-4"},b("React").createElement("div",{className:"_4e88"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},p)),b("React").createElement("div",{className:"_4e89"},b("React").createElement(b("SignalsTooltipInfo.react"),{iconURL:m,message:b("React").createElement("div",{className:"_4e8q"},w),position:"above"}))),b("React").createElement("div",{className:"_60-5"},b("React").createElement(b("CustomConversionCategorySelector.react"),{canSeeNewStandardEvents:c,selectedDataSourceType:d,value:f,width:l,onChange:this.$5}))):null,b("React").createElement("div",null,b("React").createElement("div",{className:"_60-3"},b("React").createElement("div",{className:"_60-4"},b("React").createElement("div",{className:"_4e8r"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},q)),b("React").createElement("div",{className:"_4e89"},b("React").createElement(b("SignalsTooltipInfo.react"),{iconURL:m,message:b("React").createElement("div",{className:"_4e8q"},y),position:"above"}))),b("React").createElement("div",{className:"_60-5"},b("React").createElement(b("SUITextInput.react"),{errorMessage:j,placeholder:u,value:i,onChange:this.$3}))),b("React").createElement("div",{className:"_6a7f"},b("React").createElement("div",{className:"_60-5"},this.$7()))),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1",width:500},x)))};e.exports=a}),null);
__d("SignalsHomeEventUtils",["invariant","AdsPixelStatus","AdsPixelStatusEnum","DateTime","Timezone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("Timezone").PST8PDT;function a(a){__p&&__p();a=a!==null&&a!==0?b("DateTime").create(a,h).toISOString():null;a=new(b("AdsPixelStatus"))(a);var c="error";switch(a.getStatus()){case b("AdsPixelStatusEnum").ACTIVE:c="active";break;case b("AdsPixelStatusEnum").INACTIVE:c="inactive";break;case b("AdsPixelStatusEnum").NEVER_ACTIVE:c="warning";break;default:g(0,6068,status)}return c}e.exports={getDataSourceIndicator:a}}),null);
__d("CustomConversionDataSourceSelector.react",["cssVar","cx","fbt","CustomConversionConstants","React","SearchableEntry","SignalsDataSourcesEnum","SignalsHomeEventUtils","SignalsSUITheme","StaticSearchSource","SUISearchableSelector.react","SUIStatusIndicator.react","SUIText.react","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("SignalsHomeEventUtils").getDataSourceIndicator;b("immutable").OrderedSet;var l=b("CustomConversionConstants").DATA_SOURCE_LABELS,m=i._("Choose a data source"),n=i._("Search a data source");j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(a){var c=[];a!=null&&a.forEach(function(a){a=new(b("SearchableEntry"))({auxiliaryData:a,title:a.name||"",subtitle:i._("ID: {Label showing data source id}",[i._param("Label showing data source id",a.id)]),type:l[a.type],uniqueID:a.id});c.push(a)});return c};a.prototype.$2=function(a){a=a.getAuxiliaryData();return b("React").createElement("div",{className:"_41ze"},a.type!==b("SignalsDataSourcesEnum").APP_EVENT?b("React").createElement(b("SUIStatusIndicator.react"),{status:k(a.lastFiredTime),theme:b("SignalsSUITheme")}):null)};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.dataSources,d=a.selectedDataSource,e=a.onDataSourceChange;a=a.width;var f=c.apps,g=c.offlineEventSets;c=c.pixels;var h=[];c!=null&&c.size>0&&h.push.apply(h,this.$1(c));g!=null&&g.size>0&&h.push.apply(h,this.$1(g));f!=null&&f.size>0&&h.push.apply(h,this.$1(f));if(h.length===1){c=h[0];g=c.getAuxiliaryData();f=b("React").createElement("div",{className:"_2ph_",style:{backgroundColor:"#eff1f3"}},b("React").createElement("div",{style:{display:"inline-block"}},this.$2(c)),b("React").createElement(b("SUIText.react"),{size:"body3",theme:b("SignalsSUITheme"),weight:"bold"},g.name||""))}else{c=new(b("StaticSearchSource"))(h);var i;d!=null&&(i=new(b("SearchableEntry"))({auxiliaryData:d,title:d.name||"",type:l[d.type],uniqueID:d.id}));f=b("React").createElement(b("SUISearchableSelector.react"),{dropdownWidth:"auto",getLeftContentForEntry:this.$2,hasCategories:!0,placeholder:m,searchPlaceholder:n,searchSource:c,shouldShowSubtitleInSelector:!1,value:i,width:(g=a)!=null?g:"auto",onChange:e})}return f};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionEventSelectorRow.react",["cx","fbt","CustomConversionConstants","FDSText.react","React","SearchableEntry","StaticSearchSource","SUISearchableSelector.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CustomConversionConstants").EVENT_LABEL_MAP;c=b("React").PureComponent;var k=h._("No events available");d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var event=a,c=a.getTitle(),d=j.findKey(function(a){return a.toString()===c});d!=null&&(event=new(b("SearchableEntry"))({auxiliaryData:event.getAuxiliaryData(),title:d,uniqueID:a.getUniqueID()}));this.props.onEventChange(event)}.bind(this),c}a.prototype.getLabeledEvent=function(event){if(event!=null){var a=j.get(event.getTitle());if(a!=null)return new(b("SearchableEntry"))({auxiliaryData:event.getAuxiliaryData(),title:a,uniqueID:event.getUniqueID(),type:event.getType()})}return event};a.prototype.render=function(){var a=this.props,c=a.label,d=a.selectedEvent,e=a.options;a=a.width;e=e.map(function(a){return this.getLabeledEvent(a)}.bind(this));var f=this.getLabeledEvent(d);e=new(b("StaticSearchSource"))(e);d=d!=null&&d.getAuxiliaryData().kind==="internal"?h._("No PageView event detected. You'll need to add a PageView event to your pixel in order to create a Custom Conversion from this event."):null;return b("React").createElement("div",{className:"_fx9"},b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"bold"},c),b("React").createElement(b("SUISearchableSelector.react"),{hasCategories:!0,isDisabled:f==null,placeholder:k,searchSource:e,value:f,warningMessage:d,width:a,onChange:this.$1}))};e.exports=a}),null);
__d("CustomConversionStringRuleFilter.react",["cx","CustomConversionConstants","CustomConversionRuleEnum","Layout.react","React","SUIFreeTextTokenizer.react","SUIMeasurementTheme","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn;c=b("React").PureComponent;d=b("CustomConversionConstants").COMPARISON_OPERATORS;var k=b("CustomConversionConstants").COMPARISON_OPERATORS_LABELS;f=b("CustomConversionConstants").STRING_OPERATORS;var l=b("CustomConversionConstants").STRING_OPERATOR_LABELS,m="auto",n=[d["="],d["<"],d[">"],d["<="],d[">="],d.i_contains,d.i_not_contains],o=[d["="],d["!="],d["<"],d[">"],d["<="],d[">="],d.i_contains,d.i_not_contains],p=[f.i_contains,f.i_not_contains,f["="]];h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.errorMessage,d=a.parameterValues,e=a.placeholderText,f=a.selectedFilter,g=a.selectedRuleType,h=a.selectorWidth,q=a.onParameterValueChange;a=a.onSelectFilter;var r=null;switch(g){case b("CustomConversionRuleEnum").CUSTOM_DATA:case b("CustomConversionRuleEnum").VALUE:r=o.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a,value:a},k[a])});break;case b("CustomConversionRuleEnum").URL:r=p.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a,value:a},l[a])});break;default:r=n.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a,value:a},k[a])})}return b("React").createElement(b("Layout.react"),{className:"_23kx"},b("React").createElement(i,null,b("React").createElement("div",{className:"_2jh_"},b("React").createElement(b("SUISelector.react"),{button:b("React").createElement(b("SUISelectorButton.react"),{style:{height:"32px"}}),value:f,width:h!=null&&h!==0?h:m,onChange:a},r))),b("React").createElement(j,{className:"_23ky"},b("React").createElement(b("SUIFreeTextTokenizer.react"),{errorMessage:c,placeholder:typeof e==="function"?e(f):e,theme:b("SUIMeasurementTheme"),value:d!=null?d:[],onChange:q})),b("React").createElement(i,null))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SignalsCustomConversionEventParameterCategoriesEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STANDARD_EVENT_PARAM:"STANDARD_EVENT_PARAM",CUSTOM_EVENT_PARAM:"CUSTOM_EVENT_PARAM"})}),null);
__d("CustomConversionEventParamConstants",["fbt","CustomConversionAppStandardEventParamsEnum","CustomConversionPixelStandardEventParamsEnum","SignalsCustomConversionEventParameterCategoriesEnum","SignalsDataSourcesEnum"],(function(a,b,c,d,e,f,g){"use strict";c=(a={},a[b("SignalsCustomConversionEventParameterCategoriesEnum").STANDARD_EVENT_PARAM]=g._("Standard Parameters"),a[b("SignalsCustomConversionEventParameterCategoriesEnum").CUSTOM_EVENT_PARAM]=g._("Custom Parameters"),a);f=(d={},d[b("CustomConversionPixelStandardEventParamsEnum").VALUE]=g._("Event conversion value"),d[b("CustomConversionPixelStandardEventParamsEnum").CURRENCY]=g._("Event transaction currency"),d[b("CustomConversionPixelStandardEventParamsEnum").CONTENT_NAME]=g._("Product or page name"),d[b("CustomConversionPixelStandardEventParamsEnum").CONTENT_CATEGORY]=g._("Product or page category"),d[b("CustomConversionPixelStandardEventParamsEnum").CONTENT_IDS]=g._("Product or content ID, such as a product SKU"),d[b("CustomConversionPixelStandardEventParamsEnum").CONTENTS]=g._("Transaction details such as product ID, item quantity and price"),d[b("CustomConversionPixelStandardEventParamsEnum").CONTENT_TYPE]=g._("Product or product group type"),d[b("CustomConversionPixelStandardEventParamsEnum").NUM_ITEMS]=g._("Number of in-cart items during an InitiateCheckout event"),d[b("CustomConversionPixelStandardEventParamsEnum").SEARCH_STRING]=g._("Content searched during a Search event"),d[b("CustomConversionPixelStandardEventParamsEnum").STATUS]=g._("Status of a CompleteRegistration event"),d);d=(a={},a[b("CustomConversionAppStandardEventParamsEnum").CONTENT]=g._("Transaction details such as product ID, item quantity and price"),a[b("CustomConversionAppStandardEventParamsEnum").CONTENT_ID]=g._("Product or content ID, such as a product SKU"),a[b("CustomConversionAppStandardEventParamsEnum").CONTENT_TYPE]=g._("Product or page name"),a[b("CustomConversionAppStandardEventParamsEnum").CURRENCY]=g._("Event transaction currency"),a[b("CustomConversionAppStandardEventParamsEnum").DESCRIPTION]=g._("Description of App event"),a[b("CustomConversionAppStandardEventParamsEnum").LEVEL]=g._("Level"),a[b("CustomConversionAppStandardEventParamsEnum").MAX_RATING_VALUE]=g._("Max rating value"),a[b("CustomConversionAppStandardEventParamsEnum").NUM_ITEMS]=g._("Number of in-cart items during an InitiateCheckout event"),a[b("CustomConversionAppStandardEventParamsEnum").PAYMENT_INFO_AVAILABLE]=g._("Payment information available"),a[b("CustomConversionAppStandardEventParamsEnum").REGISTRATION_METHOD]=g._("Registration method"),a[b("CustomConversionAppStandardEventParamsEnum").SEARCH_STRING]=g._("Content searched during a Search event"),a[b("CustomConversionAppStandardEventParamsEnum").SOURCE_APPLICATION]=g._("Application source"),a[b("CustomConversionAppStandardEventParamsEnum").SUCCESS]=g._("Success"),a[b("CustomConversionAppStandardEventParamsEnum").VALUE]=g._("Event conversion value"),a);a=(g={},g[b("SignalsDataSourcesEnum").PIXEL]=f,g[b("SignalsDataSourcesEnum").APP_EVENT]=d,g[b("SignalsDataSourcesEnum").DATA_SET]=f,g[b("SignalsDataSourcesEnum").ALL]={},g);e.exports={CUSTOM_CONVERSION_EVENT_PARAM_LABELS:c,EVENT_PARAM_DESCRIPTIONS:a}}),null);
__d("CustomConversionSubRuleType.react",["CustomConversionCreationUtils","CustomConversionEventParamConstants","React","SearchableEntry","SignalsCustomConversionEventParameterCategoriesEnum","StaticSearchSource","SUISearchableSelector.react","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("immutable").OrderedSet;var h=b("CustomConversionCreationUtils").isStandardEventParameter,i=b("SignalsCustomConversionEventParameterCategoriesEnum").STANDARD_EVENT_PARAM,j=b("SignalsCustomConversionEventParameterCategoriesEnum").CUSTOM_EVENT_PARAM,k=b("CustomConversionEventParamConstants").CUSTOM_CONVERSION_EVENT_PARAM_LABELS,l=b("CustomConversionEventParamConstants").EVENT_PARAM_DESCRIPTIONS;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.availableRuleSubtypes,d=a.isSuppressed,e=a.selectedDataSourceType,f=a.selectedRuleSubtype,g=a.selectorWidth;a=a.onSubtypeChange;var m=[];c!=null&&(m=c.toArray().map(function(a,c){var d=h(e,a);return new(b("SearchableEntry"))({auxiliaryData:{eventParam:a},uniqueID:c,title:a,subtitle:d?l[e][a]:null,type:d?k[i]:k[j]})}));c=new(b("StaticSearchSource"))(m);return m.length>0?b("React").createElement(b("SUISearchableSelector.react"),{dropdownWidth:"auto",hasCategories:!0,searchSource:c,shouldShowSubtitleInSelector:!1,suppressed:d,value:f||m[0],width:g!=null&&g!==0?g:"auto",onChange:a}):null};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionRule.react",["cx","fbt","CustomConversionRuleEnum","CustomConversionStringRuleFilter.react","CustomConversionSubRuleType.react","Layout.react","React","SignalsDataSourcesEnum","SUISelector.react","SUISelectorButton.react","SUISelectorOption.react","SUIText.react","SUITextInput.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("immutable").List;b("immutable").OrderedSet;var k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=120;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.availableRuleSubtypes,d=a.availableRuleTypes,e=a.customDataField,f=a.errorMessageParameterValues,g=a.errorMessageCustomDataField,i=a.parameterValues,n=a.selectedFilter,o=a.selectedRuleSubtype,p=a.selectorWidth,q=a.onCustomDataFieldChange,r=a.onFilterChange,s=a.onParameterValueChange,t=a.onSubtypeChange;a=a.onTypeChange;var u=this.props,v=u.selectedRuleType;u=u.selectedDataSourceType;var w=j(d.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{description:a.description,key:a.name,value:a.name},a.name)}));p=p!==null?p:m;var x=[];w.size>1?x=b("React").createElement(b("Layout.react"),{className:"_23kx"},b("React").createElement(k,null,b("React").createElement("div",{className:"_2jh_"},b("React").createElement(b("SUISelector.react"),{button:b("React").createElement(b("SUISelectorButton.react"),null),value:v!=null?v.name:null,width:p,onChange:a},w))),v===b("CustomConversionRuleEnum").CUSTOM_DATA?b("React").createElement(l,null,b("React").createElement("div",{className:"_23ky"},b("React").createElement(b("SUITextInput.react"),{errorMessage:g,maxLength:50,placeholder:v?v.placeholderTextSelector(n):"",value:e,onChange:q}))):null):u!==b("SignalsDataSourcesEnum").APP_EVENT&&(v=d.first(),x=b("React").createElement("div",{className:"_1xsd"},b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},d.first().name)));p="";v!=null&&(p=i!=null&&i.length>0?h._("or"):v===b("CustomConversionRuleEnum").CUSTOM_DATA?v.parameterPlaceholderTextSelector(n):v.placeholderTextSelector(n));return b("React").createElement("div",null,b("React").createElement("div",null,x,v!=null&&v!==b("CustomConversionRuleEnum").URL?b("React").createElement(b("CustomConversionSubRuleType.react"),{availableRuleSubtypes:c,selectedDataSourceType:u,selectedRuleSubtype:o,onSubtypeChange:t}):null),[b("CustomConversionRuleEnum").URL,b("CustomConversionRuleEnum").CUSTOM_DATA,b("CustomConversionRuleEnum").VALUE].includes(v)||c.size>0?b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("CustomConversionStringRuleFilter.react"),{errorMessage:f,parameterValues:i,placeholderText:p,selectedFilter:n,selectedRuleType:v,onParameterValueChange:s,onSelectFilter:r})):null)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SelectAccountDataSourceMapSelector",["AdsStoreUtils","LoadObject","SignalsCustomConversionRuleSetUIStateStore","SignalsCustomConversionSelectedAccountUIStateStore","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("SignalsCustomConversionSelectedAccountUIStateStore")],function(){return b("SignalsCustomConversionSelectedAccountUIStateStore").getState().selectedAccountID},e.id+".selectedAccountID");c=b("AdsStoreUtils").toSelector(b("SignalsCustomConversionRuleSetUIStateStore"));d=b("adsCreateSelector")([a,c],function(a,c){return a!=null?{conversionLO:b("LoadObject").withValue({selectedID:a,dataSourceMap:c[a]})}:{conversionLO:b("LoadObject").empty()}},{name:e.id+".SelectAccountDataSourceMapSelector"});e.exports=d}),null);
__d("SignalsHomeNewPixelStatsStore",["Promise","AdsGraphAPI","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=JSON.parse(a);var c=a.pixelID,d=a.aggregationType,f=a.lookbackTimeRange;a=a.filterName;d={aggregation:d,start_time:f,sanitize_url:!0};f=a!=null?{event:a}:{};var g=babelHelpers["extends"]({},d,f);return new(b("Promise"))(function(a,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("adspixel",c).edge("stats").get(g),function(b){a(i(b.data))},d)})};a.prototype.getVal=function(a,b,c,d){a={pixelID:a,aggregationType:b,lookbackTimeRange:c};b=d!=null?babelHelpers["extends"]({},a,{filterName:d}):a;return h.get.call(this,JSON.stringify(b))};a.prototype.getAllVal=function(a,b,c,d){return h.getAll.call(this,b.map(function(event){return JSON.stringify({pixelID:a,aggregationType:c,lookbackTimeRange:d,event:event})}))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCustomConversionPixelStatsSelector",["AdsPixelStatsAggregation","LoadObject","SignalsDataSourcesEnum","SignalsHomeNewPixelStatsStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";var g="-28 days";a=b("adsCreateStoreSelector")([b("SignalsHomeNewPixelStatsStore")],function(a){a=a||{};var c=a.selectedDataSource;a=a.selectedEvent;return c!=null&&c.type===b("SignalsDataSourcesEnum").PIXEL&&a!=null?b("SignalsHomeNewPixelStatsStore").getVal(c.id,b("AdsPixelStatsAggregation").CUSTOM_DATA_FIELD,g,a.getTitle()):b("LoadObject").empty()},e.id+".SignalsCustomConversionPixelStatsSelector");e.exports=a}),null);
__d("CustomConversionAddNewRuleButtonContainer.react",["ix","cx","fbt","FDSButton.react","FDSHelpMessage.react","FDSSpinner.react","LoadObject","React","SelectAccountDataSourceMapSelector","SignalsCustomConversionLogger","SignalsCustomConversionPixelStatsSelector","SignalsCustomConversionRuleSetStateActions","SignalsDataSourcesEnum","SignalsTooltipInfo.react","immutable","adsCreateSelector","adsCreateSelectorContainer","asset","signalsPropsSelector"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("immutable").OrderedSet,k=b("SignalsCustomConversionRuleSetStateActions").updateRuleByRuleListStateAction,l=g("403741"),m=i._("Add a rule to filter this event. You can filter by URL or by specific event parameters."),n=i._("Add a rule"),o=i._("Add another rule"),p=i._("Selected App Event doesn't have any parameter"),q=170;a=b("signalsPropsSelector")(function(a){return a});c=b("adsCreateSelector")([b("SelectAccountDataSourceMapSelector"),a,b("SignalsCustomConversionPixelStatsSelector")],function(a,c,d){__p&&__p();a=a.conversionLO;var e=j(),f=b("LoadObject").withValue(e);if(a.isEmpty())return{subTypeLO:f,conversionLO:a,props:c};var g=a.getValueEnforcing();g=g.dataSourceMap;g=g.appEventParameterMap;var h=c.selectedDataSource,i=c.selectedEvent;h!=null&&i!=null&&(h.type===b("SignalsDataSourcesEnum").PIXEL?f=d.map(function(a){a.map(function(a){a=a.data;a=a.reduce(function(a,b){return a.concat(b.value)},[]);e=e.concat(a)});return e}):h.type===b("SignalsDataSourcesEnum").APP_EVENT&&h.id!==null&&(e=e.concat(g.get(h.id).get(i.getTitle())),f=b("LoadObject").withValue(e)));return{subTypeLO:f,conversionLO:a,props:c}},{name:e.id+".ruleSubtypesSelector"});d=b("adsCreateSelectorContainer")(c,function(a){__p&&__p();var c=a.subTypeLO,d=a.conversionLO;a=a.props;if(c.isLoading()||!c.hasValue())return b("React").createElement("div",{className:"_2bd7"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}));if(d.isEmpty()){b("SignalsCustomConversionLogger").scope("CustomConversionAddNewRuleButtonContainer").logError(new Error("Conversion should be loaded"),"calculate_state");return null}d=d.getValueEnforcing();var e=d.dataSourceMap,f=d.selectedID,g=c.getValueEnforcing(),h=a.ruleListIndex;d=a.selectedDataSource;c=a.tooltipComponent;a=e.ruleSet;a=a.get(h);var i=a.rules;a=function(){return k(h,i.size,e,f,g,"add")};d=d!=null&&d.type===b("SignalsDataSourcesEnum").APP_EVENT&&g.size===0?p:null;return b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{isDisabled:d!==null,label:i.size===0?n:o,tooltip:d,width:q,onClick:a}),b("React").createElement("span",{className:"_3-9b"},c!=null?c:b("React").createElement(b("SignalsTooltipInfo.react"),{iconURL:l,message:m,noVerticalMargin:!0,position:"above"})))},{withProps:!0});e.exports=d}),null);
__d("CustomConversionRuleContainer.react",["cx","fbt","CustomConversionRule.react","CustomConversionRuleDefaultValues","CustomConversionRuleEnum","Layout.react","React","SelectAccountDataSourceMapSelector","SignalsCustomConversionLogger","SignalsCustomConversionRuleSetStateActions","SUICloseButton.react","SUIText.react","immutable","adsCreateSelector","adsCreateSelectorContainer","signalsPropsSelector","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=b("immutable").OrderedSet,l=b("SignalsCustomConversionRuleSetStateActions").updateRuleByRuleListStateAction,m=b("SignalsCustomConversionRuleSetStateActions").updateRuleListOnRuleChangeStateAction,n=b("CustomConversionRuleDefaultValues").FILTERS_FOR_RULE_TYPE,o=h._("Parameter values cannot be empty"),p=h._("Custom data field cannot be empty");a=b("signalsPropsSelector")(function(a){return a});c=b("adsCreateSelector")([a,b("SelectAccountDataSourceMapSelector")],function(a,b){b=b.conversionLO;return{props:a,conversionLO:b}},{name:e.id+".ruleSelector"});d=b("adsCreateSelectorContainer")(c,function(a){__p&&__p();var c=a.props;a=a.conversionLO;if(a.isEmpty()){b("SignalsCustomConversionLogger").scope("CustomConversionRuleContainer").logError(new Error("Conversion should be loaded"),"calculate_state");return null}var d=c.availableRuleTypes,e=c.ruleListIndex,f=c.ruleIndex;c=c.selectedDataSourceType;a=a.getValueEnforcing();var g=a.selectedID,q=a.dataSourceMap;a=q.ruleSet;a=a.get(e);a=a.rules.get(f);var r=a.availableRuleSubtypes;d=r!=null&&r.size===0?d=d["delete"](b("CustomConversionRuleEnum").EVENT_PARAMETER):d;var s=function(a){return m(e,f,q,g,a)},t=function(){return l(e,f,q,g,r||k(),"delete")},u={onSubtypeChange:function(a){return s({selectedRuleSubtype:a})},onFilterChange:function(a){return s({selectedFilter:a})},onParameterValueChange:function(b){var a=b==null||b.length===0?o:"";s({errorMessageParameterValues:a,parameterValues:b})},onCustomDataFieldChange:function(a){var b=a==null||a==""?p:"";s({errorMessageCustomDataField:b,customDataField:a})},onTypeChange:function(a){var b=(d||k()).find(function(b){return b.name===a});s({selectedRuleType:b,selectedFilter:n[b.name]})}},v=a.customDataField,w=a.errorMessageCustomDataField,x=a.errorMessageParameterValues,y=a.parameterValues,z=a.selectedFilter,A=a.selectedRuleSubtype;a=a.selectedRuleType;return b("React").createElement(b("Layout.react"),null,b("React").createElement(i,{className:"_1wu1"},b("React").createElement(b("SUICloseButton.react"),{size:"large",onClick:t}),b("React").createElement(b("SUIText.react"),{margin:"_3-9b",shade:"light",size:"meta1",weight:"bold"},h._("Rule")," ",f+1)),b("React").createElement(j,null,b("React").createElement(b("CustomConversionRule.react"),babelHelpers["extends"]({availableRuleSubtypes:r||k(),availableRuleTypes:d||k(),customDataField:v,errorMessageCustomDataField:w,errorMessageParameterValues:x,parameterValues:y,ruleIndex:f,ruleListIndex:e,selectedDataSourceType:c,selectedFilter:z,selectedRuleSubtype:A,selectedRuleType:a},u))),b("React").createElement(i,null))},{withProps:!0});e.exports=d}),null);
__d("CustomConversionRuleList.react",["cx","fbt","CustomConversionAddNewRuleButtonContainer.react","CustomConversionAndOrSelector.react","CustomConversionConstants","CustomConversionCreationUtils","CustomConversionDataSourceSelector.react","CustomConversionEventSelectorRow.react","CustomConversionRuleContainer.react","React","SearchableEntry","SUICloseButton.react","SUINotice.react","SUIText.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CustomConversionAndOrSelector.react").AndOrRow;c=b("CustomConversionConstants").BOOLEAN_OPEARTORS;var k=b("CustomConversionConstants").DATA_SOURCE_LABELS,l=b("CustomConversionConstants").CUSTOM_CONVERSION_LABELS,m=b("CustomConversionConstants").EVENT_LABEL_MAP,n=b("CustomConversionCreationUtils").getCustomConversionEventCategory;b("immutable").List;b("immutable").OrderedSet;var o=c.and,p=200,q=h._("This data source has not sent any events in the past 28 days.");d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){var b=this.props.onDataSourceChange;a!=null&&b(a.getAuxiliaryData())}.bind(this),this.$2=function(){var a=this.props,b=a.ruleListIndex;a=a.onRemoveListButtonClick;a(b)}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.availableEvents,d=a.availableRuleTypes,e=a.canSeeNewStandardEvents,f=a.dataSources,g=a.defaultSelectedDataSource,i=a.rules,r=a.ruleListCount,s=a.ruleListIndex,t=a.selectedDataSource,u=a.selectedEvent;a=a.onEventChange;var v=t==null?g:t;g=[];g.push(i.map(function(a,c){a=c>0?b("React").createElement("div",{className:"_dt_"},j({selectedOperator:o})):null;return b("React").createElement("div",{key:c},a,b("React").createElement(b("CustomConversionRuleContainer.react"),{availableRuleTypes:d,ruleIndex:c,ruleListIndex:s,selectedDataSourceType:v.type}))}));var w=[];c!=null&&(w=c.map(function(a,c){var d=a.name,f=a.displayName;a=a.kind;return new(b("SearchableEntry"))({auxiliaryData:{name:d,displayName:f,kind:a},uniqueID:c,title:f,type:l[n(v,d,e)]})}));var x=null;if(u!=null&&i.size>0){i=u.getTitle();x=b("React").createElement("div",{className:"_61i7"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1"},h._("Include {event title} events that meet the following criteria:",[h._param("event title",m.get(i)||i)])))}i=v!=null?b("React").createElement("div",{className:"_61i5"},b("React").createElement("div",{className:"_61i6"},b("React").createElement(b("CustomConversionEventSelectorRow.react"),{label:k[v.type],options:w,selectedEvent:u,width:p,onEventChange:a}),x,g),b("React").createElement(b("CustomConversionAddNewRuleButtonContainer.react"),{ruleListIndex:s,selectedDataSource:t,selectedEvent:u})):null;w=r>1?b("React").createElement(b("SUICloseButton.react"),{size:"large",onClick:this.$2}):null;return b("React").createElement("div",null,b("React").createElement("div",{className:"_4yda"},b("React").createElement(b("CustomConversionDataSourceSelector.react"),{dataSources:f,selectedDataSource:v,onDataSourceChange:this.$1}),w),c==null||c.length===0?b("React").createElement("div",{className:"_61i5"},b("React").createElement(b("SUINotice.react"),{type:"warning"},q)):i)};e.exports=a}),null);
__d("CustomConversionRuleListContainer.react",["cx","CustomConversionCreationUtils","CustomConversionExternalSourceFetchUtils","CustomConversionRuleList.react","FDSSpinner.react","LoadObject","React","SearchableEntry","SignalsAdAccountStore","SignalsContainer.react","SignalsCustomConversionCreationUpdateMetadataFormAction","SignalsCustomConversionEventCategoriesEnum","SignalsCustomConversionPixelStatsSelector","SignalsCustomConversionRuleListUIStateStore","SignalsCustomConversionRuleSetStateActions","SignalsCustomConversionRuleSetUIStateStore","SignalsCustomConversionSelectedAccountUIStateStore","SignalsDataSourcesEnum","SignalsUnifiedStandardEventParticipationStore","immutable","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("immutable").List;var i=b("immutable").Map,j=b("immutable").OrderedSet,k=b("SignalsContainer.react").getValueSafe,l=b("CustomConversionCreationUtils").getCustomConversionEventCategory,m=b("CustomConversionCreationUtils").getEventName,n=b("CustomConversionCreationUtils").getFilteredAvailableEvents,o=b("CustomConversionExternalSourceFetchUtils").genDataSourceAvailableEvents,p=b("SignalsCustomConversionRuleSetStateActions").updateRuleByRuleListStateAction,q=b("SignalsCustomConversionRuleSetStateActions").updateRuleSetDefaultDataSouceStateAction,r=b("SignalsCustomConversionRuleSetStateActions").updateRuleListDataSourceStateAction,s=b("SignalsCustomConversionRuleSetStateActions").updateRuleListSelectedEventStateAction;c=babelHelpers.inherits(a,b("SignalsContainer.react"));h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$CustomConversionRuleListContainer1=function(a){var c=this.getStateEnforcing(),d=c.selectedAccountID,e=c.selectedDataSource,f=c.selectedEvent;c=c.dataSourceMap;var g=this.props.ruleListIndex;f!=null&&f.getUniqueID()!==a.getUniqueID()&&b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch({conversionCategory:null},{line:"236",module:"CustomConversionRuleListContainer.react.js"});s(e,a,g,c,d)}.bind(this),this.$CustomConversionRuleListContainer2=function(a){__p&&__p();var c=this.getStateEnforcing(),d=c.selectedAccountID,e=c.selectedDataSource,f=c.dataSourceMap;c=f.dataSourceEventMap;var g=this.props.ruleListIndex,h=a.id,i=a.type;e!=null&&a.id!==e.id&&b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch({conversionCategory:null},{line:"265",module:"CustomConversionRuleListContainer.react.js"});if(c.has(h)){r(a,g,f,d);return}b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((e={},e[g]=b("LoadObject").loading(),e));b("promiseDone")(o(h,i),function(c){q(a,f,d,c.availableEvents,g,!1,c.selectAppEventRuleTypes);b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((c={},c[g]=null,c))},function(a){var c;b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((c={},c[g]=b("LoadObject").withError(a),c))})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsCustomConversionRuleListUIStateStore"),b("SignalsCustomConversionRuleSetUIStateStore"),b("SignalsCustomConversionSelectedAccountUIStateStore")].concat(b("SignalsCustomConversionPixelStatsSelector").getStores(),[b("SignalsUnifiedStandardEventParticipationStore")])};a.prototype.calculateState=function(a,c){__p&&__p();c=c.ruleListIndex;var d=b("SignalsCustomConversionSelectedAccountUIStateStore").getState();d=d.selectedAccountID;if(d==null)throw b("LoadObject").withError(new Error("Need an account to be set"));var e=k(b("SignalsUnifiedStandardEventParticipationStore").get(d));e=e.result;var f=b("SignalsCustomConversionRuleSetUIStateStore").getState()[d],g=f.dataSourceEventMap,h=f.ruleSet,o=f.defaultSelectedDataSource,q=f.defaultAvailableEvents,r=h.get(c);r=r.selectedEvent;var s=h.get(c),t=s.availableRuleTypes,u=s.rules;s=s.selectedDataSource;var v=b("SignalsCustomConversionRuleListUIStateStore").getState()[c];g=v==null||!k(v)?g:i();if(o==null)throw b("LoadObject").withError(new Error("Need default selectedDataSource to be set"));v=s==null?q:g.get(s.id);v=n(v);r==null&&v.length>0&&(r=new(b("SearchableEntry"))({auxiliaryData:{name:v[0].name,displayName:v[0].displayName,kind:v[0].kind},title:v[0].displayName,uniqueID:0}));q=a||{};if(u.size===0&&s!=null&&s.type===b("SignalsDataSourcesEnum").PIXEL&&(s!==q.selectedDataSource||r!==q.selectedEvent)){a=b("SignalsCustomConversionPixelStatsSelector")({selectedDataSource:s,selectedEvent:r});q=k(a).reduce(function(a,b){b=b.data;b=j(b.map(function(a){a=a.value;return a}));a=a.concat(b);return a},j());r!=null&&l(s,m(r),e)!=b("SignalsCustomConversionEventCategoriesEnum").CUSTOM_EVENT&&p(c,u.size,f,d,q,"add")}return{availableRuleTypes:t||j(),canSeeNewStandardEvents:e,dataSourceMap:f,dataSourceEventMap:g,defaultSelectedDataSource:o,rules:u,availableEvents:v,ruleSet:h,selectedDataSource:s||o,selectedEvent:r,selectedAccountID:d}};a.prototype.renderLoading=function(){return b("React").createElement("div",{className:"_61i5"},b("React").createElement("div",{className:"_61i6"},b("React").createElement("div",{className:"_61ot"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}))))};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.availableRuleTypes,d=a.canSeeNewStandardEvents,e=a.defaultSelectedDataSource,f=a.rules,g=a.ruleSet,h=a.availableEvents,i=a.selectedEvent;a=a.selectedDataSource;return b("React").createElement("div",null,b("React").createElement(b("CustomConversionRuleList.react"),babelHelpers["extends"]({},this.props,{availableEvents:h,availableRuleTypes:c,canSeeNewStandardEvents:d,defaultSelectedDataSource:e,ruleListCount:g.size,rules:f,selectedDataSource:a,selectedEvent:i,onDataSourceChange:this.$CustomConversionRuleListContainer2,onEventChange:this.$CustomConversionRuleListContainer1})))};e.exports=a}),null);
__d("CustomConversionAddEventContainer.react",["fbt","AdsStoreUtils","BrandsAppConfig","Link.react","React","SelectAccountDataSourceMapSelector","SignalsCustomConversionLogger","SignalsCustomConversionRuleSetStateActions","SignalsCustomConversionSelectedAccountUIStateStore","adsCreateSelector","adsCreateSelectorContainer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("BrandsAppConfig").businessCapabilities,i=b("SignalsCustomConversionRuleSetStateActions").updateRuleListByRuleSetStateAction,j=g._("Include another event");a=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsCustomConversionSelectedAccountUIStateStore"))],function(){return b("SignalsCustomConversionSelectedAccountUIStateStore").getState()},{name:e.id+".selectedAccountSelector"});c=b("adsCreateSelector")([b("SelectAccountDataSourceMapSelector")],function(a){__p&&__p();a=a.conversionLO;var b=[];if(!a.isEmpty()){a=a.getValueEnforcing();a=a.dataSourceMap;var c=a.ruleSet;a=a.dataSourceEventMap;c=c.get(c.size-1).selectedDataSource;b=c!=null?a.get(c.id)||[]:[]}return b.length>0},{name:e.id+".getLastActiveDataSourceSelector"});d=b("adsCreateSelector")([b("SelectAccountDataSourceMapSelector"),c,a],function(a,b,c){a=a.conversionLO;return{conversionLO:a,isLastDataSourceInactive:b,account:c}},{name:e.id+".selector"});f=b("adsCreateSelectorContainer")(d,function(a){__p&&__p();var c=a.conversionLO,d=a.isLastDataSourceInactive;a=a.account;if(c.isEmpty()){b("SignalsCustomConversionLogger").scope("CustomConversionAddEventContainer").logError(new Error("Conversion should be loaded"),"calculate_state");return null}if(!d)return null;d=c.getValueEnforcing();var e=d.selectedID,f=d.dataSourceMap,g=f.ruleSet;c=function(){return i(g.size,f,e,"add")};d=h.can_business_create_multi_source_custom_conversion;return d&&a.selectedAccountType==="biz"?b("React").createElement(b("Link.react"),{onClick:c},j):null});e.exports=f}),null);
__d("CustomConversionRuleSet.react",["cx","fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","CustomConversionAddEventContainer.react","CustomConversionAndOrSelector.react","CustomConversionConstants","CustomConversionRuleListContainer.react","FDSText.react","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCMigrationCategory").MigrationCategory;b("immutable").List;b("immutable").OrderedSet;var k=b("CustomConversionAndOrSelector.react").AndOrRow;c=b("CustomConversionConstants").BOOLEAN_OPEARTORS;var l=c.or,m=h._("Custom conversions allow you to measure unique activities and optimize your ads for the events that matter most to your business. Create a custom conversion by applying rules to existing events."),n=h._("Include events that meet the following criteria"),o=500;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.creationError,d=a.dataSources,e=a.defaultSelectedDataSource,f=a.ruleSet,g=a.onRemoveListButtonClick;a=[];a.push(f.map(function(a,c){a=c>0?b("React").createElement("div",{className:"_dt_"},k({selectedOperator:l})):null;return b("React").createElement("div",{className:"_3-8z",key:c},a,b("React").createElement(b("CustomConversionRuleListContainer.react"),{dataSources:d,defaultSelectedDataSource:e,ruleListCount:f.size,ruleListIndex:c,onRemoveListButtonClick:g}))}));return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",width:o},m),c!=null?b("React").createElement("div",{className:"_3-8- _3-98"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"custom_conversion_rule_set_error",textData:[{type:"PARAGRAPH",data:{text:c}}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{type:"error",messageBody:c}})):null,b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",width:o},n)),a,b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("CustomConversionAddEventContainer.react"),null)))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("DataSourceToCustomAudienceRuleSignalSourceMapping",["CustomAudienceRuleSignalSource","SignalsDataSourcesEnum"],(function(a,b,c,d,e,f){"use strict";c=(a={},a[b("SignalsDataSourcesEnum").PIXEL]=b("CustomAudienceRuleSignalSource").PIXEL,a[b("SignalsDataSourcesEnum").DATA_SET]=b("CustomAudienceRuleSignalSource").OFFLINE_EVENTS,a[b("SignalsDataSourcesEnum").APP_EVENT]=b("CustomAudienceRuleSignalSource").APP,a);e.exports=c}),null);
__d("CustomConversionRuleSerializationUtil",["CustomAudienceRuleField","DataSourceToCustomAudienceRuleSignalSourceMapping","PixelBasePageLoadEvents"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=60;d=60*c;f=24*d;var g=30*f;function h(a){a=babelHelpers["extends"]({},a);var c=a.externalSource,event=a.event;a=a.filters;c=c.map(function(a){return{id:a.id,type:b("DataSourceToCustomAudienceRuleSignalSourceMapping")[a.type]}});var d=event!=null?event:{field:"event",operator:"eq",value:b("PixelBasePageLoadEvents").PAGE_VIEW},e={event_sources:c,filter:{operator:"and",filters:[d]},retention_seconds:g};a.map(function(a){e[b("CustomAudienceRuleField").FILTER].filters.push({operator:"or",filters:a.value})});return e}function i(){return{inclusions:{operator:"or",rules:[]}}}function a(a){var b=i();a.map(function(a){b.inclusions.rules.push(h(a))});return JSON.stringify(b)}e.exports={getEmptyRules:i,serializeRule:h,serializeRules:a}}),null);
__d("SignalsBusinessCustomConversionIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","GraphEdgeName","LoadObject","SignalsHomeActionTypes","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("business",a).edge(b("GraphEdgeName").CUSTOMCONVERSIONS).get({fields:["id","is_archived"],limit:300}).then(b("GraphAPIPaging").allPages()),function(a){a=a.data.filter(function(a){return!a.is_archived}).map(function(a){return a.id});c(h(a))},d)})};a.prototype.__customReduce=function(a,c){__p&&__p();c=c.action;var d=c.businessID,e=c.customConversionID,f;switch(c.type){case b("SignalsHomeActionTypes").BUSINESS_CUSTOM_CONVERSION_CREATE.FINISH:if(a.get(d)==null||!a.get(d).hasValue())return a;c=a.get(d);c=c!=null?c.getValueEnforcing():h();f=c.push(e);return a.set(d,b("LoadObject").withValue(f));case b("SignalsHomeActionTypes").BUSINESS_CUSTOM_CONVERSION_DELETE.FINISH:c=a.get(d).getValueEnforcing();f=c.remove(c.indexOf(e));return a.set(d,b("LoadObject").withValue(f));default:return a}};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsBusinessOwnedAdAccountListStore",["Promise","AdsGraphAPI","GraphAPIPaging","GraphEdgeName","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("business",a).edge(b("GraphEdgeName").OWNED_AD_ACCOUNTS).get({fields:["account_id","name"],limit:300}).then(b("GraphAPIPaging").allPages()),function(a){c(h(a.data))},d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCustomConversionCreationStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{creationState:null,newCustomConversionID:null}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("customConversionSelectorForCreation.react",["AdsStoreUtils","LoadObject","SignalsCustomConversionCreationStateStore","SignalsCustomConversionStore","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("SignalsCustomConversionCreationStateStore")],function(){var a=b("SignalsCustomConversionCreationStateStore").getState();a=a.newCustomConversionID;return a},e.id+".customConversionIDSelector");c=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsCustomConversionStore")),a],function(a,c){return c!=null?b("SignalsCustomConversionStore").get(c):b("LoadObject").empty()},{name:e.id+".customConversionSelectorForCreation"});e.exports=c}),null);
__d("CustomConversionCreationBodyContainer.react",["cx","fbt","ix","FDSLink.react","FDSSpinner.react","Image.react","ImageBlock.react","React","SignalsCustomConversionSelectedAccountUIStateStore","SignalsHomeRedirectUtils","SUIBusinessTheme","SUIText.react","XUIDialogBody.react","XUIGrayText.react","XUINotice.react","adsCreateSelector","adsCreateSelectorContainer","adsCreateStoreSelector","customConversionSelectorForCreation.react","signalsPropsSelector"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("SignalsHomeRedirectUtils").getAdsCreationURI;a=b("signalsPropsSelector")(function(a){return a});var k=i("21686"),l=i("21684"),m=function(a){__p&&__p();var c=a.customConversionLO,d=a.isCreated,e=a.isSelectedAccountBizType,f=a.uriToBusinessSettings;a=a.selectedAdAccount;var g=a.selectedAccountID;a=a.selectedAccountType;if(!d)return null;else if(!c.hasValue())return b("React").createElement(b("FDSSpinner.react"),null);else{d=c.getValueEnforcing();return b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement("div",null,b("React").createElement("div",{className:"_5wby _3-95"},b("React").createElement(b("Image.react"),{src:k}),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x",display:"block",shade:"medium",size:"xlarge"},h._("Your custom conversion {custom conversion name} has been successfully created.",[h._param("custom conversion name",d.name)]),e&&f!==""?h._("{space} You can assign the custom conversion to an ad account in your {link to Business Settings}.",[h._param("space"," "),h._param("link to Business Settings",b("React").createElement(b("FDSLink.react"),{href:f,showUnderline:"never",target:"_blank"},h._("Business Settings")))]):null)),b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("SUIText.react"),{color:"placeholder",display:"block",size:"header4",textAlign:"center"},h._("ID: {custom conversion id}",[h._param("custom conversion id",d.id)]))),b("React").createElement(b("XUINotice.react"),{size:"small"},h._("Your Custom Conversion will now start recording actions. Once the first action has been recorded, it will switch from \"No activity yet\" to \"Active\"")),g!=null&&a==="act"?b("React").createElement("div",null,b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("SUIText.react"),{display:"block",size:"body1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Next Steps"))),b("React").createElement("div",{className:"_247t _5m0n _3-8x"},b("React").createElement("ul",null,b("React").createElement(n,{selectedAccountID:g})))):null))}};c=b("adsCreateStoreSelector")([b("SignalsCustomConversionSelectedAccountUIStateStore")],function(){return b("SignalsCustomConversionSelectedAccountUIStateStore").getState()},e.id+".selectedAccountSelector");d=b("adsCreateSelector")([b("customConversionSelectorForCreation.react"),a,c],function(a,b,c){var d=b.isCreated,e=b.isSelectedAccountBizType;b=b.uriToBusinessSettings;return{customConversionLO:a,isCreated:d,isSelectedAccountBizType:e,selectedAdAccount:c,uriToBusinessSettings:b}},{name:e.id+".selector"});f=b("adsCreateSelectorContainer")(d,function(a){var c=a.customConversionLO,d=a.isCreated,e=a.isSelectedAccountBizType,f=a.selectedAdAccount;a=a.uriToBusinessSettings;return b("React").createElement(m,{customConversionLO:c,isCreated:d,isSelectedAccountBizType:e,selectedAdAccount:f,uriToBusinessSettings:a})},{withProps:!0});function n(a){a=a.selectedAccountID;return b("React").createElement("li",{className:"_247s"},b("React").createElement(b("ImageBlock.react"),{spacing:"large"},b("React").createElement(b("Image.react"),{src:l}),b("React").createElement("div",null,b("React").createElement(b("FDSLink.react"),{href:j(null,a),showUnderline:"never",target:"_blank"},b("React").createElement(b("XUIGrayText.react"),{shade:"medium",size:"header4",weight:"bold"},h._("Create a Conversion Ad")),b("React").createElement("div",{className:"_3-8w"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("Once your Custom Conversion has collected user actions, you can create a new ad using the conversions objective to reach people that are more likely to take this action.")))))))}e.exports=f}),null);
__d("CustomConversionCreationFooterContainer.react",["fbt","FDSButton.react","React","adsCreateSelector","adsCreateSelectorContainer","customConversionSelectorForCreation.react","signalsPropsSelector","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("signalsPropsSelector")(function(a){return a});var h=function(a){var c=a.buttonGroupClassName,d=a.customConversionLO,e=a.errorMessage,f=a.isCreated,h=a.onClose;a=a.onCreate;d=d.isLoading();if(f&&d)return null;d=e==null;var i=f?g._("Done"):g._("Create");return b("React").createElement("div",{className:c},f?null:b("React").createElement(b("FDSButton.react"),{label:g._("Cancel"),use:"default",onClick:h}),b("React").createElement(b("FDSButton.react"),{isDisabled:!f&&!d,label:i,margin:"_3-9a",tooltip:f?null:e,use:"primary",onClick:f?h:a}))};c=b("adsCreateSelector")([b("customConversionSelectorForCreation.react"),a],function(a,b){var c=b.errorMessage,d=b.isCreated,e=b.onClose,f=b.onCreate;b=b.buttonGroupClassName;return{buttonGroupClassName:b,customConversionLO:a,errorMessage:c,isCreated:d,onClose:e,onCreate:f}},{name:e.id+".selector"});d=b("adsCreateSelectorContainer")(c,function(a){var c=a.buttonGroupClassName,d=a.customConversionLO,e=a.errorMessage,f=a.isCreated,g=a.onClose;a=a.onCreate;return b("React").createElement(h,{buttonGroupClassName:c,customConversionLO:d,errorMessage:e,isCreated:f,onClose:g,onCreate:a})},{withProps:!0});e.exports=d}),null);
__d("CustomConversionRuleSetContainer.react",["cx","CustomConversionRuleSet.react","React","SelectAccountDataSourceMapSelector","SignalsCustomConversionLogger","SignalsCustomConversionRuleSetStateActions","adsCreateSelector","adsCreateSelectorContainer","signalsPropsSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("signalsPropsSelector")(function(a){return a});var h=b("SignalsCustomConversionRuleSetStateActions").updateRuleListByRuleSetStateAction;c=b("adsCreateSelector")([b("SelectAccountDataSourceMapSelector"),a],function(a,b){a=a.conversionLO;b=b.creationError;return{conversionLO:a,creationError:b}},{name:e.id+".selector"});d=b("adsCreateSelectorContainer")(c,function(a){__p&&__p();var c=a.conversionLO;a=a.creationError;if(c.isEmpty()){b("SignalsCustomConversionLogger").scope("CustomConversionRuleSetContainer").logError(new Error("Conversion should be loaded"),"calculate_state");return null}c=c.getValueEnforcing();var d=c.selectedID,e=c.dataSourceMap;c=function(a){return h(a,e,d,"delete")};var f=e.apps,g=e.pixels,i=e.offlineEventSets,j=e.defaultSelectedDataSource,k=e.ruleSet;f={apps:f,pixels:g,offlineEventSets:i};return b("React").createElement("div",{className:"_3p2q"},b("React").createElement(b("CustomConversionRuleSet.react"),{creationError:a,dataSources:f,defaultSelectedDataSource:j,ruleSet:k,onRemoveListButtonClick:c}))},{withProps:!0});e.exports=d}),null);
__d("SignalsCustomConversionCreationDialogContent.react",["cx","CustomConversionCreationBodyContainer.react","CustomConversionCreationFooterContainer.react","CustomConversionCreationMetaDataForm.react","CustomConversionCreationUtils","CustomConversionRuleSetContainer.react","React","SignalsHomeComponentTestIDs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CustomConversionCreationUtils").getShouldShowConversionCategorySelector,j=b("CustomConversionCreationUtils").getShouldAllowCreateErrorMessage;c=b("React").PureComponent;b("immutable").List;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.$1=function(){var a=this.props,b=a.canSeeNewStandardEvents;a=a.ruleSet;var c=this.props.metaDataForm;return j(c.conversionName,c.conversionValue,c.conversionCategory,a,b)};a.prototype.render=function(){var a=this.props,c=a.canSeeNewStandardEvents,d=a.currency,e=a.metaDataForm,f=a.isCreated,g=a.isSelectedAccountBizType,h=a.creationError,j=a.ruleSet,k=a.uriToBusinessSettings,l=a.onClose,m=a.onCreate;a=a.onMetadataFormChange;var n=i(j,c),o=this.$1();j=j.first();j=j.selectedDataSource;j=j!=null?j.type:null;return b("React").createElement("div",{className:"_1avk","data-testid":b("SignalsHomeComponentTestIDs").CUSTOM_CONVERSION_DIALOG},b("React").createElement("div",{className:"_1avl"},b("React").createElement(b("CustomConversionCreationBodyContainer.react"),{isCreated:f,isSelectedAccountBizType:g,uriToBusinessSettings:k}),f?null:b("React").createElement("div",{className:"_eqr"},b("React").createElement(b("CustomConversionRuleSetContainer.react"),{creationError:h}),b("React").createElement(b("CustomConversionCreationMetaDataForm.react"),{canSeeNewStandardEvents:c,currency:d,metaDataForm:e,selectedDataSourceType:j,showConversionCategorySelector:n,onFormChange:a}))),b("React").createElement(b("CustomConversionCreationFooterContainer.react"),{buttonGroupClassName:"_1avn",errorMessage:o,isCreated:f,onClose:l,onCreate:m}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MHubAtlasCriticalObserverTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MHubAtlasCriticalObserverLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MHubAtlasCriticalObserverLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MHubAtlasCriticalObserverLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdvertiserID=function(a){this.$1.advertiser_id=a;return this};a.prototype.setBusinessUnitID=function(a){this.$1.business_unit_id=a;return this};a.prototype.setClassName=function(a){this.$1.class_name=a;return this};a.prototype.setErrorCode=function(a){this.$1.error_code=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventDetails=function(a){this.$1.event_details=a;return this};a.prototype.setFbObjectID=function(a){this.$1.fb_object_id=a;return this};a.prototype.setMutationType=function(a){this.$1.mutation_type=a;return this};a.prototype.setObjectType=function(a){this.$1.object_type=a;return this};a.prototype.setStackTrace=function(a){this.$1.stack_trace=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={advertiser_id:!0,business_unit_id:!0,class_name:!0,error_code:!0,error_message:!0,event:!0,event_details:!0,fb_object_id:!0,mutation_type:!0,object_type:!0,stack_trace:!0,time:!0,weight:!0};e.exports=a}),null);
__d("MHubAtlasObserverMutationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASSIGN:"assign",CREATE:"create",UNSASSIGN:"unassign",ENABLE:"enable",DISABLE:"disable",UPDATE:"update"})}),null);
__d("MHubAtlasObserverSyncEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STARTED:"started",COMPLETE:"complete",ROLLBACK:"rollback",EXCEPTION:"exception",SCHEDULED:"scheduled"})}),null);
__d("MHubAtlasObserverSyncObjectType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ACCOUNT:"ad_account",APPLICATION:"application",BUSINESS_UNIT:"business_unit",MULTI_SOURCE_CUSTOM_CONVERSION:"multi_source_custom_conversion",OFFLINE_DATA_SET:"offline_data_set",PIXEL:"pixel",SINGLE_SOURCE_CUSTOM_CONVERSION:"single_source_custom_conversion",CUSTOM_CONVERSION_FROM_AMT:"custom_conversion_from_amt"})}),null);
__d("SignalsCustomConversionDataManager",["AdsCustomConversionsFields","AdsGraphAPI","GraphAPIPaging","GraphEdgeName","MHubAtlasCriticalObserverTypedLogger","MHubAtlasObserverMutationType","MHubAtlasObserverSyncEventType","MHubAtlasObserverSyncObjectType","SignalsHomeAPILogger","SignalsHomeCustomConversionActions","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("AdsCustomConversionsFields").APPLICATION,b("AdsCustomConversionsFields").EVENT_SOURCE_TYPE,b("AdsCustomConversionsFields").ID,b("AdsCustomConversionsFields").LAST_FIRED_TIME,b("AdsCustomConversionsFields").NAME,b("AdsCustomConversionsFields").OFFLINE_CONVERSION_DATA_SET,b("AdsCustomConversionsFields").PIXEL];a={load:function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id+".load").object(b("GraphEdgeName").CUSTOMCONVERSIONS,a).get({fields:g}).then(b("GraphAPIPaging").allPages()),function(c){return b("SignalsHomeCustomConversionActions").handleCustomConversionLoadSuccess(a,c)},function(c){b("SignalsHomeCustomConversionActions").handleCustomConversionLoadFailure(a,c),b("SignalsHomeAPILogger").logError({error:c,object:b("GraphEdgeName").CUSTOMCONVERSIONS,requestType:"get"})})},assignBusinessCustomConversionToLOB:function(a,c,d){var f;b("promiseDone")(b("AdsGraphAPI").get(e.id+".assignBusinessCustomConversionToLOB").object(b("GraphEdgeName").CUSTOMCONVERSIONS,a).edge(b("GraphEdgeName").BUSINESS_UNITS).post((f={},f[b("AdsCustomConversionsFields").BUSINESS]=c,f[b("AdsCustomConversionsFields").BUSINESS_UNIT_IDS]=[d],f)),function(c){new(b("MHubAtlasCriticalObserverTypedLogger"))().setFbObjectID(a).setMutationType(b("MHubAtlasObserverMutationType").CREATE).setBusinessUnitID(d).setObjectType(b("MHubAtlasObserverSyncObjectType").CUSTOM_CONVERSION_FROM_AMT).setEvent(b("MHubAtlasObserverSyncEventType").COMPLETE).log()},function(a){b("SignalsHomeAPILogger").logError({edge:b("GraphEdgeName").BUSINESS_UNITS,error:a,object:b("GraphEdgeName").CUSTOMCONVERSIONS,requestType:"post"})})}};e.exports=a}),null);
__d("SignalsCustomConversionLoggingKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SIGNALS_CUSTOM_CONVERSION_CREATE:"signals_custom_conversion_create",SIGNALS_CUSTOM_CONVERSION_CREATE_ERROR:"signals_custom_conversion_create_error",SIGNALS_CUSTOM_CONVERSION_DELETE:"signals_custom_conversion_delete",SIGNALS_CUSTOM_CONVERSION_DUPLICATE_RULE_WARNING:"signals_custom_conversion_duplicate_rule_warning",SIGNALS_CUSTOM_CONVERSION_EDIT_NAME:"signals_custom_conversion_edit_name",SIGNALS_CUSTOM_CONVERSION_EDIT_DESCRIPTION:"signals_custom_conversion_edit_description",SIGNALS_CUSTOM_CONVERSION_EDIT_VALUE:"signals_custom_conversion_edit_value",SIGNALS_CUSTOM_CONVERSION_SELECT:"signals_custom_conversion_select",SIGNALS_CUSTOM_CONVERSION_SHARE:"signals_custom_conversion_share"})}),null);
__d("SignalsCustomConversionLoggerHelper",["SignalsCustomConversionLogger","SignalsCustomConversionLoggingKeys","keyMirror","signalsLoggingSelectedObjectListener"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CUSTOM_CONVERSION_ID:""});function h(a,c,d){b("SignalsCustomConversionLogger").scope(d).secondary(b("signalsLoggingSelectedObjectListener"),function(){return{id:c,type:g.CUSTOM_CONVERSION_ID}}).logAction(a)}function i(a,c,d,e,f){b("SignalsCustomConversionLogger").scope(f).secondary(b("signalsLoggingSelectedObjectListener"),function(){return{id:c,dataSourceType:d,dataSourceID:e,type:g.CUSTOM_CONVERSION_ID}}).logAction(a)}function j(a,c,d,e,f,h,i){b("SignalsCustomConversionLogger").scope(i).secondary(b("signalsLoggingSelectedObjectListener"),function(){return{adAccountID:d,businessID:e,dataSourceType:f,dataSourceID:h,type:g.CUSTOM_CONVERSION_ID}}).logError(c,a)}function a(a,c,d,e){i(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_CREATE,a,c,d,e)}function c(a,c,d,e,f){j(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_CREATE_ERROR,Error("Custom Converion Create Error"),a,c,d,e,f)}function d(a,c,d,e,f){b("SignalsCustomConversionLogger").scope(f).secondary(b("signalsLoggingSelectedObjectListener"),function(){return{adAccountID:a,businessID:c,dataSourceType:d,dataSourceID:e,type:g.CUSTOM_CONVERSION_ID}}).logAction(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_DUPLICATE_RULE_WARNING)}function f(a,c){h(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_DELETE,a,c)}function k(a,c){h(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_EDIT_NAME,a,c)}function l(a,c){h(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_EDIT_DESCRIPTION,a,c)}function m(a,c){h(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_EDIT_VALUE,a,c)}function n(a,c){h(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_SELECT,a,c)}function o(a,c,d){if(a==null&&c==null)return;b("SignalsCustomConversionLogger").scope(d).secondary(b("signalsLoggingSelectedObjectListener"),function(){return{adAccountID:a,businessID:c,type:g.CUSTOM_CONVERSION_ID}}).logAction(b("SignalsCustomConversionLoggingKeys").SIGNALS_CUSTOM_CONVERSION_SHARE)}e.exports={logCreateSuccess:a,logCreateError:c,logCreateDuplicateCustomConversion:d,logDelete:f,logEditName:k,logEditDescription:l,logEditValue:m,logSelect:n,logShareCustomConversion:o}}),null);
__d("SignalsDisableMultisourceCustomConversionFBNUXActions",["SignalsFBNUXActions","SignalsHomeActionTypes","SignalsHomeLoggedDispatcher","SignalsHomeMegaphones","SignalsNUXConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsHomeActionTypes").MEGAPHONE,h=b("SignalsHomeMegaphones").DISABLE_MULTISOURCE_CONVERSION_USAGE;a=function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:g.CLOSE_START,name:h})};c=function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:g.CLOSED,name:h})};d=function(){b("SignalsHomeLoggedDispatcher").handleUpdateFromViewAction({type:g.VIEWED,name:h})};f=new(b("SignalsFBNUXActions"))(b("SignalsNUXConfig").disableMultiSourceCustomConversionNuxID,a,c,d);e.exports=f}),null);
__d("SignalsPixelUIUtils",["BusinessConf","BusinessURI.brands"],(function(a,b,c,d,e,f){"use strict";a={getURIToBMSettings:function(a,c){c=c!=null?"/"+c:"";return b("BusinessURI.brands")("/settings/pixels"+c).addQueryData({business_id:a}).setSubdomain(b("BusinessConf").DOMAIN)},getURIToBMSettingsConversion:function(a,c){c=c!=null?"/"+c:"";return b("BusinessURI.brands")("/settings/custom-conversions"+c).addQueryData({business_id:a}).setSubdomain(b("BusinessConf").DOMAIN)}};e.exports=a}),null);
__d("SignalsCustomConversionCreationDialogContainer.react",["cx","fbt","AdsAPIAdAccountFields","AdsCustomConversionsFields","AdsGraphAPI","AdsPixelConversionStandardEvents","CustomConversionCreationUtils","CustomConversionDisableMultiSourceFBNuxAction","CustomConversionDisableMultiSourceFBNuxDataProvider","CustomConversionRuleSerializationUtil","FDSSpinner.react","GraphEdgeName","LoadObject","OffsiteCustomEventType","React","SignalsAdAccountCustomConversionIDListStore","SignalsAdAccountStore","SignalsAppCustomConversionIDListStore","SignalsBusinessCustomConversionIDListStore","SignalsBusinessOwnedAdAccountListStore","SignalsContainer.react","SignalsCustomConversionCreationDialogContent.react","SignalsCustomConversionCreationMetadataFormDataProvider","SignalsCustomConversionCreationStateStore","SignalsCustomConversionCreationUpdateMetadataFormAction","SignalsCustomConversionDialogStore","SignalsCustomConversionDialogTypes","SignalsCustomConversionLoggerHelper","SignalsCustomConversionRuleSetUIStateStore","SignalsCustomConversionSelectedAccountUIStateStore","SignalsDataSourcesEnum","SignalsDisableMultisourceCustomConversionFBNUXActions","SignalsDSCustomConversionIDListStore","SignalsEventsManagerURLParams","SignalsHomeCustomConversionActions","SignalsHomeInformationNUX.react","SignalsHomeSelectedSectionEnum","SignalsHomeStateStore","SignalsNUXConfig","SignalsPixelCustomConversionIDListStore","SignalsPixelUIUtils","SignalsShouldShowFBNuxDataProvider","SignalsUnifiedStandardEventParticipationStore","SignalsWebsiteCustomConversionCreatedAction","immutable","promiseDone","SignalsCustomConversionDataManager","AdsPixelURLUtil"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("immutable").List,k=b("CustomConversionDisableMultiSourceFBNuxDataProvider").toFluxStore(),l=b("SignalsCustomConversionCreationMetadataFormDataProvider").toFluxStore(),m=b("SignalsCustomConversionDataManager").assignBusinessCustomConversionToLOB,n=b("AdsPixelURLUtil").removeUrlParams,o=b("SignalsPixelUIUtils").getURIToBMSettingsConversion,p=b("SignalsNUXConfig").disableMultiSourceCustomConversionNuxID,q=b("SignalsContainer.react").getValueSafe,r=b("CustomConversionCreationUtils").getCustomConversionCreationError,s=b("CustomConversionCreationUtils").getEventName,t=b("CustomConversionCreationUtils").getRawRules,u=b("CustomConversionCreationUtils").getStandardEventsDetails,v=b("CustomConversionCreationUtils").getCreationErrorMessage,w=b("CustomConversionRuleSerializationUtil").serializeRules,x=b("SignalsHomeSelectedSectionEnum").DATA_SOURCES,y=b("SignalsHomeSelectedSectionEnum").CUSTOM_CONVERSIONS,z="USD",A=h._("Multisource Custom Conversions Currently Not Available"),B=h._("Previously, you were able to create a custom conversion using multiple data sources, like your Facebook pixel and mobile SDK. That feature is now unavailable while we work to improve the experience."),C=1760002,D={showDescription:!1,conversionCategory:null,conversionDescription:"",conversionName:"",conversionValue:""};c=babelHelpers.inherits(a,b("SignalsContainer.react"));i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=i.constructor).call.apply(a,[this].concat(f)),this.$SignalsCustomConversionCreationDialogContainer3=function(){var a,c=this.props.onClose,d=this.getStateEnforcing(),e=d.ruleSet,f=d.selectedAccountID,g=d.selectedScreenSection,h=d.dataSourceMap;d=d.createdCustomConversionID;e=e.first();e=babelHelpers["extends"]({},e,{rules:j()});b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("SignalsCustomConversionDialogTypes").NO_DIALOG});b("SignalsCustomConversionRuleSetUIStateStore").updateStateLater((a={},a[f]=h.set("ruleSet",j([babelHelpers["extends"]({},e)])),a));b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:null,newCustomConversionID:null});c!=null&&c();d!=null&&g===y&&this.$SignalsCustomConversionCreationDialogContainer4(d)}.bind(this),this.$SignalsCustomConversionCreationDialogContainer4=function(a){b("SignalsHomeCustomConversionActions").inspectCustomConversion(a),b("SignalsCustomConversionLoggerHelper").logSelect(a,"SignalsCustomConversionCreationDialog")},this.$SignalsCustomConversionCreationDialogContainer5=function(){__p&&__p();var a=this.getStateEnforcing(),c=a.canSeeNewStandardEvents,d=a.metaDataForm,f=a.ownerBusinessID,g=a.ruleSet,h=a.selectedAccountID,i=a.selectedAccountType,j=a.selectedScreenSection;a=d.conversionName;var k=d.conversionCategory,l=d.conversionValue;d=d.conversionDescription;var o=this.props,p=o.businessID,q=o.businessUnitID,v=o.onCreate,y=o.onCreateError;o={};var z=g.first(),A=t(g);A=w(A);var B=z.selectedDataSource;z=z.selectedEvent;if(k!=null)o[b("AdsCustomConversionsFields").CATEGORY]=b("OffsiteCustomEventType")[k];else if(B!=null)if(B.type===b("SignalsDataSourcesEnum").DATA_SET)o[b("AdsCustomConversionsFields").CATEGORY]=b("OffsiteCustomEventType")[b("AdsPixelConversionStandardEvents").Purchase.custom_event_type];else if(z!=null){k=u(B,c);c=s(z);o[b("AdsCustomConversionsFields").CATEGORY]=b("OffsiteCustomEventType")[k[c].custom_event_type]}l!==""&&(o[b("AdsCustomConversionsFields").VALUE]=l);d!=null&&(o[b("AdsCustomConversionsFields").DESCRIPTION]=d);a!=null&&(o[b("AdsCustomConversionsFields").NAME]=a);i==="act"?o[b("AdsCustomConversionsFields").ACCOUNT_ID]=h:i==="biz"&&(o[b("AdsCustomConversionsFields").BUSINESS]=h);o[b("AdsCustomConversionsFields").ADVANCED_RULE]=A;b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").loading()});i==="act"?b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").adaccount(h).edge(b("GraphEdgeName").CUSTOMCONVERSIONS).post(o),function(a){__p&&__p();b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch(D,{line:"414",module:"SignalsCustomConversionCreationDialogContainer.react.js"});if(v!=null)v(a.id),b("SignalsWebsiteCustomConversionCreatedAction").dispatch({adAccountID:h},{line:"419",module:"SignalsCustomConversionCreationDialogContainer.react.js"});else{b("SignalsHomeCustomConversionActions").finishCreateAdAccountCustomConversion(a.id,h);if(g.size===1&&B!=null){z=B.id;if(j===x&&z!=null&&h!=null){var c=z+":"+h;B.type===b("SignalsDataSourcesEnum").PIXEL?b("SignalsPixelCustomConversionIDListStore").clearKeyLater(c):B.type===b("SignalsDataSourcesEnum").APP_EVENT?b("SignalsAppCustomConversionIDListStore").clearKeyLater(JSON.stringify({appID:z,adAccountID:h})):B.type===b("SignalsDataSourcesEnum").DATA_SET&&b("SignalsDSCustomConversionIDListStore").clearKeyLater(c)}}f!=null&&f==p&&b("SignalsBusinessCustomConversionIDListStore").clearKeyLater(f)}b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withValue(!0),newCustomConversionID:a.id});b("SignalsCustomConversionLoggerHelper").logCreateSuccess(a.id,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialog")},function(a){y!=null&&y(a),b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withError(r(a,h,p,B))}),a.error_subcode===C?b("SignalsCustomConversionLoggerHelper").logCreateDuplicateCustomConversion(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialog"):b("SignalsCustomConversionLoggerHelper").logCreateError(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialog")}):i==="biz"&&b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").object("business",h).edge(b("GraphEdgeName").CUSTOMCONVERSIONS).post(o),function(a){b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch(D,{line:"519",module:"SignalsCustomConversionCreationDialogContainer.react.js"}),v!=null?v(a.id):(b("SignalsHomeCustomConversionActions").finishCreateBusinessCustomConversion(a.id,h),q!=null&&(n(b("SignalsEventsManagerURLParams").BUSINESS_UNIT_ID),m(a.id,h,q))),b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withValue(!0),newCustomConversionID:a.id}),b("SignalsCustomConversionLoggerHelper").logCreateSuccess(a.id,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialog")},function(a){b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withError(r(a,h,p,B))}),a.error_subcode===C?b("SignalsCustomConversionLoggerHelper").logCreateDuplicateCustomConversion(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialog"):b("SignalsCustomConversionLoggerHelper").logCreateError(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialog")})}.bind(this),this.$SignalsCustomConversionCreationDialogContainer6=function(a){b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch(a,{line:"588",module:"SignalsCustomConversionCreationDialogContainer.react.js"})},c}a.prototype.getStores=function(){return[k,b("SignalsAdAccountStore"),b("SignalsAdAccountCustomConversionIDListStore"),b("SignalsAppCustomConversionIDListStore"),b("SignalsBusinessCustomConversionIDListStore"),b("SignalsBusinessOwnedAdAccountListStore"),b("SignalsCustomConversionCreationStateStore"),b("SignalsCustomConversionDialogStore"),b("SignalsCustomConversionRuleSetUIStateStore"),b("SignalsCustomConversionSelectedAccountUIStateStore"),b("SignalsDSCustomConversionIDListStore"),b("SignalsHomeStateStore"),b("SignalsPixelCustomConversionIDListStore"),l,b("SignalsShouldShowFBNuxDataProvider").toFluxStore(),b("SignalsUnifiedStandardEventParticipationStore")]};a.prototype.calculateState=function(){__p&&__p();var a=b("SignalsCustomConversionCreationStateStore").getState(),c=a.creationState;a=a.newCustomConversionID;var d=b("SignalsHomeStateStore").getState();d=d.selectedScreenSection;var e=b("SignalsCustomConversionSelectedAccountUIStateStore").getState(),f=e.selectedAccountID;e=e.selectedAccountType;var g;if(f==null||e==null)throw b("LoadObject").withError(new Error("Need an account to be set"));var h="";if(e==="act"){var i=q(b("SignalsAdAccountStore").get(f));h=i[b("AdsAPIAdAccountFields").CURRENCY];g=i.owner_business!=null?i.owner_business.id:null}else if(e==="biz"){g=f;i=f!=null?q(b("SignalsBusinessOwnedAdAccountListStore").get(f)).map(function(a){return{id:a.account_id}}):j([]);i=i.first();h=i!=null?q(b("SignalsAdAccountStore").get(i.id))[b("AdsAPIAdAccountFields").CURRENCY]:z}i=q(b("SignalsUnifiedStandardEventParticipationStore").get(f));i=i.result;var m=b("SignalsCustomConversionRuleSetUIStateStore").getState()[f],n=m.ruleSet,r=!1,s=null;c!=null&&(!c.hasError()?r=q(c):s=v(c.getError()));c=null;r&&(c=a);a="";e==="biz"&&(a=o(f,c).toString());var t=q(b("SignalsShouldShowFBNuxDataProvider")().get(p)),u=k.getState();u=!u&&t;return{canSeeNewStandardEvents:i,createdCustomConversionID:c,creationError:s,currency:h,dataSourceMap:m,isCreated:r,metaDataForm:l.getState(),ownerBusinessID:g,ruleSet:n,selectedAccountID:f,selectedAccountType:e,selectedScreenSection:d,shouldSeeNUX:u,uriToBusinessSettings:a}};a.prototype.$SignalsCustomConversionCreationDialogContainer1=function(){b("SignalsDisableMultisourceCustomConversionFBNUXActions").closeStart(),b("CustomConversionDisableMultiSourceFBNuxAction").dispatch({isNuxClosed:!0},{line:"268",module:"SignalsCustomConversionCreationDialogContainer.react.js"}),b("SignalsDisableMultisourceCustomConversionFBNUXActions").closed()};a.prototype.$SignalsCustomConversionCreationDialogContainer2=function(){b("SignalsDisableMultisourceCustomConversionFBNUXActions").viewed()};a.prototype.renderLoading=function(){return b("React").createElement("div",{className:"_33x5"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}))};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.canSeeNewStandardEvents,d=a.creationError,e=a.currency,f=a.isCreated,g=a.metaDataForm,h=a.ruleSet,i=a.selectedAccountType,j=a.shouldSeeNUX;a=a.uriToBusinessSettings;return b("React").createElement(b("React").Fragment,null,j?b("React").createElement("div",{className:"_6d35"},b("React").createElement(b("SignalsHomeInformationNUX.react"),{content:B,title:A,onClose:this.$SignalsCustomConversionCreationDialogContainer1,onView:this.$SignalsCustomConversionCreationDialogContainer2})):null,b("React").createElement(b("SignalsCustomConversionCreationDialogContent.react"),{canSeeNewStandardEvents:c,creationError:d,currency:e||z,isCreated:f,isSelectedAccountBizType:i==="biz",metaDataForm:g,ruleSet:h,uriToBusinessSettings:a,onClose:this.$SignalsCustomConversionCreationDialogContainer3,onCreate:this.$SignalsCustomConversionCreationDialogContainer5,onMetadataFormChange:this.$SignalsCustomConversionCreationDialogContainer6}))};e.exports=a}),null);
__d("SignalsCustomConversionDataSourceLoadingDialogContainer.react",["cx","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_33x5"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("customConversionSelectorForDeletion.react",["AdsStoreUtils","LoadObject","SignalsCustomConversionSelectStateStore","SignalsCustomConversionStore","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("SignalsCustomConversionSelectStateStore")],function(){return b("SignalsCustomConversionSelectStateStore").getState().selectedCustomConversionID},e.id+".customConversionIDSelector");c=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsCustomConversionStore")),a],function(a,c){return c!=null?b("SignalsCustomConversionStore").get(c):b("LoadObject").empty()},{name:e.id+".customConversionSelectorForDeletion"});e.exports=c}),null);
__d("CustomConversionDeletionBodyContainer.react",["cx","fbt","React","SUIText.react","adsCreateSelector","adsCreateSelectorContainer","customConversionSelectorForDeletion.react","signalsPropsSelector"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("signalsPropsSelector")(function(a){return a});var i=function(a){var c=a.customConversionLO;a=a.isDeleted;c=c.getValueEnforcing();c=c.name;return b("React").createElement("div",{className:"_4vme"},b("React").createElement(b("SUIText.react"),{color:"primary",size:"header3"},a?h._("Your custom conversion {custom conversion name} has been successfully deleted.",[h._param("custom conversion name",c)]):h._("If you delete this custom conversion, you won't be able to see it in ads reporting or use it for optimization in any existing or future ad campaigns.")))};c=b("adsCreateSelector")([b("customConversionSelectorForDeletion.react"),a],function(a,b){b=b.isDeleted;return{customConversionLO:a,isDeleted:b}},{name:e.id+".selector"});d=b("adsCreateSelectorContainer")(c,function(a){var c=a.customConversionLO;a=a.isDeleted;return b("React").createElement(i,{customConversionLO:c,isDeleted:a})},{withProps:!0});e.exports=d}),null);
__d("SignalsCustomConversionDeletionDialogContent.react",["cx","fbt","CustomConversionDeletionBodyContainer.react","React","SUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.isDeleted,d=a.onDelete;a=a.onClose;var e=c?"Done":"Delete";return b("React").createElement("div",{className:"_4vmd"},b("React").createElement(b("CustomConversionDeletionBodyContainer.react"),{isDeleted:c}),b("React").createElement("div",{className:"_4vmi"},c?null:b("React").createElement(b("SUIButton.react"),{label:h._("Cancel"),use:"default",onClick:a}),b("React").createElement(b("SUIButton.react"),{label:h._("{text for deletion button}",[h._param("text for deletion button",e)]),style:{marginLeft:8},use:"confirm",onClick:c?a:d})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SignalsCustomConversionDeletionStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeCustomConversionSlideInPanelStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{show:!1}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCustomConversionDeletionDialogContainer.react",["AdsGraphAPI","AdsPixelURLUtil","LoadObject","React","SignalsContainer.react","SignalsCustomConversionDeletionDialogContent.react","SignalsCustomConversionDeletionStateStore","SignalsCustomConversionDialogStore","SignalsCustomConversionDialogTypes","SignalsCustomConversionLoggerHelper","SignalsCustomConversionSelectStateStore","SignalsCustomConversionStore","SignalsHomeCustomConversionActions","SignalsHomeCustomConversionSlideInPanelStateStore","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;c=babelHelpers.inherits(a,b("SignalsContainer.react"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.$SignalsCustomConversionDeletionDialogContainer2=function(){__p&&__p();var a=this.props,c=a.accountID,d=a.businessID,f=this.getStateEnforcing();b("SignalsCustomConversionDeletionStateStore").updateStateLater((a={},a[f.selectedCustomConversionID]=b("LoadObject").loading(),a));b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").object("customconversion",f.selectedCustomConversionID).remove(),function(){var a;c!=null?b("SignalsHomeCustomConversionActions").finishDeleteCustomConversion(f.selectedCustomConversionID,c):d!=null&&b("SignalsHomeCustomConversionActions").finishDeleteBusinessCustomConversion(f.selectedCustomConversionID,d);b("SignalsCustomConversionDeletionStateStore").updateStateLater((a={},a[f.selectedCustomConversionID]=null,a));b("AdsPixelURLUtil").removeUrlParams("custom_conversion_id");b("SignalsHomeCustomConversionActions").backToCustomConversionScreen();b("SignalsCustomConversionLoggerHelper").logDelete(f.selectedCustomConversionID,"SignalsHomeCustomConversionSlideInPanel")},function(a){var c;b("SignalsCustomConversionDeletionStateStore").updateStateLater((c={},c[f.selectedCustomConversionID]=b("LoadObject").withError(a),c))})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsCustomConversionDeletionStateStore"),b("SignalsCustomConversionStore"),b("SignalsCustomConversionSelectStateStore"),b("SignalsCustomConversionDialogStore"),b("SignalsHomeCustomConversionSlideInPanelStateStore")]};a.prototype.calculateState=function(){var a=b("SignalsCustomConversionSelectStateStore").getState();a=a.selectedCustomConversionID;if(a==null)throw b("LoadObject").withError(new Error("No custom conversion selected."));var c=h(b("SignalsCustomConversionStore").get(a));c=c.is_archived;return{isDeleted:c,selectedCustomConversionID:a}};a.prototype.$SignalsCustomConversionDeletionDialogContainer1=function(){b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("SignalsCustomConversionDialogTypes").NO_DIALOG})};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();a=a.isDeleted;return b("React").createElement(b("SignalsCustomConversionDeletionDialogContent.react"),{isDeleted:a,onClose:this.$SignalsCustomConversionDeletionDialogContainer1,onDelete:this.$SignalsCustomConversionDeletionDialogContainer2})};e.exports=a}),null);
__d("SignalsCustomConversionDialog.react",["React","SignalsDialog.react","SignalsHomeComponentTestIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;g=babelHelpers.inherits(a,c);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.footer,d=a.title,e=a.showCloseButton,f=a.children,g=a.onClose;a=a.width;return b("React").createElement(b("SignalsDialog.react"),{bodyStyle:{maxHeight:"100vh",overflowY:"auto"},"data-testid":b("SignalsHomeComponentTestIDs").CREATE_CUSTOM_CONVERSION_DIALOG,footer:c,header:{title:d,showCloseButton:e},hideOnBlur:!0,renderInBody:!0,width:a,onClose:g},f)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsCustomConversionExternalSourceStore",["Promise","AdsGraphAPI","SignalsDataSourcesEnum","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("immutable").OrderedSet;var i=(c={},c[b("SignalsDataSourcesEnum").PIXEL]={sourceName:"adspixel",fields:["id","name","last_fired_time"]},c[b("SignalsDataSourcesEnum").DATA_SET]={sourceName:"offline_conversion_data_set",fields:["id","name"]},c[b("SignalsDataSourcesEnum").APP_EVENT]={sourceName:"application",fields:["id","name"]},c);g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=JSON.parse(a);var c=a.id;a=a.type;a=i[a];var d=a.sourceName,f=a.fields;return new(b("Promise"))(function(a,g){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object(d,c).batched().get({fields:f}),a,g)})};a.prototype.__getBatchLoader=function(a){__p&&__p();return new(b("Promise"))(function(c,d){__p&&__p();var f=[],g=[],h=[];for(var j=a,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}m=m;m=JSON.parse(m);var n=m.id;m=m.type;switch(m){case b("SignalsDataSourcesEnum").PIXEL:g.push(n);break;case b("SignalsDataSourcesEnum").DATA_SET:h.push(n);break;case b("SignalsDataSourcesEnum").APP_EVENT:f.push(n);break}}if(g.length>0){m=i[b("SignalsDataSourcesEnum").PIXEL];n=m.sourceName;l=m.fields;b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getBatchLoader").objects(n,g).batched().get({fields:l}),c,d)}if(f.length>0){k=i[b("SignalsDataSourcesEnum").APP_EVENT];j=k.sourceName;m=k.fields;b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getBatchLoader").objects(j,f).batched().get({fields:m}),c,d)}if(h.length>0){n=i[b("SignalsDataSourcesEnum").DATA_SET];g=n.sourceName;l=n.fields;b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getBatchLoader").objects(g,h).batched().get({fields:l}),c,d)}})};a.prototype.getVal=function(a,b){a={id:a,type:b};return h.get.call(this,JSON.stringify(a))};a.prototype.getAllVal=function(a,b){return h.getAll.call(this,a.map(function(a){return JSON.stringify({id:a,type:b})}))};a.prototype.__parseBatchResults=function(a,c){__p&&__p();var d={};for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=JSON.parse(g);h=h.id;Object.prototype.hasOwnProperty.call(c,h)&&(d[g]=c[h])}return b("immutable").Map(d)};a.prototype.__getChunkSize=function(){return 50};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("CustomConversionExternalSourceContainer.react",["cx","AdsAccountStore","AdsPixelStatsAggregation","AdsPixelStatusUtils","AdsSlideshowCreateDataActionFlux","AdsStoreUtils","FDSSpinner.react","LoadObject","React","SelectAccountDataSourceMapSelector","SignalsAdAccountPixelIDListStore","SignalsBusinessPixelIDListStore","SignalsCustomConversionExternalSourceStore","SignalsCustomConversionRuleSetStateActions","SignalsDataSourcesEnum","SignalsHomeNewPixelStatsStore","SignalsHomeStateStore","immutable","adsCreateSelectorContainer","adsCreateStoreSelector","adsCreateSelector","parseISODate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("immutable").OrderedSet,j=b("SignalsCustomConversionRuleSetStateActions").loadRuleSetDataSourceListStateAction,k=b("SignalsCustomConversionRuleSetStateActions").updateDialogType,l=b("SignalsCustomConversionRuleSetStateActions").updateRuleSetDefaultDataSouceStateAction;a=b("adsCreateStoreSelector")([b("SignalsHomeStateStore"),b("AdsAccountStore")],function(a,c){a=b("SignalsHomeStateStore").getState();c=a.accountID;a=a.businessID;var d={id:"",type:"act"};c!=null?d.id=c:a!=null?(d.id=a,d.type="biz"):d.id=b("AdsAccountStore").getSelectedAccountIDX();return d},e.id+".selectAccountSelector");c=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsAdAccountPixelIDListStore")),b("AdsStoreUtils").toSelector(b("SignalsBusinessPixelIDListStore")),a],function(a,c,d){if(d.type==="biz")return b("SignalsBusinessPixelIDListStore").get(d.id);else return b("SignalsAdAccountPixelIDListStore").get(d.id)},{name:e.id+".pixelIDSelector"});d=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsCustomConversionExternalSourceStore")),c],function(a,c){if(c.isLoading()||!c.hasValue())return{pixelsLO:h([b("LoadObject").loading()])};a=c.getValueEnforcing();c=(a||h()).map(function(a){return b("SignalsCustomConversionExternalSourceStore").getVal(a,b("SignalsDataSourcesEnum").PIXEL).map(function(c){return{id:a,name:c.name,lastFiredTime:c.last_fired_time!=null?b("parseISODate")(c.last_fired_time).getTime()/1e3:0,type:b("SignalsDataSourcesEnum").PIXEL}})});return{pixelsLO:c}},{name:e.id+".pixelSelector"});f=b("adsCreateSelector")([d],function(a){__p&&__p();a=a.pixelsLO;if(!a.every(function(a){return a.isDone()&&a.hasValue()}))return{pixelLO:b("LoadObject").loading()};a=a.map(function(a){return a.getValueEnforcing()}).sort(function(a,b){if(a.lastFiredTime!=null&&b.lastFiredTime!=null)return b.lastFiredTime-a.lastFiredTime;else if(a.lastFiredTime!=null)return-1;else return 1});return{pixelLO:b("LoadObject").withValue(a.first())}},{name:e.id+".defaultDataSourceSelector"});g=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsHomeNewPixelStatsStore")),f],function(a,c){a=c.pixelLO;if(a.isLoading()||!a.hasValue())return{eventsLO:b("LoadObject").loading()};c=a.getValueEnforcing();return c!=null?{eventsLO:b("SignalsHomeNewPixelStatsStore").getVal(c.id,b("AdsPixelStatsAggregation").EVENT,b("AdsPixelStatusUtils").getStatsMaximumStartTimeForPixel())}:{eventsLO:b("LoadObject").empty()}},{name:e.id+".defaultDataSourceEventsSelector"});c=b("adsCreateSelector")([b("SelectAccountDataSourceMapSelector"),g,f,d,a],function(a,c,d,e,f){__p&&__p();a=a.conversionLO;c=c.eventsLO;d=d.pixelLO;e=e.pixelsLO;if(c.isLoading()||!c.hasValue()||d.isLoading()||!d.hasValue())return{res:b("LoadObject").loading()};c=c.getValueEnforcing().flatMap(function(a){return a.data.map(function(a){return a.value})}).toSet().map(function(a){return{name:a,displayName:a,kind:"fired"}}).toArray();d=d.getValueEnforcing();e=e.map(function(a){return a.getValueEnforcing()});return{res:b("LoadObject").withValue({events:c,pixel:d,pixels:e,selectedAccount:f,conversionLO:a})}},{name:e.id+".selector"});g=b("adsCreateSelectorContainer")(c,function(a){__p&&__p();a=a.res;if(!a.hasValue())return b("React").createElement("div",{className:"_33x5"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}));a=a.getValueEnforcing();var c=a.events,d=a.pixel,e=a.pixels,f=a.selectedAccount;a=a.conversionLO;a=a.hasValue()?a.getValueEnforcing().dataSourceMap:null;a==null?j({pixels:i(e),offlineEventSets:i(),apps:i(),defaultSelectedDataSource:d,defaultAvailableEvents:c,lastFiredDataSource:d,selectAppEventRuleTypes:{}},f.id):d!=null&&a!=null&&l(d,a,f.id,[],0,!0);k(b("AdsSlideshowCreateDataActionFlux").actionType);return null});e.exports=g}),null);
__d("SignalsSelectorLabelWrapper_TEMP.react",["cx","FlexLayout.react","React","SUIHelpMessage.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("FlexLayout.react"),{className:"_6otv",direction:"vertical"},b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_6otv"},b("React").createElement("div",{className:"_3-94"},b("React").createElement("span",{className:"_6otw"},this.props.label),this.props.tooltipText!=null?b("React").createElement(b("SUIHelpMessage.react"),{value:this.props.tooltipText}):null)),this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionCreationCategoryValueInputGroup.react",["cx","fbt","AdsCurrencyFormatter","CustomConversionCategorySelector.react","CustomConversionCreationUtils","FDSTextInput.react","ProportionalGrid.react","ProportionalGridColumn.react","React","SignalsSelectorLabelWrapper_TEMP.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CustomConversionCreationUtils").getConversionValueErrorMessage;c=b("React").PureComponent;var k="100%",l=h._("Category"),m=h._("Value (optional)"),n=h._("Enter conversion value here"),o=h._("Choose the category that best describes the rule you're defining. Selecting a category helps Facebook learn how to optimize ad delivery for the custom conversion you're creating."),p=h._("If you haven't already defined a conversion value for this event (e.g. purchases over $50), enter a value here. If you don't define a value for this event, the default value will be zero.");d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onFormChange({conversionName:a})}.bind(this),this.$2=function(a){this.props.onFormChange({conversionValue:a})}.bind(this),this.$3=function(a){this.props.onFormChange({conversionCategory:a})}.bind(this),this.$4=function(){return b("AdsCurrencyFormatter").formatCurrencyWithISO(this.props.currency,parseInt(this.props.metaDataForm.conversionValue,10))}.bind(this),this.$5=function(){var a;return this.props.metaDataForm.conversionValue!==""?h._("{currencyValue}",[h._param("currencyValue",(a=this.$4())!=null?a:"")]):null}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.canSeeNewStandardEvents,d=a.metaDataForm,e=a.selectedDataSourceType;a=a.showConversionCategorySelector;var f=d.conversionCategory;d=d.conversionValue;var g=j(d);return b("React").createElement(b("ProportionalGrid.react"),null,a?b("React").createElement(b("ProportionalGridColumn.react"),{width:1/2},b("React").createElement("div",{className:"_3-97",style:{lineHeight:0}},b("React").createElement(b("SignalsSelectorLabelWrapper_TEMP.react"),{label:l,tooltipText:o},b("React").createElement(b("CustomConversionCategorySelector.react"),{canSeeNewStandardEvents:c,selectedDataSourceType:e,value:f,width:k,onChange:this.$3})))):null,b("React").createElement(b("ProportionalGridColumn.react"),{width:1/2},b("React").createElement("div",{className:"_3-97",style:{lineHeight:0}},b("React").createElement(b("FDSTextInput.react"),{description:this.$5(),errorMessage:g,label:m,placeholder:n,size:"medium",tooltipText:p,value:d,onChange:this.$2}))))};e.exports=a}),null);
__d("CustomConversionCreationMetaDataFormV2.react",["cx","fbt","FDSText.react","FDSTextInput.react","ProportionalGrid.react","ProportionalGridColumn.react","React","SignalsHomeHelpLink.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=h._("Name"),k=h._("Description (optional)"),l=h._("Enter your custom conversion name here"),m=h._("Enter a short description here"),n=h._("Define the customer actions that matter most to your business by customizing existing events. {learnMoreLink}",[h._param("learnMoreLink",b("React").createElement(b("SignalsHomeHelpLink.react"),{helpContent:"CONVERSION_INTRO"},"Learn more"))]);d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){var a=this.props,b=a.metaDataForm;a=a.onFormChange;b=b.showDescription;a({conversionDescription:"",showDescription:!b})}.bind(this),this.$2=function(a){this.props.onFormChange({conversionName:a})}.bind(this),this.$3=function(a){this.props.onFormChange({conversionValue:a})}.bind(this),this.$4=function(a){this.props.onFormChange({conversionDescription:a})}.bind(this),b}a.prototype.render=function(){var a=this.props.metaDataForm,c=a.conversionDescription;a=a.conversionName;return b("React").createElement(b("ProportionalGrid.react"),null,b("React").createElement(b("ProportionalGridColumn.react"),null,b("React").createElement(b("FDSText.react"),{margin:"_3-97"},n)),b("React").createElement(b("ProportionalGridColumn.react"),{width:1/2},b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("FDSTextInput.react"),{label:j,placeholder:l,size:"medium",value:a,onChange:this.$2}))),b("React").createElement(b("ProportionalGridColumn.react"),{width:1/2},b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("FDSTextInput.react"),{label:k,placeholder:m,size:"medium",value:c,onChange:this.$4}))))};e.exports=a}),null);
__d("CustomConversionEventSelectorRowV2.react",["fbt","CustomConversionConstants","React","SearchableEntry","StaticSearchSource","SUISearchableSelector.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CustomConversionConstants").EVENT_LABEL_MAP;c=b("React").PureComponent;var j=g._("No events available");d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var event=a,c=a.getTitle(),d=i.findKey(function(a){return a.toString()===c});d!=null&&(event=new(b("SearchableEntry"))({auxiliaryData:event.getAuxiliaryData(),title:d,uniqueID:a.getUniqueID()}));this.props.onEventChange(event)}.bind(this),c}a.prototype.getLabeledEvent=function(event){if(event!=null){var a=i.get(event.getTitle());if(a!=null)return new(b("SearchableEntry"))({auxiliaryData:event.getAuxiliaryData(),title:a,uniqueID:event.getUniqueID(),type:event.getType()})}return event};a.prototype.render=function(){var a=this.props,c=a.selectedEvent,d=a.options;a=a.width;d=d.map(function(a){return this.getLabeledEvent(a)}.bind(this));var e=this.getLabeledEvent(c);d=new(b("StaticSearchSource"))(d);c=c!=null&&c.getAuxiliaryData().kind==="internal"?g._("No PageView event detected. You'll need to add a PageView event to your pixel in order to create a Custom Conversion from this event."):null;return b("React").createElement(b("SUISearchableSelector.react"),{hasCategories:!0,isDisabled:e==null,placeholder:j,searchSource:d,value:e,warningMessage:c,width:a,onChange:this.$1})};e.exports=a}),null);
__d("CustomConversionStringRuleFilterV2.react",["CustomConversionConstants","CustomConversionRuleEnum","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSHorizontalLayout.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=b("CustomConversionConstants").COMPARISON_OPERATORS;var h=b("CustomConversionConstants").COMPARISON_OPERATORS_LABELS;f=b("CustomConversionConstants").STRING_OPERATORS;var i=b("CustomConversionConstants").STRING_OPERATOR_LABELS,j="auto",k=[d["="],d["<"],d[">"],d["<="],d[">="],d.i_contains,d.i_not_contains],l=[d["="],d["!="],d["<"],d[">"],d["<="],d[">="],d.i_contains,d.i_not_contains],m=[f.i_contains,f.i_not_contains,f["="]];g=babelHelpers.inherits(a,c);g&&g.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.selectedFilter,d=a.selectedRuleType,e=a.selectorWidth;a=a.onSelectFilter;var f=null;switch(d){case b("CustomConversionRuleEnum").CUSTOM_DATA:case b("CustomConversionRuleEnum").VALUE:f=l.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a,value:a},h[a])});break;case b("CustomConversionRuleEnum").URL:f=m.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a,value:a},i[a])});break;default:f=k.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a,value:a},h[a])})}return b("React").createElement(b("FDSHorizontalLayout.react"),null,b("React").createElement(b("FDSDropdownSelector.react"),{buttonUse:"flat",value:c,width:e!=null?e:j,onChange:a},f))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionRuleV2.react",["cx","fbt","CustomConversionRuleEnum","CustomConversionStringRuleFilterV2.react","CustomConversionSubRuleType.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSHorizontalLayout.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","React","SignalsDataSourcesEnum","SUIBusinessThemeContainer.react","SUIFreeTextTokenizer.react","SUITextInput.react","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("immutable").List;b("immutable").OrderedSet;var k=120;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.availableRuleSubtypes,d=a.availableRuleTypes,e=a.customDataField,f=a.errorMessageParameterValues,g=a.errorMessageCustomDataField,i=a.parameterValues,l=a.selectedFilter,m=a.selectedRuleSubtype,n=a.selectorWidth,o=a.onCustomDataFieldChange,p=a.onFilterChange,q=a.onParameterValueChange,r=a.onSubtypeChange;a=a.onTypeChange;var s=this.props.selectedRuleType,t=this.props.selectedDataSourceType,u=j(d.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{description:a.description,key:a.name,value:a.name},a.name)}));n=n!==null?n:k;var v=[];if(u.size>1){var w=s!=null?s.name:null;v=b("React").createElement(b("FDSHorizontalLayout.react"),null,b("React").createElement(b("FDSDropdownSelector.react"),{buttonUse:"flat",value:w,width:n,onChange:a},u.toArray()),s===b("CustomConversionRuleEnum").CUSTOM_DATA?b("React").createElement(b("SUITextInput.react"),{errorMessage:g,maxLength:50,placeholder:s?s.placeholderTextSelector(l):"",value:e,onChange:o}):null)}else t!==b("SignalsDataSourcesEnum").APP_EVENT&&(s=d.first(),v=b("React").createElement(b("FDSText.react"),{margin:"_3-9b",size:"meta1",weight:"bold"},d.first().name));w="";s!=null&&(w=s===b("CustomConversionRuleEnum").CUSTOM_DATA?s.parameterPlaceholderTextSelector(l):s.placeholderTextSelector(l));n=[b("CustomConversionRuleEnum").URL,b("CustomConversionRuleEnum").CUSTOM_DATA,b("CustomConversionRuleEnum").VALUE].includes(s)||c.size>0;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("FDSHorizontalLayout.react"),null,v,s!=null&&s!==b("CustomConversionRuleEnum").URL?b("React").createElement(b("CustomConversionSubRuleType.react"),{availableRuleSubtypes:c,isSuppressed:!0,selectedDataSourceType:t,selectedRuleSubtype:m,onSubtypeChange:r}):null,n?b("React").createElement(b("CustomConversionStringRuleFilterV2.react"),{errorMessage:f,parameterValues:i,placeholderText:w,selectedFilter:l,selectedRuleType:s,onParameterValueChange:q,onSelectFilter:p}):null)),b("React").createElement("div",{className:"_3-97 _2pit"},n?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FlexLayout.react"),{align:"center"},b("React").createElement(b("FDSText.react"),{margin:"_3-90"},h._("at least one of these words or numbers:")),b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("SUIFreeTextTokenizer.react"),{errorMessage:f,placeholder:typeof w==="function"?w(l):w,value:i!=null?i:[],onChange:q}))))):null))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionRuleV2Container.react",["cx","fbt","CustomConversionRuleDefaultValues","CustomConversionRuleEnum","CustomConversionRuleV2.react","FDSText.react","FlexLayout.react","ProportionalGrid.react","ProportionalGridColumn.react","React","SelectAccountDataSourceMapSelector","SignalsCustomConversionLogger","SignalsCustomConversionRuleSetStateActions","SUICloseButton.react","immutable","adsCreateSelector","adsCreateSelectorContainer","signalsPropsSelector"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").OrderedSet,j=b("SignalsCustomConversionRuleSetStateActions").updateRuleByRuleListStateAction,k=b("SignalsCustomConversionRuleSetStateActions").updateRuleListOnRuleChangeStateAction,l=b("CustomConversionRuleDefaultValues").FILTERS_FOR_RULE_TYPE,m=h._("Parameter values cannot be empty"),n=h._("Custom data field cannot be empty");a=b("signalsPropsSelector")(function(a){return a});c=b("adsCreateSelector")([a,b("SelectAccountDataSourceMapSelector")],function(a,b){b=b.conversionLO;return{props:a,conversionLO:b}},{name:e.id+".ruleSelector"});d=b("adsCreateSelectorContainer")(c,function(a){__p&&__p();var c=a.props;a=a.conversionLO;if(a.isEmpty()){b("SignalsCustomConversionLogger").scope("CustomConversionRuleContainer").logError(new Error("Conversion should be loaded"),"calculate_state");return null}var d=c.availableRuleTypes,e=c.ruleListIndex,f=c.ruleIndex;c=c.selectedDataSourceType;a=a.getValueEnforcing();var g=a.selectedID,o=a.dataSourceMap;a=o.ruleSet;a=a.get(e);a=a.rules.get(f);var p=a.availableRuleSubtypes;d=p!=null&&p.size===0?d=d["delete"](b("CustomConversionRuleEnum").EVENT_PARAMETER):d;var q=function(a){return k(e,f,o,g,a)},r={onClick:function(){return j(e,f,o,g,p||i(),"delete")}},s={onSubtypeChange:function(a){return q({selectedRuleSubtype:a})},onFilterChange:function(a){return q({selectedFilter:a})},onParameterValueChange:function(b){var a=b==null||b.length===0?m:"";q({errorMessageParameterValues:a,parameterValues:b})},onCustomDataFieldChange:function(a){var b=a==null||a==""?n:"";q({errorMessageCustomDataField:b,customDataField:a})},onTypeChange:function(a){var b=(d||i()).find(function(b){return b.name===a});q({selectedRuleType:b,selectedFilter:l[b.name]})}},t=a.customDataField,u=a.errorMessageCustomDataField,v=a.errorMessageParameterValues,w=a.parameterValues,x=a.selectedFilter,y=a.selectedRuleSubtype;a=a.selectedRuleType;return b("React").createElement(b("ProportionalGrid.react"),null,b("React").createElement(b("ProportionalGridColumn.react"),null,b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("FlexLayout.react"),{justify:"all"},b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"bold"},h._("Rule")," ",f+1),b("React").createElement(b("SUICloseButton.react"),babelHelpers["extends"]({size:"large"},r))))),b("React").createElement(b("ProportionalGridColumn.react"),null,b("React").createElement(b("CustomConversionRuleV2.react"),babelHelpers["extends"]({availableRuleSubtypes:p||i(),availableRuleTypes:d||i(),customDataField:t,errorMessageCustomDataField:u,errorMessageParameterValues:v,parameterValues:w,ruleIndex:f,ruleListIndex:e,selectedDataSourceType:c,selectedFilter:x,selectedRuleSubtype:y,selectedRuleType:a},s))))},{withProps:!0});e.exports=d}),null);
__d("CustomConversionRuleListV2.react",["cx","fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","CustomConversionAddNewRuleButtonContainer.react","CustomConversionConstants","CustomConversionCreationUtils","CustomConversionDataSourceSelector.react","CustomConversionEventSelectorRowV2.react","CustomConversionRuleV2Container.react","FDSCloseButton.react","FDSHelpMessage.react","FDSText.react","FlexLayout.react","ProportionalGrid.react","ProportionalGridColumn.react","React","SearchableEntry","SignalsSelectorLabelWrapper_TEMP.react","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCMigrationCategory").MigrationCategory,k=b("CustomConversionConstants").DATA_SOURCE_LABELS,l=b("CustomConversionConstants").CUSTOM_CONVERSION_LABELS,m="100%",n=b("CustomConversionCreationUtils").getCustomConversionEventCategory;b("immutable").List;b("immutable").OrderedSet;var o=h._("This data source has not sent any events in the past 28 days."),p=h._("Add another rule to further customize this event. You can choose to include events from specific URLs or events with specific parameters.");c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){var b=this.props.onDataSourceChange;a!=null&&b(a.getAuxiliaryData())}.bind(this),this.$2=function(){var a=this.props,b=a.ruleListIndex;a=a.onRemoveListButtonClick;a(b)}.bind(this),b}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.availableEvents,d=a.availableRuleTypes,e=a.canSeeNewStandardEvents,f=a.dataSources,g=a.defaultSelectedDataSource,i=a.rules,q=a.ruleListCount,r=a.ruleListIndex,s=a.selectedDataSource,t=a.selectedEvent;a=a.onEventChange;var u=s==null?g:s;g=[];g.push(i.map(function(a,c){return b("React").createElement("div",{key:c},b("React").createElement(b("CustomConversionRuleV2Container.react"),{availableRuleTypes:d,ruleIndex:c,ruleListIndex:r,selectedDataSourceType:u.type}))}));var v=[];c!=null&&(v=c.map(function(a,c){var d=a.name,f=a.displayName;a=a.kind;return new(b("SearchableEntry"))({auxiliaryData:{name:d,displayName:f,kind:a},uniqueID:c,title:f,type:l[n(u,d,e)]})}));var w=null;t!=null&&i.size>0&&(w=b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-8n",palette:"light",size:"body2"},h._("Include events that meet {=all} of these criteria",[h._param("=all",b("React").createElement(b("FDSText.react"),{color:"primary",palette:"light",size:"body2",weight:"bold"},h._("all")))])));i=!(c==null||c.length===0);f=u!=null?b("React").createElement("div",null,b("React").createElement(b("ProportionalGrid.react"),null,b("React").createElement(b("ProportionalGridColumn.react"),{width:1/2},b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("SignalsSelectorLabelWrapper_TEMP.react"),{label:h._("Data Source for Your Website:")},b("React").createElement(b("CustomConversionDataSourceSelector.react"),{dataSources:f,selectedDataSource:u,width:"100%",onDataSourceChange:this.$1})))),i?b("React").createElement(b("ProportionalGridColumn.react"),{key:"events_selector",width:1/2},b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("SignalsSelectorLabelWrapper_TEMP.react"),{label:k[u.type]},b("React").createElement(b("CustomConversionEventSelectorRowV2.react"),{options:v,selectedEvent:t,width:m,onEventChange:a})))):null),b("React").createElement("div",{className:"_6m15"},b("React").createElement(b("ProportionalGrid.react"),null,i?[b("React").createElement(b("ProportionalGridColumn.react"),{key:"rule_list_help_text"},b("React").createElement("div",{className:"_6m1u _3-97"},w)),b("React").createElement(b("ProportionalGridColumn.react"),{key:"rule_list_component"},b("React").createElement("div",{className:"_3-97"},g)),b("React").createElement(b("ProportionalGridColumn.react"),{key:"add_new_rule_button"},b("React").createElement(b("CustomConversionAddNewRuleButtonContainer.react"),{ruleListIndex:r,selectedDataSource:s,selectedEvent:t,tooltipComponent:b("React").createElement(b("FDSHelpMessage.react"),{value:p})}))]:b("React").createElement(b("ProportionalGridColumn.react"),null,b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"custom_conversion_no_events_error",textData:[{type:"PARAGRAPH",data:{text:o}}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{type:"warning",messageBody:o}})))))):null;v=q>1?b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("FDSCloseButton.react"),{margin:"_3-90",size:"large",onClick:this.$2}),b("React").createElement(b("FDSText.react"),null,h._("Remove Event")))):null;return b("React").createElement("div",null,v,c==null||c.length===0?b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"custom_conversion_no_events_error",textData:[{type:"PARAGRAPH",data:{text:o}}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{type:"warning",messageBody:o}}):f)};e.exports=a}),null);
__d("CustomConversionRuleListV2Container.react",["cx","CustomConversionCreationUtils","CustomConversionExternalSourceFetchUtils","CustomConversionRuleListV2.react","FDSSpinner.react","LoadObject","React","SearchableEntry","SignalsAdAccountStore","SignalsContainer.react","SignalsCustomConversionCreationUpdateMetadataFormAction","SignalsCustomConversionEventCategoriesEnum","SignalsCustomConversionPixelStatsSelector","SignalsCustomConversionRuleListUIStateStore","SignalsCustomConversionRuleSetStateActions","SignalsCustomConversionRuleSetUIStateStore","SignalsCustomConversionSelectedAccountUIStateStore","SignalsDataSourcesEnum","SignalsUnifiedStandardEventParticipationStore","immutable","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("immutable").List;var i=b("immutable").Map,j=b("immutable").OrderedSet,k=b("SignalsContainer.react").getValueSafe,l=b("CustomConversionCreationUtils").getCustomConversionEventCategory,m=b("CustomConversionCreationUtils").getFilteredAvailableEvents,n=b("CustomConversionCreationUtils").getEventName,o=b("CustomConversionExternalSourceFetchUtils").genDataSourceAvailableEvents,p=b("SignalsCustomConversionRuleSetStateActions").updateRuleByRuleListStateAction,q=b("SignalsCustomConversionRuleSetStateActions").updateRuleSetDefaultDataSouceStateAction,r=b("SignalsCustomConversionRuleSetStateActions").updateRuleListDataSourceStateAction,s=b("SignalsCustomConversionRuleSetStateActions").updateRuleListSelectedEventStateAction;c=babelHelpers.inherits(a,b("SignalsContainer.react"));h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$CustomConversionRuleListV2Container1=function(a){var c=this.getStateEnforcing(),d=c.selectedAccountID,e=c.selectedDataSource,f=c.selectedEvent;c=c.dataSourceMap;var g=this.props.ruleListIndex;f!=null&&f.getUniqueID()!==a.getUniqueID()&&b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch({conversionCategory:null},{line:"240",module:"CustomConversionRuleListV2Container.react.js"});s(e,a,g,c,d)}.bind(this),this.$CustomConversionRuleListV2Container2=function(a){__p&&__p();var c=this.getStateEnforcing(),d=c.selectedAccountID,e=c.selectedDataSource,f=c.dataSourceMap;c=f.dataSourceEventMap;var g=this.props.ruleListIndex,h=a.id,i=a.type;e!=null&&a.id!==e.id&&b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch({conversionCategory:null},{line:"269",module:"CustomConversionRuleListV2Container.react.js"});if(c.has(h)){r(a,g,f,d);return}b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((e={},e[g]=b("LoadObject").loading(),e));b("promiseDone")(o(h,i),function(c){q(a,f,d,c.availableEvents,g,!1,c.selectAppEventRuleTypes);b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((c={},c[g]=null,c))},function(a){var c;b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((c={},c[g]=b("LoadObject").withError(a),c))})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsCustomConversionRuleListUIStateStore"),b("SignalsCustomConversionRuleSetUIStateStore"),b("SignalsCustomConversionSelectedAccountUIStateStore")].concat(b("SignalsCustomConversionPixelStatsSelector").getStores(),[b("SignalsUnifiedStandardEventParticipationStore")])};a.prototype.calculateState=function(a,c){__p&&__p();c=c.ruleListIndex;var d=b("SignalsCustomConversionSelectedAccountUIStateStore").getState();d=d.selectedAccountID;if(d==null)throw b("LoadObject").withError(new Error("Need an account to be set"));var e=k(b("SignalsUnifiedStandardEventParticipationStore").get(d));e=e.result;var f=b("SignalsCustomConversionRuleSetUIStateStore").getState()[d],g=f.dataSourceEventMap,h=f.ruleSet,o=f.defaultSelectedDataSource,q=f.defaultAvailableEvents,r=h.get(c);r=r.selectedEvent;var s=h.get(c),t=s.availableRuleTypes,u=s.rules;s=s.selectedDataSource;var v=b("SignalsCustomConversionRuleListUIStateStore").getState()[c];g=v==null||!k(v)?g:i();if(o==null)throw b("LoadObject").withError(new Error("Need default selectedDataSource to be set"));v=s==null?q:g.get(s.id);v=m(v);r==null&&v.length>0&&(r=new(b("SearchableEntry"))({auxiliaryData:{name:v[0].name,displayName:v[0].displayName,kind:v[0].kind},title:v[0].displayName,uniqueID:0}));q=a||{};if(u.size===0&&s!=null&&s.type===b("SignalsDataSourcesEnum").PIXEL&&(s!==q.selectedDataSource||r!==q.selectedEvent)){a=b("SignalsCustomConversionPixelStatsSelector")({selectedDataSource:s,selectedEvent:r});q=k(a).reduce(function(a,b){b=b.data;b=j(b.map(function(a){a=a.value;return a}));a=a.concat(b);return a},j());r!=null&&l(s,n(r),e)!=b("SignalsCustomConversionEventCategoriesEnum").CUSTOM_EVENT&&p(c,u.size,f,d,q,"add")}return{availableRuleTypes:t||j(),canSeeNewStandardEvents:e,dataSourceMap:f,dataSourceEventMap:g,defaultSelectedDataSource:o,rules:u,availableEvents:v,ruleSet:h,selectedDataSource:s||o,selectedEvent:r,selectedAccountID:d}};a.prototype.renderLoading=function(){return b("React").createElement("div",{className:"_61ot"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}))};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.availableRuleTypes,d=a.canSeeNewStandardEvents,e=a.defaultSelectedDataSource,f=a.rules,g=a.ruleSet,h=a.availableEvents,i=a.selectedEvent;a=a.selectedDataSource;return b("React").createElement(b("CustomConversionRuleListV2.react"),babelHelpers["extends"]({},this.props,{availableEvents:h,availableRuleTypes:c,canSeeNewStandardEvents:d,defaultSelectedDataSource:e,ruleListCount:g.size,rules:f,selectedDataSource:a,selectedEvent:i,onDataSourceChange:this.$CustomConversionRuleListV2Container2,onEventChange:this.$CustomConversionRuleListV2Container1}))};e.exports=a}),null);
__d("CustomConversionRuleSetV2.react",["fbt","cx","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","CustomConversionAddEventContainer.react","CustomConversionConstants","CustomConversionRuleListV2Container.react","FDSText.react","React","immutable","suiMargin","CustomConversionAndOrSelectorV2.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCMigrationCategory").MigrationCategory;b("immutable").List;b("immutable").OrderedSet;var k=b("CustomConversionAndOrSelectorV2.react").AndOrRow;c=b("CustomConversionConstants").BOOLEAN_OPEARTORS;var l=c.or;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.creationError,d=a.dataSources,e=a.defaultSelectedDataSource,f=a.ruleSet,h=a.onRemoveListButtonClick;a=[];a.push(f.map(function(a,c){a=c>0?b("React").createElement("div",{className:"_6m1u _2pi2 _3-97"},k({selectedOperator:l})):null;return b("React").createElement("div",{key:c},a,b("React").createElement(b("CustomConversionRuleListV2Container.react"),{dataSources:d,defaultSelectedDataSource:e,ruleListCount:f.size,ruleListIndex:c,onRemoveListButtonClick:h}))}));return b("React").createElement("div",null,c!=null?b("React").createElement("div",{className:"_3-8- _3-98"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"custom_conversion_rule_set_error",textData:[{type:"PARAGRAPH",data:{text:c}}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{type:"error",messageBody:c}})):null,b("React").createElement(b("FDSText.react"),{margin:"_3-97"},g._("Select your data source and the event you want to customize")),a,b("React").createElement(b("CustomConversionAddEventContainer.react"),null))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionRuleSetV2Container.react",["cx","CustomConversionRuleSetV2.react","React","SelectAccountDataSourceMapSelector","SignalsCustomConversionLogger","SignalsCustomConversionRuleSetStateActions","adsCreateSelector","adsCreateSelectorContainer","signalsPropsSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("SignalsCustomConversionRuleSetStateActions").updateRuleListByRuleSetStateAction;a=b("signalsPropsSelector")(function(a){return a});c=b("adsCreateSelector")([b("SelectAccountDataSourceMapSelector"),a],function(a,b){a=a.conversionLO;b=b.creationError;return{conversionLO:a,creationError:b}},{name:e.id+".selector"});d=b("adsCreateSelectorContainer")(c,function(a){__p&&__p();var c=a.conversionLO;a=a.creationError;if(c.isEmpty()){b("SignalsCustomConversionLogger").scope("CustomConversionRuleSetV2Container").logError(new Error("Conversion should be loaded"),"calculate_state");return null}c=c.getValueEnforcing();var d=c.selectedID,e=c.dataSourceMap;c={onRemoveListButtonClick:function(a){return h(a,e,d,"delete")}};var f=e.apps,g=e.pixels,i=e.offlineEventSets,j=e.defaultSelectedDataSource,k=e.ruleSet;f={apps:f,pixels:g,offlineEventSets:i};return b("React").createElement("div",{className:"_6m18 _3-97 _2pip"},b("React").createElement(b("CustomConversionRuleSetV2.react"),babelHelpers["extends"]({creationError:a,dataSources:f,defaultSelectedDataSource:j,ruleSet:k},c)))},{withProps:!0});e.exports=d}),null);
__d("SignalsCustomConversionCreationDialogContentV2.react",["cx","CustomConversionCreationBodyContainer.react","CustomConversionCreationCategoryValueInputGroup.react","CustomConversionCreationFooterContainer.react","CustomConversionCreationMetaDataFormV2.react","CustomConversionCreationUtils","CustomConversionRuleSetV2Container.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CustomConversionCreationUtils").getShouldShowConversionCategorySelector,j=b("CustomConversionCreationUtils").getShouldAllowCreateErrorMessage;c=b("React").PureComponent;b("immutable").List;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.$1=function(){var a=this.props,b=a.canSeeNewStandardEvents;a=a.ruleSet;var c=this.props.metaDataForm;return j(c.conversionName,c.conversionValue,c.conversionCategory,a,b)};a.prototype.render=function(){var a=this.props,c=a.canSeeNewStandardEvents,d=a.currency,e=a.metaDataForm,f=a.isCreated,g=a.isSelectedAccountBizType,h=a.creationError,j=a.ruleSet,k=a.uriToBusinessSettings,l=a.onClose,m=a.onCreate;a=a.onMetadataFormChange;var n=i(j,c),o=this.$1();j=j.first();j=j.selectedDataSource;j=j!=null?j.type:null;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("CustomConversionCreationBodyContainer.react"),{isCreated:f,isSelectedAccountBizType:g,uriToBusinessSettings:k}),f?null:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("CustomConversionCreationMetaDataFormV2.react"),{canSeeNewStandardEvents:c,currency:d,metaDataForm:e,selectedDataSourceType:j,showConversionCategorySelector:n,onFormChange:a}),b("React").createElement(b("CustomConversionRuleSetV2Container.react"),{creationError:h}),b("React").createElement(b("CustomConversionCreationCategoryValueInputGroup.react"),{canSeeNewStandardEvents:c,currency:d,metaDataForm:e,selectedDataSourceType:j,showConversionCategorySelector:n,onFormChange:a})),b("React").createElement(b("CustomConversionCreationFooterContainer.react"),{buttonGroupClassName:"_6m17",errorMessage:o,isCreated:f,onClose:l,onCreate:m}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SignalsCustomConversionCreationDialogV2Container.react",["cx","fbt","AdsAPIAdAccountFields","AdsCustomConversionsFields","AdsGraphAPI","AdsPixelConversionStandardEvents","CustomConversionCreationUtils","CustomConversionDisableMultiSourceFBNuxAction","CustomConversionDisableMultiSourceFBNuxDataProvider","CustomConversionRuleSerializationUtil","FDSSpinner.react","GraphEdgeName","LoadObject","OffsiteCustomEventType","React","SignalsAdAccountCustomConversionIDListStore","SignalsAdAccountStore","SignalsAppCustomConversionIDListStore","SignalsBusinessCustomConversionIDListStore","SignalsBusinessOwnedAdAccountListStore","SignalsContainer.react","SignalsCustomConversionCreationDialogContentV2.react","SignalsCustomConversionCreationMetadataFormDataProvider","SignalsCustomConversionCreationStateStore","SignalsCustomConversionCreationUpdateMetadataFormAction","SignalsCustomConversionDialogStore","SignalsCustomConversionDialogTypes","SignalsCustomConversionLoggerHelper","SignalsCustomConversionRuleSetUIStateStore","SignalsCustomConversionSelectedAccountUIStateStore","SignalsDataSourcesEnum","SignalsDisableMultisourceCustomConversionFBNUXActions","SignalsDSCustomConversionIDListStore","SignalsEventsManagerURLParams","SignalsHomeCustomConversionActions","SignalsHomeInformationNUX.react","SignalsHomeSelectedSectionEnum","SignalsHomeStateStore","SignalsNUXConfig","SignalsPixelCustomConversionIDListStore","SignalsPixelUIUtils","SignalsShouldShowFBNuxDataProvider","SignalsUnifiedStandardEventParticipationStore","SignalsWebsiteCustomConversionCreatedAction","immutable","promiseDone","SignalsCustomConversionDataManager","AdsPixelURLUtil"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("immutable").List,k=b("CustomConversionDisableMultiSourceFBNuxDataProvider").toFluxStore(),l=b("SignalsCustomConversionCreationMetadataFormDataProvider").toFluxStore(),m=b("SignalsCustomConversionDataManager").assignBusinessCustomConversionToLOB,n=b("AdsPixelURLUtil").removeUrlParams,o=b("SignalsPixelUIUtils").getURIToBMSettingsConversion,p=b("SignalsNUXConfig").disableMultiSourceCustomConversionNuxID,q=b("SignalsContainer.react").getValueSafe,r=b("CustomConversionCreationUtils").getCustomConversionCreationError,s=b("CustomConversionCreationUtils").getEventName,t=b("CustomConversionCreationUtils").getRawRules,u=b("CustomConversionCreationUtils").getStandardEventsDetails,v=b("CustomConversionCreationUtils").getCreationErrorMessage,w=b("CustomConversionRuleSerializationUtil").serializeRules,x=b("SignalsHomeSelectedSectionEnum").DATA_SOURCES,y=b("SignalsHomeSelectedSectionEnum").CUSTOM_CONVERSIONS,z="USD",A=h._("Multisource Custom Conversions Currently Not Available"),B=h._("Previously, you were able to create a custom conversion using multiple data sources, like your Facebook pixel and mobile SDK. That feature is now unavailable while we work to improve the experience."),C=1760002,D={showDescription:!1,conversionCategory:null,conversionDescription:"",conversionName:"",conversionValue:""};c=babelHelpers.inherits(a,b("SignalsContainer.react"));i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=i.constructor).call.apply(a,[this].concat(f)),this.$SignalsCustomConversionCreationDialogContainer3=function(){var a,c=this.props.onClose,d=this.getStateEnforcing(),e=d.ruleSet,f=d.selectedAccountID,g=d.selectedScreenSection,h=d.dataSourceMap;d=d.createdCustomConversionID;e=e.first();e=babelHelpers["extends"]({},e,{rules:j()});b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("SignalsCustomConversionDialogTypes").NO_DIALOG});b("SignalsCustomConversionRuleSetUIStateStore").updateStateLater((a={},a[f]=h.set("ruleSet",j([babelHelpers["extends"]({},e)])),a));b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:null,newCustomConversionID:null});c!=null&&c();d!=null&&g===y&&this.$SignalsCustomConversionCreationDialogContainer4(d)}.bind(this),this.$SignalsCustomConversionCreationDialogContainer4=function(a){b("SignalsHomeCustomConversionActions").inspectCustomConversion(a),b("SignalsCustomConversionLoggerHelper").logSelect(a,"SignalsCustomConversionCreationDialog")},this.$SignalsCustomConversionCreationDialogContainer5=function(){__p&&__p();var a=this.getStateEnforcing(),c=a.canSeeNewStandardEvents,d=a.metaDataForm,f=a.ownerBusinessID,g=a.ruleSet,h=a.selectedAccountID,i=a.selectedAccountType,j=a.selectedScreenSection;a=d.conversionName;var k=d.conversionCategory,l=d.conversionValue;d=d.conversionDescription;var o=this.props,p=o.businessID,q=o.businessUnitID,v=o.onCreate,y=o.onCreateError;o={};var z=g.first(),A=t(g);A=w(A);var B=z.selectedDataSource;z=z.selectedEvent;if(k!=null)o[b("AdsCustomConversionsFields").CATEGORY]=b("OffsiteCustomEventType")[k];else if(B!=null)if(B.type===b("SignalsDataSourcesEnum").DATA_SET)o[b("AdsCustomConversionsFields").CATEGORY]=b("OffsiteCustomEventType")[b("AdsPixelConversionStandardEvents").Purchase.custom_event_type];else if(z!=null){k=u(B,c);c=s(z);o[b("AdsCustomConversionsFields").CATEGORY]=b("OffsiteCustomEventType")[k[c].custom_event_type]}l!==""&&(o[b("AdsCustomConversionsFields").VALUE]=l);d!=null&&(o[b("AdsCustomConversionsFields").DESCRIPTION]=d);a!=null&&(o[b("AdsCustomConversionsFields").NAME]=a);i==="act"?o[b("AdsCustomConversionsFields").ACCOUNT_ID]=h:i==="biz"&&(o[b("AdsCustomConversionsFields").BUSINESS]=h);o[b("AdsCustomConversionsFields").ADVANCED_RULE]=A;b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").loading()});i==="act"?b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").adaccount(h).edge(b("GraphEdgeName").CUSTOMCONVERSIONS).post(o),function(a){__p&&__p();b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch(D,{line:"412",module:"SignalsCustomConversionCreationDialogV2Container.react.js"});if(v!=null)v(a.id),b("SignalsWebsiteCustomConversionCreatedAction").dispatch({adAccountID:h},{line:"418",module:"SignalsCustomConversionCreationDialogV2Container.react.js"});else{b("SignalsHomeCustomConversionActions").finishCreateAdAccountCustomConversion(a.id,h);if(g.size===1&&B!=null){z=B.id;if(j===x&&z!=null&&h!=null){var c=z+":"+h;B.type===b("SignalsDataSourcesEnum").PIXEL?b("SignalsPixelCustomConversionIDListStore").clearKeyLater(c):B.type===b("SignalsDataSourcesEnum").APP_EVENT?b("SignalsAppCustomConversionIDListStore").clearKeyLater(JSON.stringify({appID:z,adAccountID:h})):B.type===b("SignalsDataSourcesEnum").DATA_SET&&b("SignalsDSCustomConversionIDListStore").clearKeyLater(c)}}f!=null&&f==p&&b("SignalsBusinessCustomConversionIDListStore").clearKeyLater(f)}b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withValue(!0),newCustomConversionID:a.id});b("SignalsCustomConversionLoggerHelper").logCreateSuccess(a.id,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialogV2")},function(a){y!=null&&y(a),b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withError(r(a,h,p,B))}),a.error_subcode===C?b("SignalsCustomConversionLoggerHelper").logCreateDuplicateCustomConversion(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialogV2"):b("SignalsCustomConversionLoggerHelper").logCreateError(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialogV2")}):i==="biz"&&b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").object("business",h).edge(b("GraphEdgeName").CUSTOMCONVERSIONS).post(o),function(a){b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch(D,{line:"518",module:"SignalsCustomConversionCreationDialogV2Container.react.js"}),v!=null?v(a.id):(b("SignalsHomeCustomConversionActions").finishCreateBusinessCustomConversion(a.id,h),q!=null&&(n(b("SignalsEventsManagerURLParams").BUSINESS_UNIT_ID),m(a.id,h,q))),b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withValue(!0),newCustomConversionID:a.id}),b("SignalsCustomConversionLoggerHelper").logCreateSuccess(a.id,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialogV2")},function(a){b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:b("LoadObject").withError(r(a,h,p,B))}),a.error_subcode===C?b("SignalsCustomConversionLoggerHelper").logCreateDuplicateCustomConversion(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialogV2"):b("SignalsCustomConversionLoggerHelper").logCreateError(h,p,B!=null?B.type:null,B!=null?B.id:null,"SignalsCustomConversionCreationDialogV2")})}.bind(this),this.$SignalsCustomConversionCreationDialogContainer6=function(a){b("SignalsCustomConversionCreationUpdateMetadataFormAction").dispatch(a,{line:"588",module:"SignalsCustomConversionCreationDialogV2Container.react.js"})},c}a.prototype.getStores=function(){return[k,b("SignalsAdAccountStore"),b("SignalsAdAccountCustomConversionIDListStore"),b("SignalsAppCustomConversionIDListStore"),b("SignalsBusinessCustomConversionIDListStore"),b("SignalsBusinessOwnedAdAccountListStore"),b("SignalsCustomConversionCreationStateStore"),b("SignalsCustomConversionDialogStore"),b("SignalsCustomConversionRuleSetUIStateStore"),b("SignalsCustomConversionSelectedAccountUIStateStore"),b("SignalsDSCustomConversionIDListStore"),b("SignalsHomeStateStore"),b("SignalsPixelCustomConversionIDListStore"),l,b("SignalsShouldShowFBNuxDataProvider").toFluxStore(),b("SignalsUnifiedStandardEventParticipationStore")]};a.prototype.calculateState=function(){__p&&__p();var a=b("SignalsCustomConversionCreationStateStore").getState(),c=a.creationState;a=a.newCustomConversionID;var d=b("SignalsHomeStateStore").getState();d=d.selectedScreenSection;var e=b("SignalsCustomConversionSelectedAccountUIStateStore").getState(),f=e.selectedAccountID;e=e.selectedAccountType;var g;if(f==null||e==null)throw b("LoadObject").withError(new Error("Need an account to be set"));var h="";if(e==="act"){var i=q(b("SignalsAdAccountStore").get(f));h=i[b("AdsAPIAdAccountFields").CURRENCY];g=i.owner_business!=null?i.owner_business.id:null}else if(e==="biz"){g=f;i=f!=null?q(b("SignalsBusinessOwnedAdAccountListStore").get(f)).map(function(a){return{id:a.account_id}}):j([]);i=i.first();h=i!=null?q(b("SignalsAdAccountStore").get(i.id))[b("AdsAPIAdAccountFields").CURRENCY]:z}i=q(b("SignalsUnifiedStandardEventParticipationStore").get(f));i=i.result;var m=b("SignalsCustomConversionRuleSetUIStateStore").getState()[f],n=m.ruleSet,r=!1,s=null;c!=null&&(!c.hasError()?r=q(c):s=v(c.getError()));c=null;r&&(c=a);a="";e==="biz"&&(a=o(f,c).toString());var t=q(b("SignalsShouldShowFBNuxDataProvider")().get(p)),u=k.getState();u=!u&&t;return{canSeeNewStandardEvents:i,createdCustomConversionID:c,creationError:s,currency:h,dataSourceMap:m,isCreated:r,metaDataForm:l.getState(),ownerBusinessID:g,ruleSet:n,selectedAccountID:f,selectedAccountType:e,selectedScreenSection:d,shouldSeeNUX:u,uriToBusinessSettings:a}};a.prototype.$SignalsCustomConversionCreationDialogContainer1=function(){b("SignalsDisableMultisourceCustomConversionFBNUXActions").closeStart(),b("CustomConversionDisableMultiSourceFBNuxAction").dispatch({isNuxClosed:!0},{line:"266",module:"SignalsCustomConversionCreationDialogV2Container.react.js"}),b("SignalsDisableMultisourceCustomConversionFBNUXActions").closed()};a.prototype.$SignalsCustomConversionCreationDialogContainer2=function(){b("SignalsDisableMultisourceCustomConversionFBNUXActions").viewed()};a.prototype.renderLoading=function(){return b("React").createElement("div",{className:"_6m2i"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}))};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.canSeeNewStandardEvents,d=a.creationError,e=a.currency,f=a.isCreated,g=a.metaDataForm,h=a.ruleSet,i=a.selectedAccountType,j=a.shouldSeeNUX;a=a.uriToBusinessSettings;return b("React").createElement("div",{className:"_2o1n _2pi5"},j?b("React").createElement("div",{className:"_6m2j"},b("React").createElement(b("SignalsHomeInformationNUX.react"),{content:B,title:A,onClose:this.$SignalsCustomConversionCreationDialogContainer1,onView:this.$SignalsCustomConversionCreationDialogContainer2})):null,b("React").createElement(b("SignalsCustomConversionCreationDialogContentV2.react"),{canSeeNewStandardEvents:c,creationError:d,currency:e||z,isCreated:f,isSelectedAccountBizType:i==="biz",metaDataForm:g,ruleSet:h,uriToBusinessSettings:a,onClose:this.$SignalsCustomConversionCreationDialogContainer3,onCreate:this.$SignalsCustomConversionCreationDialogContainer5,onMetadataFormChange:this.$SignalsCustomConversionCreationDialogContainer6}))};e.exports=a}),null);
__d("SignalsCustomConversionDialogContainer.react",["cx","fbt","invariant","AdsSlideshowCreateDataActionFlux","CustomConversionExternalSourceContainer.react","React","SignalsContainer.react","SignalsCustomConversionCreationDialogContainer.react","SignalsCustomConversionCreationDialogV2Container.react","SignalsCustomConversionCreationStateStore","SignalsCustomConversionDataSourceLoadingDialogContainer.react","SignalsCustomConversionDeletionDialogContainer.react","SignalsCustomConversionDialog.react","SignalsCustomConversionDialogStore","SignalsCustomConversionDialogTypes","SignalsCustomConversionLogger","SignalsCustomConversionLoggerHelper","SignalsCustomConversionSelectedAccountUIStateStore","SignalsCustomConversionSelectStateStore","SignalsCustomConversionStore","SignalsExperimentEnum","SignalsHomeCustomConversionActions","SignalsHomeStateStore","SignalsQEStore","SUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("SignalsContainer.react").getValueSafe,l=546,m=800,n=function(a){a=a.dialogType;switch(a){case b("SignalsCustomConversionDialogTypes").DELETE:return h._("Delete Custom Conversion?");case b("AdsSlideshowCreateDataActionFlux").actionType:case b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD_INLINE:case b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD:return h._("Create a Custom Conversion");default:return""}};a=babelHelpers.inherits(o,b("SignalsContainer.react"));j=a&&a.prototype;function o(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$SignalsCustomConversionDialogContainer2=function(){if(this.isFetchingData())return;b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("SignalsCustomConversionDialogTypes").NO_DIALOG});var a=this.getStateEnforcing(),c=a.isCreated;a=a.createdCustomConversionID;c&&a!=null&&(b("SignalsCustomConversionCreationStateStore").updateStateLater({creationState:null,newCustomConversionID:null}),this.$SignalsCustomConversionDialogContainer3(a))}.bind(this),this.$SignalsCustomConversionDialogContainer3=function(a){b("SignalsHomeCustomConversionActions").inspectCustomConversion(a),b("SignalsCustomConversionLoggerHelper").logSelect(a,"SignalsCustomConversionCreationDialog")},c}o.prototype.getStores=function(){return[b("SignalsCustomConversionCreationStateStore"),b("SignalsCustomConversionSelectedAccountUIStateStore"),b("SignalsCustomConversionStore"),b("SignalsCustomConversionSelectStateStore"),b("SignalsCustomConversionDialogStore"),b("SignalsHomeStateStore"),b("SignalsQEStore")]};o.prototype.calculateState=function(){__p&&__p();var a=b("SignalsCustomConversionSelectStateStore").getState();a=a.selectedCustomConversionID;var c=this.props,d=c.inAdsCreationFlow,e=c.inEventsManager;c=c.explicitlySetBusinessID;var f=b("SignalsCustomConversionCreationStateStore").getState(),g=f.creationState;f=f.newCustomConversionID;var h=b("SignalsCustomConversionDialogStore").getState();h=h.dialogType;var j=b("SignalsHomeStateStore").getState(),l=j.accountID,m=j.businessID;j=j.businessUnitID;var n;a!=null&&(n=k(b("SignalsCustomConversionStore").get(a)).name);!e&&!d&&(c!=null||i(0,346));a=!1;e=null;g!=null&&!g.isLoading()&&!g.hasError()&&(a=k(g),a&&(e=f));f=k(b("SignalsQEStore").get(b("SignalsExperimentEnum").CC_CREATION_DIALOG_REDESIGN,l,(d=c)!=null?d:m).map(function(a){return a.getParamBool()}));return{accountID:l,businessID:(d=c)!=null?d:m,businessUnitID:j,canSeeNewCCDialog:f,conversionName:n,createdCustomConversionID:e,dialogType:h,isCreated:a,isCreating:g!=null&&g.isLoading()}};o.prototype.getLogger=function(){return o.LOGGER};o.prototype.getShouldThrowErrors=function(){return!0};o.prototype.$SignalsCustomConversionDialogContainer1=function(a){__p&&__p();var c=this.getStateEnforcing(),d=c.accountID,e=c.businessID,f=c.businessUnitID;c=c.canSeeNewCCDialog;var g=this.props,h=g.onClose,i=g.onCreate;g=g.onCreateError;switch(a){case b("SignalsCustomConversionDialogTypes").DELETE:return b("React").createElement(b("SignalsCustomConversionDeletionDialogContainer.react"),{accountID:d,businessID:e,onClose:h,onCreate:i});case b("AdsSlideshowCreateDataActionFlux").actionType:return c?b("React").createElement(b("SignalsCustomConversionCreationDialogV2Container.react"),{accountID:d,businessID:e,businessUnitID:f,onClose:h,onCreate:i,onCreateError:g}):b("React").createElement(b("SignalsCustomConversionCreationDialogContainer.react"),{accountID:d,businessID:e,businessUnitID:f,onClose:h,onCreate:i,onCreateError:g});case b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD:return b("React").createElement(b("SignalsCustomConversionDataSourceLoadingDialogContainer.react"),null);case b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD_INLINE:return b("React").createElement(b("CustomConversionExternalSourceContainer.react"),null);default:return b("React").createElement("div",null)}};o.prototype.isFetchingData=function(){var a=this.getStateEnforcing(),c=a.dialogType;a=a.isCreating;return c===b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD||c===b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD_INLINE||a};o.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=this.props,d=c.inAdsCreationFlow;c=c.inEventsManager;var e=a.dialogType,f=a.conversionName;if(e===b("SignalsCustomConversionDialogTypes").NO_DIALOG||e===b("SignalsCustomConversionDialogTypes").DELETE&&f==null)return null;f=n({dialogType:e});e=this.$SignalsCustomConversionDialogContainer1(e);return c||d?b("React").createElement(b("SignalsCustomConversionDialog.react"),{showCloseButton:!this.isFetchingData(),title:f,width:a.canSeeNewCCDialog?m:l,onClose:this.$SignalsCustomConversionDialogContainer2},e):b("React").createElement("div",null,b("React").createElement("div",{className:"_3cyl"},b("React").createElement(b("SUIText.react"),{shade:"medium",size:"body1",weight:"bold"},f)),b("React").createElement("div",null,e))};o.LOGGER=b("SignalsCustomConversionLogger").scope("dialog_container");e.exports=o}),null);