if (self.CavalryLogger) { CavalryLogger.start_js(["56VpA"]); }

__d("AdsUnifiedNavigationPageMenuItem.react",["cx","AdsActionEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","Image.react","ImageBlock.react","InlineBlock.react","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsInterfacesLogEvents").EventCategory;c=b("React").Component;var j=50;d=babelHelpers.inherits(a,c);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c;b("AdsInterfacesLogger").log({eventName:b("AdsActionEvents").PAGES_JEWEL_PAGE_CLICK,eventCategory:i.USER_ACTION,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").FACEBOOK_PAGE_ID]=this.props.pageID,c.message=a.type,c)})}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("Link.react"),{href:this.props.href,onClick:this.$1,onContextMenu:this.$1},b("React").createElement(b("ImageBlock.react"),{className:"_b-n",spacing:"medium",title:this.props.title},b("React").createElement(b("Image.react"),{src:this.props.pageImageSrc,width:j}),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:j},b("React").createElement("span",{className:"_b-s"},this.props.pageDisplayName),b("React").createElement("span",{className:"_b-t ellipsis"},this.props.pageCategoryDescription))))};e.exports=a}),null);
__d("BizHomeFavoriteAPIConverter.brands",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{id:a.id+"",name:a.name||a.id+"",assetType:a.type||a.assetType}}function b(a){return{id:a.id+"",name:a.name||a.id+"",assetType:a.type||a.assetType,link:a.link}}e.exports={fromAPI:a,fromBizHomeAsset:b}}),null);
__d("XBusinessFavoriteObjectsDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/user/favorites/delete/",{business_id:{type:"Int",required:!0},object_id:{type:"Int",required:!0},asset_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XBusinessFavoriteObjectsGetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/user/favorites/get/",{business_id:{type:"Int",required:!0}})}),null);
__d("XBusinessFavoriteObjectsPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/user/favorites/post/",{business_id:{type:"Int",required:!0},object_id:{type:"Int",required:!0},asset_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("BizHomeFavoritesActions.brands",["AdsDataAtom","AppConstants.brands","AppLogger.brands","AsyncRequest","BizHomeFavoriteAPIConverter.brands","XBusinessFavoriteObjectsDeleteController","XBusinessFavoriteObjectsGetController","XBusinessFavoriteObjectsPostController","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AppConstants.brands").FAVORITE_ACTION;a={_isFetchingByBizID:{},fetch:function(a){if(this._isFetchingByBizID[a])return;this._isFetchingByBizID[a]=!0;var c=b("XBusinessFavoriteObjectsGetController").getURIBuilder().setInt("business_id",a).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(c){this._isFetchingByBizID[a]=!1,b("AdsDataAtom").handleUpdateFromViewAction({type:g.FETCH_SUCCESS,data:b("mapObject")(c.payload,b("BizHomeFavoriteAPIConverter.brands").fromAPI),businessID:a})}.bind(this)).setErrorHandler(function(c){this._isFetchingByBizID[a]=!1,b("AdsDataAtom").handleUpdateFromViewAction({type:g.FETCH_ERROR,error:c,businessID:a})}.bind(this)).send()},add:function(a,c,d){c=b("BizHomeFavoriteAPIConverter.brands").fromBizHomeAsset(c);this._dispatchUpdateStart(a,c,!0);d=b("XBusinessFavoriteObjectsPostController").getURIBuilder().setInt("business_id",a).setInt("object_id",c.id).setEnum("asset_type",d).getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(d).setHandler(function(d){b("AdsDataAtom").handleUpdateFromViewAction({type:g.UPDATE_SUCCESS,businessID:a,object:c,newIsFavorited:!0}),b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.FAVORITES,b("AppLogger.brands").EVENT.UPDATE_SUCCESS,{businessID:a,object:c,newIsFavorited:!0})}).setErrorHandler(function(d){b("AdsDataAtom").handleUpdateFromViewAction({type:g.UPDATE_ERROR,businessID:a,object:c,newIsFavorited:!0}),b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.FAVORITES,b("AppLogger.brands").EVENT.UPDATE_FAILURE,{businessID:a,object:c,newIsFavorited:!0})}).send()},remove:function(a,c,d){c=b("BizHomeFavoriteAPIConverter.brands").fromBizHomeAsset(c);this._dispatchUpdateStart(a,c,!1);d=b("XBusinessFavoriteObjectsDeleteController").getURIBuilder().setInt("business_id",a).setInt("object_id",c.id).setEnum("asset_type",d).getURI();new(b("AsyncRequest"))().setMethod("POST").setURI(d).setHandler(function(d){b("AdsDataAtom").handleUpdateFromViewAction({type:g.UPDATE_SUCCESS,businessID:a,object:c,newIsFavorited:!1}),b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.FAVORITES,b("AppLogger.brands").EVENT.UPDATE_SUCCESS,{businessID:a,object:c,newIsFavorited:!1})}).setErrorHandler(function(d){b("AdsDataAtom").handleUpdateFromViewAction({type:g.UPDATE_ERROR,businessID:a,object:c,newIsFavorited:!1}),b("AppLogger.brands").logForAnalytics(b("AppLogger.brands").CATEGORY.FAVORITES,b("AppLogger.brands").EVENT.UPDATE_FAILURE,{businessID:a,object:c,newIsFavorited:!1})}).send()},_dispatchUpdateStart:function(a,c,d){b("AdsDataAtom").handleUpdateFromViewAction({type:g.UPDATE_START,businessID:a,object:c,newIsFavorited:d})}};e.exports=a}),null);
__d("BizHomeFavoritesStore.brands",["AdsDataAtom","AppConstants.brands","BizHomeFavoritesActions.brands","BrandsAppConfig","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("BrandsAppConfig").sv,i=b("AppConstants.brands").FAVORITE_ACTION;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("AdsDataAtom")),this.$BizHomeFavoritesStoreClass1={}}a.prototype.get=function(a,c){if(Object.prototype.hasOwnProperty.call(this.$BizHomeFavoritesStoreClass1,a))return!!this.$BizHomeFavoritesStoreClass1[a][c];else this.$BizHomeFavoritesStoreClass1[a]={},b("BizHomeFavoritesActions.brands").fetch(a);return void 0};a.prototype.getFavItemsByBusinessID=function(a){if(Object.prototype.hasOwnProperty.call(this.$BizHomeFavoritesStoreClass1,a))return this.$BizHomeFavoritesStoreClass1[a];else b("BizHomeFavoritesActions.brands").fetch(a);return void 0};a.prototype.isMaxLimitReached=function(a){return Object.prototype.hasOwnProperty.call(this.$BizHomeFavoritesStoreClass1,a)?Object.keys(this.$BizHomeFavoritesStoreClass1[a]).length>=h.BUSINESS_IDENTITY_MAX_FAVS:!1};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;var b=!1;switch(a.type){case i.FETCH_SUCCESS:b=!0;this.$BizHomeFavoritesStoreClass1[a.businessID]=a.data;break;case i.FETCH_ERROR:b=!0;this.$BizHomeFavoritesStoreClass1[a.businessID]={};break;case i.UPDATE_START:a.newIsFavorited?this.$BizHomeFavoritesStoreClass1[a.businessID][a.object.id]=a.object:delete this.$BizHomeFavoritesStoreClass1[a.businessID][a.object.id];b=!0;break;case i.UPDATE_SUCCESS:b=!1;break;case i.UPDATE_ERROR:!a.newIsFavorited?this.$BizHomeFavoritesStoreClass1[a.businessID][a.object.id]=a.object:delete this.$BizHomeFavoritesStoreClass1[a.businessID][a.object.id];b=!0;break}b&&this.__emitChange()};a.__moduleID=e.id;d=new a();e.exports=d}),null);
__d("AdsUnifiedNavigationPageMenu.react",["cx","fbt","ix","AdsActionEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsPageMenuActions","AdsUnifiedNavigationPageMenuItem.react","BizHomeFavoritesStore.brands","BusinessURI.brands","ContextualDialogArrow","Image.react","ImageBlock.react","Link.react","List.react","MenuStaticItem","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","ScrollableArea.react","SubscriptionsHandler","SUIBusinessTheme","SUIText.react","Toggler","URI","Vector","XUISpinner.react","debounce"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsInterfacesLogEvents").EventCategory;c=b("React").Component;var l=0,m=50,n=200,o=76,p=1;d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.$5=function(){this.setState({menuKey:this.state.menuKey+1})}.bind(this),this.$7=function(){b("AdsInterfacesLogger").log({eventName:b("AdsActionEvents").PAGES_JEWEL_UPSELL_CLICK,eventCategory:k.USER_ACTION,data:{}})},this.$9=function(a){var c=b("Vector").getViewportDimensions().y;a=Math.min((o+p)*a,c-n);return a},this.$3=function(){b("AdsInterfacesLogger").log({eventName:b("AdsActionEvents").PAGES_JEWEL_SCROLL,eventCategory:k.USER_ACTION,data:{}})},this.$11=function(){b("AdsInterfacesLogger").log({eventName:b("AdsActionEvents").PAGES_JEWEL_SEE_MORE_CLICK,eventCategory:k.USER_ACTION,data:{}})},this.$16=function(){b("AdsPageMenuActions").retryLoad(this.props.businessID),b("AdsInterfacesLogger").log({eventName:b("AdsActionEvents").PAGES_JEWEL_RETRY,eventCategory:k.USER_ACTION,data:{}})}.bind(this),this.$2=b("debounce")(this.$3,500),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Toggler").subscribe(["show","hide"],this.$4)),this.state={menuKey:l}}a.prototype.componentDidMount=function(){this.props.selectorShown&&b("Toggler").show(b("ReactDOM").findDOMNode(this)),this.$1.addSubscriptions(b("BizHomeFavoritesStore.brands").addListener(this.$5))};a.prototype.componentWillUnmount=function(){this.$1.release()};a.prototype.$4=function(a,c){if(c.isShown()===null)return;c=a==="show"?b("AdsActionEvents").PAGES_JEWEL_OPEN:b("AdsActionEvents").PAGES_JEWEL_CLOSE;b("AdsInterfacesLogger").log({eventName:c,eventCategory:k.USER_ACTION,data:{}})};a.prototype.$6=function(a,c){return b("React").createElement(b("MenuStaticItem"),{className:"_b-i",key:c},a)};a.prototype.$8=function(){var a=this.props.businessID?h._("You don't have any Pages. Go to Business Settings to create, claim or request access to a Page."):h._("Give your business a voice on Facebook and connect with the people who matter to you."),c=this.props.businessID?new(b("BusinessURI.brands"))("/settings/pages",this.props.businessID):new(b("URI"))("/pages/create/").addQueryData({ref_type:"ads_manager_pages_jewel"}),d=this.props.businessID?h._("Go to Settings"):h._("Create Page");return b("React").createElement(b("MenuStaticItem"),{className:"_5mfb",key:"upsell"},b("React").createElement(b("ImageBlock.react"),{className:"_b-n",spacing:"medium"},b("React").createElement(b("Image.react"),{src:i("95033"),width:m}),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},a),b("React").createElement(b("Link.react"),{href:c,target:"_blank",onClick:this.$7},b("React").createElement(b("SUIText.react"),{className:"_2pic",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},d)))))};a.prototype.$10=function(a,c){return b("React").createElement(b("MenuStaticItem"),{className:"_5mfb",key:"body_"+c},b("React").createElement(b("ScrollableArea.react"),{height:this.$9(a.length),key:c,persistent:!0,ref:"scrollable",onScroll:this.$2},b("React").createElement(b("List.react"),{border:"light",edgepadding:!0,spacing:"small"},a.map(function(a,c){return b("React").createElement("li",{className:"_5mfc",key:c},b("React").createElement(b("AdsUnifiedNavigationPageMenuItem.react"),{href:a.href,pageCategoryDescription:a.page_category_description,pageDisplayName:a.page_display_name,pageID:a.page_id,pageImageSrc:a.page_image_src,title:a.title}))}))))};a.prototype.$12=function(a){return b("React").createElement(b("MenuStaticItem"),{className:"_b-l",key:"see_more_link"},b("React").createElement(b("Link.react"),{className:"_b-m",href:a,onClick:this.$11},h._("See All")))};a.prototype.$13=function(){var a=[],c=h._("Your Pages");this.props.menuLoadingState===b("AdsLoadState_LEGACY").ERROR&&a.push(this.$6(c,9999),this.$14());if(this.props.menuLoadingState===b("AdsLoadState_LEGACY").LOADING)return this.$15();this.props.menu&&this.props.menu.items&&this.props.menu.items.length>0?(this.props.menu.items.forEach(function(b,c){a.push(this.$6(b.header,c),this.$10(b.sections,c))}.bind(this)),this.props.menu&&this.props.menu.see_more&&a.push(this.$12(new(b("URI"))(this.props.menu.see_more)))):a.push(this.$6(c,0),this.$8());return a};a.prototype.$14=function(){return b("React").createElement(b("MenuStaticItem"),{className:"_5mfb",key:"fail"},b("React").createElement(b("ImageBlock.react"),{className:"_b-n",spacing:"medium"},b("React").createElement(b("Image.react"),{src:i("95033"),width:m}),b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("We're unable to load your Pages.")),b("React").createElement(b("Link.react"),{onClick:this.$16},b("React").createElement(b("SUIText.react"),{className:"_2pic",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Retry"))))))};a.prototype.$15=function(){return[b("React").createElement(b("MenuStaticItem"),{className:"_5mfb",key:0},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("XUISpinner.react"),{className:"_ata",size:"large"})))]};a.prototype.render=function(){var a=b("React").createElement(b("ReactXUIMenu"),{className:"_b-h"},this.$13());return b("React").createElement(b("PopoverMenu.react"),{alignh:"right",key:this.state.menuKey,layerBehaviors:[b("ContextualDialogArrow")],menu:a,onHide:this.props.onToggleMenu,onShow:this.props.onToggleMenu},this.props.children)};e.exports=a}),null);
__d("AdsUnifiedNavigationPageMenuContainer.react",["AdsFluxContainer","AdsLoadState_LEGACY","AdsPageMenuStore","AdsUnifiedNavigationPageMenu.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;g=babelHelpers.inherits(a,c);g&&g.prototype;a.$1=function(a){return{menu:null,menuLoadingState:b("AdsLoadState_LEGACY").LOADING}};a.getStores=function(){return[b("AdsPageMenuStore")]};a.calculateState=function(a,c){a=b("AdsPageMenuStore").get(c.businessID);c=a.hasValue()?{menu:a.getValueEnforcing().menu,menuLoadingState:b("AdsLoadState_LEGACY").LOADED}:this.$1(c);a.hasError()&&(c.menuLoadingState=b("AdsLoadState_LEGACY").ERROR);return c};a.prototype.render=function(){return b("React").createElement(b("AdsUnifiedNavigationPageMenu.react"),{businessID:this.props.businessID,children:this.props.children,endpoint:this.props.endpoint,menu:this.state.menu,menuLoadingState:this.state.menuLoadingState,selectorShown:this.props.selectorShown,onToggleMenu:this.props.onToggleMenu})};function a(){g.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);