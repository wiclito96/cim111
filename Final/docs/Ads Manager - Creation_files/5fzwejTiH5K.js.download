if (self.CavalryLogger) { CavalryLogger.start_js(["x\/VDY"]); }

__d("AdsPermissionDialogController",["cx","regeneratorRuntime","AdsGraphAPI","ApiClient","CSS","ReloadPage"],(function(a,b,c,d,e,f,g){__p&&__p();a={initSearch:function(a,c){a.subscribe(["select","reset"],function(d,e){d=a.getCore().getHiddenValue();b("CSS").conditionClass(c,"_42fr",!d);c.disabled=!d})},subscribeSubmit:function(a,c,d,f,g,h,i){__p&&__p();b("ApiClient").setAccessToken(h);h=function h(){__p&&__p();var j=a.subscribe("submit",function(a,k){__p&&__p();var l;return b("regeneratorRuntime").async(function(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:k.stopPropagation();k.preventDefault();a={uid:c.getCore().getHiddenValue(),role:d.getValue(),account_id:i};l=!0;m.prev=4;m.next=7;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id+".subscribeSubmit").adaccount(i).edge("users").post(a));case 7:m.next=12;break;case 9:m.prev=9,m.t0=m["catch"](4),l=!1;case 12:j.unsubscribe(),f.value=l,g.click(),l||h();case 16:case"end":return m.stop()}},null,this,[[4,9]])})};h()},initConfirm:function(a){a.subscribe("hide",function(){b("ReloadPage").now()})},initDispatch:function(a,b){a.subscribe("hide",b.updateAccountRoles)}};e.exports=a}),null);
__d("EventWatchStatusSelector",["csx","CSS","DOM","DOMQuery","Event"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";__p&&__p();this.$1=a.primaryButton;this.$2=a.menuElement;this.$3=a.initialStatus;this.$4=a.canViewerJoin;this.$5=a.isPublicEvent;var c=a.menuInstance.getTriggerElem();this.$6=b("DOMQuery").find(c,"._33n");this.$7=b("DOMQuery").find(c,"._33o");this.$8=b("DOMQuery").find(c,"._1gf3");b("Event").listen(a.primaryButton,"click",function(){this.$3=a.primaryStatus,this.$9(),this.$10()}.bind(this));a.menuInstance.subscribe("setMenu",function(){__p&&__p();var c=a.menuInstance.getMenu().getRoot();this.$11=b("DOMQuery").find(c,"._33q");this.$12=b("DOMQuery").find(c,"._33u");this.$13=b("DOMQuery").find(c,"._33v");this.$14=b("DOMQuery").find(c,"._33z");this.$15=b("DOMQuery").find(c,"._1gf5");this.$16=b("DOMQuery").find(c,"._1gfd");this.$17=b("DOMQuery").find(c,"._1gfe");this.$18=b("DOMQuery").scry(c,"._33-")[0];this.$19=b("DOMQuery").scry(c,"._33_")[0];this.$10();a.menuInstance.getMenu().subscribe("itemclick",function(a,b){a=b.item.getRoot().getAttribute("data-string");if(a==="watched-selected"||a==="going-selected"||a==="declined-selected")return;this.$3=a;setTimeout(this.$10.bind(this));this.$3==="unwatched"&&this.$20()}.bind(this))}.bind(this))}a.prototype.$20=function(){"use strict";b("DOM").insertAfter(this.$2,this.$1),b("DOM").remove(this.$2)};a.prototype.$9=function(){"use strict";b("DOM").insertAfter(this.$1,this.$2),b("DOM").remove(this.$1)};a.prototype.$10=function(){"use strict";this.$6&&b("CSS").conditionShow(this.$6,this.$3==="going"),this.$7&&b("CSS").conditionShow(this.$7,this.$3==="watched"),this.$8&&b("CSS").conditionShow(this.$8,this.$3==="declined"),this.$11&&b("CSS").conditionShow(this.$11,this.$3!=="going"&&this.$4),this.$12&&b("CSS").conditionShow(this.$12,this.$3==="going"),this.$13&&b("CSS").conditionShow(this.$13,this.$3!=="watched"),this.$14&&b("CSS").conditionShow(this.$14,this.$3==="watched"),this.$15&&b("CSS").conditionShow(this.$15,this.$3!=="declined"&&!this.$5),this.$16&&b("CSS").conditionShow(this.$16,this.$3==="declined"&&!this.$5),this.$17&&b("CSS").conditionShow(this.$17,this.$5),this.$18&&b("CSS").conditionShow(this.$18,this.$3==="going"&&this.$5),this.$19&&b("CSS").conditionShow(this.$19,this.$3==="watched"&&this.$5)};e.exports=a}),null);
__d("Selector",["csx","ArbiterMixin","BehaviorsMixin","Button","DOM","DOMQuery","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));h=c&&c.prototype;function a(a,b,c,d,e){"use strict";h.constructor.call(this),this._popoverMenu=a,this._button=b,this._menu=c,this._input=d,this.init(),e.behaviors&&this.enableBehaviors(e.behaviors)}a.prototype.init=function(){"use strict";this._menu.subscribe("change",function(a,b){this._setLabelContent(b.label),this._input.value=b.value,this.inform("change",b)}.bind(this)),this._popoverMenu.getPopover().subscribe(["hide","show"],function(a){this.inform(a)}.bind(this))};a.prototype._getLabel=function(){"use strict";return b("DOMQuery").find(this._button,"span._55pe")};a.prototype._setLabelContent=function(a){"use strict";var c=this._getLabel();b("DOM").setContent(c,a)};a.prototype.getLabelContent=function(){"use strict";var a=this._getLabel();return a.firstChild};a.prototype.setValue=function(a){"use strict";this._menu.setValue(a)};a.prototype.getValue=function(){"use strict";return this._input.value};a.prototype.getName=function(){"use strict";return this._input.name};a.prototype.getButton=function(){"use strict";return this._button};a.prototype.getMenu=function(){"use strict";return this._menu};a.prototype.enable=function(){"use strict";b("Button").setEnabled(this._button,!0),this._popoverMenu.enable()};a.prototype.disable=function(){"use strict";b("Button").setEnabled(this._button,!1),this._popoverMenu.disable()};e.exports=a}),null);
__d("ClearableTypeahead",["Event"],(function(a,b,c,d,e,f){a={resetOnCloseButtonClick:function(a,c){b("Event").listen(c,"click",function(){var b=a.getCore();b.getElement().focus();b.reset()})}};e.exports=a}),null);
__d("TypeaheadSetPhotoOnSelect",["CSS","DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._typeahead=a}a.prototype.enable=function(){"use strict";__p&&__p();var a=b("DOM").scry(this._typeahead.getElement(),".photo")[0];if(a){if(!b("DOM").isNodeOfType(a,"img")){var c=b("DOM").create("img",{className:a.className});b("DOM").replace(a,c);a=c}var d=b("CSS").hide.bind(null,a);c=b("CSS").show.bind(null,a);this._eventListener=b("Event").listen(a,{load:c,error:d,abort:d});this._subscription=this._typeahead.subscribe("select",function(b,c){b=c.selected.photo||this._typeahead.view.fallbackPhoto;b?a.setAttribute("src",b):d()}.bind(this))}};a.prototype.disable=function(){"use strict";this._eventListener.remove(),this._eventListener=null,this._typeahead.unsubscribe(this._subscription),this._subscription=null};Object.assign(a.prototype,{_eventListener:null,_subscription:null});e.exports=a}),null);
__d("legacy:SetPhotoOnSelectTypeaheadBehavior",["TypeaheadSetPhotoOnSelect"],(function(a,b,c,d,e,f){a.TypeaheadBehaviors||(a.TypeaheadBehaviors={}),a.TypeaheadBehaviors.setPhotoOnSelect=function(a){a.enableBehavior(b("TypeaheadSetPhotoOnSelect"))}}),3);
__d("ConfirmationDialog",["Event","Form","Keys","Parent"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={};a={register:function(a,b,c){g[a]=b,h[a]=c||"confirmed"},setupConfirmation:function(a,c,d){__p&&__p();d===void 0&&(d=!1);var e=a.getPayload().__dialogID,f=g[e],i=!1,j=f.subscribe(["confirm","cancel","hide"],function(d){__p&&__p();if(d=="confirm"){var k={};k[h[e]]=1;Object.assign(c.data,b("Form").serialize(f.getRoot()),k);c.send();f.hide();i=!0;return}if(d=="cancel"||d=="hide"&&!i){k=c.getServerDialogCancelHandler();try{k&&k(a)}catch(a){throw a}finally{c.finallyHandler(a)}i=!0;if(d=="cancel")return}delete g[e];delete h[e];j.unsubscribe()});b("Event").listen(f.getContentRoot(),"keydown",function(a){a.keyCode===b("Keys").RETURN&&b("Parent").byTag(a.getTarget(),"input")&&f.inform("confirm")});f.show()}};e.exports=a}),null);