if (self.CavalryLogger) { CavalryLogger.start_js(["3WEDE"]); }

__d("AdsCustomConversionsActivityCell.react",["ix","cx","fbt","BUIInsightsHoverCardChart.react","BUIInsightsSparklineChart.react","CandelaConstants","CandelaGroupScaleBuilder","React","SignalsTooltipInfo.react","Timezone","asset","immutable","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("CandelaGroupScaleBuilder").group,l=b("Timezone").UTC,m=b("immutable").OrderedSet,n=b("CandelaConstants").RenderAs,o=b("CandelaConstants").ScaleType,p=225,q=20,r=i._("Conversions for today are updated regularly"),s=i._("Custom Conversion Traffic"),t=i._("The activity chart current does not support this type of event source."),u=g("403740");j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};a.prototype.render=function(){var a=this.props.conversionTraffic.toJS();if(!a.length){var c=this.props.unsupported?b("React").createElement(b("SignalsTooltipInfo.react"),{iconURL:u,message:t,noVerticalMargin:!0,position:"left"}):null;return b("React").createElement("div",{className:"_2po6"},"\u2014",c)}return b("React").createElement(b("BUIInsightsHoverCardChart.react"),{auxiliaryItems:this.$1(),items:this.$2(),title:s,titleKey:"time"},b("React").createElement(b("BUIInsightsSparklineChart.react"),{data:this.$3(a),height:40,plotX:k("time"),plotY:k("value"),schema:this.$4(),styles:this.$5(),width:Math.min(this.props.width-q,p),onMouseMove:this.props.onMouseMove}))};a.prototype.$1=function(){return this.props.mouseOverLastItem?m([{key:"partial",label:r,value:"*"}]):m([])};a.prototype.$2=function(){return m([{key:"value",label:this.props.name}])};a.prototype.$3=function(a){return a.map(function(b){return{value:b.value,time:b.datetime/1e3,$meta:{className:b.datetime===a.slice(-1)[0].datetime?"dashed":""}}})};a.prototype.$4=function(){return{value:{renderAs:n.LINE,type:o.NUMBER},time:{timezoneID:l,type:o.TIME}}};a.prototype.$5=function(){return{chart:{backgroundColor:"transparent"},guide:{visibility:"visible"},"line.dashed":{strokeDasharray:"2,4"}}};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("AdsCustomConversionsActivityCellContainer.react",["AdsCustomConversionsActivityCell.react","AdsFluxContainer","AdsGoalStatsStore","AdsPixelStatsTypes","React","immutable","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("React").Component;var h=b("immutable").List;c=babelHelpers.inherits(i,a);g=c&&c.prototype;i.getInitialState=function(){return{conversionTraffic:h(),mouseOverLastItem:!1}};function i(a){g.constructor.call(this,a),this.$1=function(event){var a=this.state.conversionTraffic;if(!a||!a.count())return;a=a.last().datetime;a=b("getByPath")(event,["data","time","value"])===a/1e3;this.setState({mouseOverLastItem:a})}.bind(this),this.state=i.getInitialState()}i.getStores=function(){return[b("AdsGoalStatsStore")]};i.calculateState=function(a,c){c=h(b("AdsGoalStatsStore").getConversionTrafficByDate(b("AdsPixelStatsTypes").TRAFFIC,c.conversionID));return{conversionTraffic:c,mouseOverLastItem:!!a&&a.mouseOverLastItem}};i.prototype.render=function(){return b("React").createElement(b("AdsCustomConversionsActivityCell.react"),{conversionTraffic:this.state.conversionTraffic,mouseOverLastItem:this.state.mouseOverLastItem,name:this.props.name,unsupported:this.props.unsupported,width:this.props.width,onMouseMove:this.$1})};e.exports=b("AdsFluxContainer").create(i,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsCustomConversionsFlyout.react",["cx","fbt","AdsPixelHelpCenter","AdsPixelStatusEnum","CustomConversionEventSourceType","React","SignalsTooltipInfo.react","SUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("SignalsTooltipInfo.react"),{iconURL:"/images/ads/signals/icons/RedWarning_15x14.png",message:this.$1(),position:"left"})};a.prototype.$2=function(){return b("React").createElement("div",{className:"_3_2p"},b("React").createElement(b("SUIButton.react"),{href:{url:b("AdsPixelHelpCenter").CUSTOM_CONVERSIONS.uri},label:h._("Get Help"),target:"_blank",use:"confirm"}))};a.prototype.$1=function(){__p&&__p();var a=this.props,c=a.status;a=a.source;var d,e;switch(a){case b("CustomConversionEventSourceType").APPLICATION:switch(c){case b("AdsPixelStatusEnum").INACTIVE:d=h._("We haven't received any activity for this custom conversion in more than 7 days. Make sure the custom conversion still matches activity from your application and that app events are implemented correctly.");break;case b("AdsPixelStatusEnum").NEVER_ACTIVE:d=h._("We haven't received any activity for this custom conversion yet. Make sure the custom conversion is properly configured and matches activity from your application.");break;default:break}break;case b("CustomConversionEventSourceType").OFFLINE_CONVERSION_DATA_SET:switch(c){case b("AdsPixelStatusEnum").INACTIVE:d=h._("We haven't received any activity for this custom conversion in more than 7 days. Make sure the custom conversion still matches activity from your event uploads and that you are still uploading to your offline event set.");break;case b("AdsPixelStatusEnum").NEVER_ACTIVE:d=h._("We haven't received any activity for this custom conversion yet. Make sure the custom conversion is properly configured and matches activity from your offline event set.");break;default:break}break;case b("CustomConversionEventSourceType").PIXEL:e=this.$2();switch(c){case b("AdsPixelStatusEnum").INACTIVE:d=h._("We haven't received any activity for this custom conversion in more than 7 days. Make sure the custom conversion still matches activity from your pixel and that the pixel is still installed correctly.");break;case b("AdsPixelStatusEnum").NEVER_ACTIVE:d=h._("We haven't received any activity for this custom conversion yet. Make sure the custom conversion is properly configured and matches activity from your pixel.");break;default:break}break;default:break}return b("React").createElement("div",{className:"_3_2q"},b("React").createElement("div",{className:e!=null?"_3-96":""},d),e!=null?b("React").createElement("hr",null):null,e)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsCustomConversionsStatus",["AdsCustomConversionsFlyout.react","AdsPixelStatusBase","React"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("AdsPixelStatusBase"));g=c&&c.prototype;function a(a,b){g.constructor.call(this,a),this.$AdsCustomConversionsStatus1=b}a.prototype.__getHelpLink=function(){return b("React").createElement(b("AdsCustomConversionsFlyout.react"),{source:this.$AdsCustomConversionsStatus1,status:this.getStatus()})};e.exports=a}),null);
__d("AutomaticMatchingPIIType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EMAIL:"em",FIRST_NAME:"fn",LAST_NAME:"ln",PHONE:"ph",GENDER:"ge",ZIP:"zp",CITY:"ct",STATE:"st"})}),null);
__d("PixelAutomaticMatchingPIIGroups",["AutomaticMatchingPIIType"],(function(a,b,c,d,e,f){"use strict";a=b("AutomaticMatchingPIIType").CITY;c=b("AutomaticMatchingPIIType").EMAIL;d=b("AutomaticMatchingPIIType").FIRST_NAME;f=b("AutomaticMatchingPIIType").GENDER;var g=b("AutomaticMatchingPIIType").LAST_NAME,h=b("AutomaticMatchingPIIType").PHONE,i=b("AutomaticMatchingPIIType").STATE;b=b("AutomaticMatchingPIIType").ZIP;c={Email:{label:"Email",piiFields:[c]},Phone:{label:"Phone Number",piiFields:[h]},Name:{label:"First and Last Name",piiFields:[d,g]},Location:{label:"City, State, and ZIP Code",piiFields:[a,i,b]},Gender:{label:"Gender",piiFields:[f]}};e.exports=c}),null);
__d("SignalsPixelAutomaticMatchingToggleUIStateStore",["LoadObject","PixelAutomaticMatchingPIIGroups","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.__getName=function(){return e.id};a.prototype.getKey=function(a,b){return b!=null?a+":"+b:a};a.prototype.getToggleState=function(a,b){a=this.getKey(a,b);return this.getState()[a]};a.prototype.setToggleState=function(a,c,d){a=this.getKey(a,d);this.updateStateLater((d={},d[a]=b("LoadObject").withValue(c),d))};a.prototype.setLoading=function(a,c,d){a=this.getKey(a,c);this.updateStateLater((c={},c[a]=d!=null?b("LoadObject").withValue(d).loading():b("LoadObject").loading(),c))};a.prototype.clearAllToggleStates=function(a,c){var d;c=this.getKey(a,c);this.updateStateLater((d={},d[c]=null,d));Object.keys(b("PixelAutomaticMatchingPIIGroups")).forEach(function(b){var c;b=this.getKey(a,b);this.updateStateLater((c={},c[b]=null,c))}.bind(this))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPixelAutomaticMatchingGranularControlContainer.react",["cx","fbt","AdsPixelDataManager","BUISwitch.react","FDSText.react","PixelAutomaticMatchingPIIGroups","React","SignalsContainer.react","SignalsEventsManagerLogger","SignalsHomeActions","SignalsLoadingSpinner.react","SignalsPixelAutomaticMatchingToggleUIStateStore","SignalsPixelStore","Tooltip","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("SignalsContainer.react").getValueSafe,k=b("SignalsEventsManagerLogger").scope("AUTO_ADVANCED_IDENTITY_MATCHING_TOGGLE"),l=16;c=babelHelpers.inherits(a,b("SignalsContainer.react"));i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$AdsPixelAutomaticMatchingGranularControlContainer1=function(a){var c=this.props,d=c.pixelID,e=c.piiGroup;c=c.automaticMatchingFields;var f=this.getStateEnforcing(),g=f.isAutoMatchingEnabled;b("SignalsPixelAutomaticMatchingToggleUIStateStore").setLoading(d,e);var h=b("PixelAutomaticMatchingPIIGroups")[e].piiFields,i=a?c.concat(h):c.filter(function(a){return h.indexOf(a)<0});b("AdsPixelDataManager").editPixel(d,{automatic_matching_fields:i},function(c){c.success?(b("SignalsPixelAutomaticMatchingToggleUIStateStore").setToggleState(d,a,e),i.count()===0&&b("SignalsPixelAutomaticMatchingToggleUIStateStore").setToggleState(d,!1),b("SignalsHomeActions").finishToggleAutomaticMatching(d,g,i)):k.logError(c.error,"could not toggle auto identity matching group "+e)})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsPixelStore"),b("SignalsPixelAutomaticMatchingToggleUIStateStore")]};a.prototype.calculateState=function(){var a=this.props,c=a.pixelID,d=a.piiGroup;a=a.automaticMatchingFields;var e=b("SignalsContainer.react").getValueSafe(b("SignalsPixelStore").get(c));c=b("SignalsPixelAutomaticMatchingToggleUIStateStore").getToggleState(c,d);d=c==null?this.getToggleValue(a):j(c);return{toggleValue:d,isAutoMatchingEnabled:e.enable_automatic_matching}};a.prototype.getToggleValue=function(a){return b("PixelAutomaticMatchingPIIGroups")[this.props.piiGroup].piiFields.every(function(b){return a.includes(b)})};a.prototype.getPIIGroupLabel=function(){var a=this.props.piiGroup;return b("React").createElement(b("FDSText.react"),{color:"secondary",display:"inline",margin:"_3-9a",size:"body3",weight:"bold"},h._("{type of PII group}",[h._param("type of PII group",b("PixelAutomaticMatchingPIIGroups")[a].label)]))};a.prototype.renderLoading=function(){return b("React").createElement("div",{className:"_m7f"},b("React").createElement(b("SignalsLoadingSpinner.react"),{height:l}),this.getPIIGroupLabel())};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();a=a.toggleValue;var c=this.props.canEditPixel,d=c?null:h._("You don't have permission to edit this pixel.");return b("React").createElement("div",{className:"_m7f"},b("React").createElement(b("BUISwitch.react"),babelHelpers["extends"]({},b("Tooltip").propsFor(d),{disabled:!c,value:a,onToggle:this.$AdsPixelAutomaticMatchingGranularControlContainer1})),this.getPIIGroupLabel())};e.exports=a}),null);
__d("AdsPixelAutomaticMatchingInsufficientPIINoticeContainer.react",["cx","fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","FDSText.react","PixelAutomaticMatchingPIIGroups","React","SignalsContainer.react","SignalsPixelAutomaticMatchingToggleUIStateStore","SignalsPixelStore","immutable","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCMigrationCategory").MigrationCategory,k=b("SignalsContainer.react").getValueSafe,l=b("immutable").Set(["Location","Gender"]),m=h._("Choose More Data for Better Matching"),n=h._("Selecting multiple types of customer information, like Email, Phone Number or First and Last Name, will lead to more accurate matching."),o="events_manager_pixel_create_flow_insufficient_pii";i=babelHelpers.inherits(a,b("SignalsContainer.react"));i&&i.prototype;a.prototype.getStores=function(){return[b("SignalsPixelAutomaticMatchingToggleUIStateStore")]};a.prototype.calculateState=function(){var a=this.props.pixelID,c=k(b("SignalsPixelStore").getAutomaticMatchingFields(a)),d=b("immutable").Set();Object.keys(b("PixelAutomaticMatchingPIIGroups")).forEach(function(a){var e=b("SignalsPixelAutomaticMatchingToggleUIStateStore").getToggleState(this.props.pixelID,a);e=e==null?this.getToggleValue(c,a):k(e);e&&(d=d.add(a))}.bind(this));a=d.subtract(l).isEmpty();return{shouldDisplayNotice:a}};a.prototype.getToggleValue=function(a,c){return b("PixelAutomaticMatchingPIIGroups")[c].piiFields.every(function(b){return a.includes(b)})};a.prototype.renderLoading=function(){return null};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();a=a.shouldDisplayNotice;return!a?null:b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,header:m,messageID:o,textData:[{type:"PARAGRAPH",data:{text:n}}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{type:"warning",messageBody:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{size:"body3",weight:"bold"},m),b("React").createElement(b("FDSText.react"),{margin:"_3-8y _3-94",size:"body3",weight:"normal"},n))}}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsPixelAutomaticMatchingGranularControlsContainer.react",["AdsPixelAutomaticMatchingGranularControlContainer.react","AdsPixelAutomaticMatchingInsufficientPIINoticeContainer.react","AdsSelectorUtils","PixelAutomaticMatchingPIIGroups","React","SignalsContainer.react","SignalsPixelStore","editPixelPermissionSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsPixelStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]))};a.prototype.calculateState=function(){var a=this.props.pixelID,c=h(b("SignalsPixelStore").getAutomaticMatchingFields(a));a=h(b("editPixelPermissionSelector")({pixelID:a}));return{automaticMatchingFields:c,canEditPixel:a}};a.prototype.renderLoadedValue=function(){var a=this.props.pixelID,c=Object.keys(b("PixelAutomaticMatchingPIIGroups")).map(function(c){return b("React").createElement(b("AdsPixelAutomaticMatchingGranularControlContainer.react"),babelHelpers["extends"]({},this.getStateEnforcing(),{key:c,piiGroup:c,pixelID:a}))}.bind(this));return b("React").createElement("div",null,c,b("React").createElement(b("AdsPixelAutomaticMatchingInsufficientPIINoticeContainer.react"),{pixelID:a}))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsSignalsDsOemAutoAssignAndTrackingUpdateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.AUTO_ASSIGN_AND_TRACKING_UPDATE";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetEditDoneDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_EDIT.DONE";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetEditErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_EDIT.ERROR";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetEditSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_EDIT.SUCCESS";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetListLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_LIST_LOAD.SUCCESS";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetLoadFailureDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_LOAD.FAILURE";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_LOAD.SUCCESS";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemDataSetUploadFailureDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.DATA_SET_UPLOAD.FAILURE";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemUploadDeleteFailureDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.UPLOAD_DELETE.FAILURE";e.exports={actionType:a}}),null);
__d("AdsSignalsDsOemUploadDeleteSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="OEM.UPLOAD_DELETE.SUCCESS";e.exports={actionType:a}}),null);
__d("SignalsHomeDataUseSettingEditFinishAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SIGNALS_HOME.DATA_USE_SETTING_EDIT.FINISH");e.exports=a}),null);
__d("SignalsHomeDomainControlSetCreateRuleTypeReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("intendedCreateRuleType",b.createRuleType)}};e.exports=a}),null);
__d("SignalsHomeDomainControlSetCreateRuleTypeAction",["Laminar","SignalsHomeDomainControlSetCreateRuleTypeReducerPlugin","SignalsHomeDomainControlStateProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsHomeDomainControlSetCreateRuleTypeReducerPlugin"),b("SignalsHomeDomainControlStateProvider"),{})]},function(){return[]},"SIGNALS.SIGNALS_HOME_DOMAIN_CONTROL_RULE.SET_CREATE_RULE_TYPE");e.exports=a}),null);
__d("SignalsHomeFirstPartyCookieStatusEditFinishAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SIGNALS_HOME.FIRST_PARTY_COOKIE_STATUS_EDIT.FINISH");e.exports=a}),null);
__d("SignalsManageEventRuleGroupDoneRemoveReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return{toRemove:b("LoadObject").empty()}}};e.exports=a}),null);
__d("SignalsManageEventRuleGroupRemoveRuleStateProviderPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={initialState:{toRemove:b("LoadObject").empty()}};e.exports=a}),null);
__d("SignalsManageEventRuleGroupRemoveRuleStateProvider",["Laminar","SignalsManageEventRuleGroupRemoveRuleStateProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("SignalsManageEventRuleGroupRemoveRuleStateProviderPlugin"),"SignalsManageEventRuleGroupRemoveRuleStateProviderPlugin")}),null);
__d("SignalsManageEventRuleGroupCancelRemoveRuleAction",["Laminar","SignalsManageEventRuleGroupDoneRemoveReducerPlugin","SignalsManageEventRuleGroupRemoveRuleStateProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsManageEventRuleGroupDoneRemoveReducerPlugin"),b("SignalsManageEventRuleGroupRemoveRuleStateProvider"),{})]},function(){return[]},"SignalsManageEventRuleGroupCancelRemoveRuleActionPlugin");e.exports=a}),null);
__d("SignalsManageEventRuleGroupRemoveFromProviderReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,b){var c=b.ruleGroupID;b=b.pixelID;var d=a.getCached(b),e=d.getValueEnforcing();e=e.filter(function(a){a=a.id;return a!==c});return a.set(b,d.setValue(e))}};e.exports=a}),null);
__d("SignalsManageEventRuleGroupFinishRemoveRuleAction",["Laminar","SignalsManageEventRuleGroupDoneRemoveReducerPlugin","SignalsManageEventRuleGroupRemoveRuleStateProvider","SignalsManageEventRuleGroupRemoveFromProviderReducerPlugin","SignalsEventRulesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsManageEventRuleGroupDoneRemoveReducerPlugin"),b("SignalsManageEventRuleGroupRemoveRuleStateProvider"),{}),b("Laminar").__createReducer(b("SignalsManageEventRuleGroupRemoveFromProviderReducerPlugin"),b("SignalsEventRulesProvider"),{})]},function(){return[]},"SignalsManageEventRuleGroupFinishRemoveRuleActionPlugin");e.exports=a}),null);
__d("SignalsManageEventRuleGroupPromptRemoveReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return{toRemove:b("LoadObject").withValue(c.toRemove)}}};e.exports=a}),null);
__d("SignalsManageEventRuleGroupPromptRemoveRuleAction",["Laminar","SignalsManageEventRuleGroupPromptRemoveReducerPlugin","SignalsManageEventRuleGroupRemoveRuleStateProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsManageEventRuleGroupPromptRemoveReducerPlugin"),b("SignalsManageEventRuleGroupRemoveRuleStateProvider"),{})]},function(){return[]},"SignalsManageEventRuleGroupPromptRemoveRuleActionPlugin");e.exports=a}),null);
__d("SignalsManageEventRuleGroupStartRemoveReducerPlugin",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){b=a.toRemove;b.hasValue()||g(0,11459);return{toRemove:b.deleting()}}};e.exports=a}),null);
__d("SignalsManageEventRuleGroupStartRemoveRuleAction",["Laminar","SignalsManageEventRuleGroupStartRemoveReducerPlugin","SignalsManageEventRuleGroupRemoveRuleStateProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsManageEventRuleGroupStartRemoveReducerPlugin"),b("SignalsManageEventRuleGroupRemoveRuleStateProvider"),{})]},function(){return[]},"SignalsManageEventRuleGroupStartRemoveRuleActionPlugin");e.exports=a}),null);
__d("SignalsDSStore",["AdsDataAtom","AdsSignalsDsOemAutoAssignAndTrackingUpdateDataActionFlux","AdsSignalsDsOemDataSetEditDoneDataActionFlux","AdsSignalsDsOemDataSetEditErrorDataActionFlux","AdsSignalsDsOemDataSetEditSuccessDataActionFlux","AdsSignalsDsOemDataSetListLoadSuccessDataActionFlux","AdsSignalsDsOemDataSetLoadFailureDataActionFlux","AdsSignalsDsOemDataSetLoadSuccessDataActionFlux","AdsSignalsDsOemDataSetUploadFailureDataActionFlux","AdsSignalsDsOemDataSetUploadSuccessDataActionFlux","AdsSignalsDsOemUploadDeleteFailureDataActionFlux","AdsSignalsDsOemUploadDeleteSuccessDataActionFlux","FluxLoadObjectStore","SignalsDSDataManager","SignalsDSRefreshStoreDataActionFlux","SignalsDSUIUtils","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsDSUIUtils").normalizeRecordStats,i=b("SignalsDSUIUtils").parseDateFromBackend,j=b("SignalsDSUIUtils").compareEventObj;function k(a){__p&&__p();try{var b=a.agencies,c=a.business,d=a.description,e=a.enable_auto_assign_to_accounts,f=a.event_stats,g=a.event_time_max,k=a.event_time_min,l=a.id,m=a.is_restricted_use,n=a.matched_entries,o=a.name,p=a.valid_entries;b=b==null?[]:b.data.map(function(a){return{id:a.id,name:a.name,picture:a.picture&&a.picture.data&&a.picture.data.url}});e=e;g=i(g);var q=JSON.parse(f);f=Object.keys(q).map(function(a){return{eventName:a,eventNum:parseInt(q[a],10)}});f.sort(j);n=h(n,p);p=n.lowMatchRate||null;var r=n.matchedPercent||null,s=n.numMatchedRecords||null;n=n.numTotalRecords||null;c={id:c&&c.id||"",name:c&&c.name||"",picture:c&&c.picture&&c.picture.data&&c.picture.data.url};var t=a;k=i(k);a={numLiftStudies:a.usage&&a.usage.num_lift_studies||0};m=m;return{agencies:b,autoAssigned:e,description:d||"",endDate:g,eventStats:f,id:l,isRestrictedUse:m,lowMatchRate:p,matchedPercent:r,name:o||"",numMatchedRecords:s,numTotalRecords:n,ownerBusiness:c,rawData:t,startDate:k,usage:a}}catch(a){return a}}var l=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return l?[b("AdsSignalsDsOemAutoAssignAndTrackingUpdateDataActionFlux").actionType,b("AdsSignalsDsOemDataSetEditDoneDataActionFlux").actionType,b("AdsSignalsDsOemDataSetEditErrorDataActionFlux").actionType,b("AdsSignalsDsOemDataSetEditSuccessDataActionFlux").actionType,b("AdsSignalsDsOemDataSetListLoadSuccessDataActionFlux").actionType,b("AdsSignalsDsOemDataSetLoadFailureDataActionFlux").actionType,b("AdsSignalsDsOemDataSetLoadSuccessDataActionFlux").actionType,b("AdsSignalsDsOemDataSetUploadFailureDataActionFlux").actionType,b("AdsSignalsDsOemDataSetUploadSuccessDataActionFlux").actionType,b("AdsSignalsDsOemUploadDeleteFailureDataActionFlux").actionType,b("AdsSignalsDsOemUploadDeleteSuccessDataActionFlux").actionType,b("SignalsDSRefreshStoreDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsSignalsDsOemDataSetListLoadSuccessDataActionFlux").actionType:var d=b("immutable").Map(c.dataSets.map(function(a){return[a.id,k(a)]}));return this.__handleMap(a,d);case b("AdsSignalsDsOemDataSetEditErrorDataActionFlux").actionType:case b("AdsSignalsDsOemDataSetEditSuccessDataActionFlux").actionType:case b("AdsSignalsDsOemDataSetUploadFailureDataActionFlux").actionType:case b("AdsSignalsDsOemDataSetUploadSuccessDataActionFlux").actionType:case b("AdsSignalsDsOemUploadDeleteFailureDataActionFlux").actionType:case b("AdsSignalsDsOemUploadDeleteSuccessDataActionFlux").actionType:case b("SignalsDSRefreshStoreDataActionFlux").actionType:this.__load(c.dataSetID);return this.__setLoading(a,[c.dataSetID]);case b("AdsSignalsDsOemDataSetEditDoneDataActionFlux").actionType:return this.__setLoading(a,[c.dataSetID]);case b("AdsSignalsDsOemDataSetLoadSuccessDataActionFlux").actionType:return this.__handleOne(a,c.dataSetID,k(c.dataSet));case b("AdsSignalsDsOemDataSetLoadFailureDataActionFlux").actionType:return this.__handleOne(a,c.dataSetID,c.error);case b("AdsSignalsDsOemAutoAssignAndTrackingUpdateDataActionFlux").actionType:d=c.assignResult.dataSetID;this.__load(d);return this.__setEmptyAndLoading(a,d);default:return a}};a.prototype.__load=function(a){b("SignalsDSDataManager").loadDataSet(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("SignalsCustomConversionCreationButton.react",["fbt","FDSButton.react","React","SignalsHomeComponentTestIDs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=g._("Create Custom Conversion");h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.buttonStyle,d=a.canCreateCustomConversion,e=a.disableTooltip,f=a.icon;a=a.onCreateCustomConversion;return b("React").createElement(b("FDSButton.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_CUSTOM_CONVERSION_BUTTON_IN_HEADER,icon:f,isDisabled:!d,label:i,tooltip:(f=e)!=null?f:null,tooltipPosition:"below",use:c,onClick:a})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("CustomConversionCreationCapabilityUtils",["AdsAccountCapabilities","AdsAccountUtils","BrandsAppConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BrandsAppConfig").businessCapabilities;function a(){return g.can_business_create_offline_custom_conversion}function h(){return g.can_business_create_app_custom_conversion}function c(){return g.can_business_use_new_standard_events}function d(a,c){return c!=null?h():b("AdsAccountUtils").hasCapability(a,b("AdsAccountCapabilities").CAN_ADACCOUNT_CREATE_APP_CUSTOM_CONVERSION)}e.exports={canBusinessCreateAppCustomConversion:h(),canBusinessCreateOfflineCustomConversion:a(),canBusinessUseNewStandardEvents:c(),getCanAdAccountCreateAppCustomConversion:d}}),null);
__d("SignalsCustomConversionDialogStore",["SignalsCustomConversionDialogTypes","SignalsCustomConversionRuleSetActionTypes","SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsCustomConversionRuleSetActionTypes").UPDATE_DIALOG_TYPE;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{dialogType:b("SignalsCustomConversionDialogTypes").NO_DIALOG}};a.prototype.__customReduce=function(a,b){b=b.action;var c=b.dialogType;b=b.type;switch(b){case h:return babelHelpers["extends"]({},a,{dialogType:c});default:return a}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCustomConversionRuleListUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCustomConversionCreationButtonContainer.react",["AdsSlideshowCreateDataActionFlux","CustomConversionCreationCapabilityUtils","CustomConversionExternalSourceFetchUtils","LoadObject","React","SignalsAdAccountStore","SignalsContainer.react","SignalsCustomConversionCreationButton.react","SignalsCustomConversionDialogStore","SignalsCustomConversionDialogTypes","SignalsCustomConversionRuleListUIStateStore","SignalsCustomConversionRuleSetStateActions","SignalsCustomConversionRuleSetUIStateStore","SignalsCustomConversionSelectedAccountUIStateStore","SignalsDataSourcesEnum","SignalsHomeStateStore","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CustomConversionCreationCapabilityUtils").canBusinessCreateAppCustomConversion,i=b("CustomConversionCreationCapabilityUtils").getCanAdAccountCreateAppCustomConversion,j=b("CustomConversionExternalSourceFetchUtils").genDataSourceAvailableEvents,k=b("CustomConversionExternalSourceFetchUtils").filterDataSource,l=b("SignalsCustomConversionRuleSetStateActions").loadRuleSetDataSourceListStateAction,m=b("SignalsCustomConversionRuleSetStateActions").updateRuleSetDefaultDataSouceStateAction,n=b("SignalsContainer.react").getValueSafe;c=babelHelpers.inherits(a,b("SignalsContainer.react"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$SignalsCustomConversionCreationButtonContainer1=function(){__p&&__p();var a=this.getStateEnforcing(),c=a.businessID,d=a.dataSourcesLoaded,e=a.dataSourceMap,f=a.selectedAccount;a=a.seeAppEvents;var g=e.dataSourceEventMap,h=e.lastFiredDataSource,i=e.pixels,n=e.offlineEventSets,o=e.apps,p=this.props,q=p.defaultDataSource;p=p.seeOfflineEvents;var r=f.type==="act"?f.id:null;c=f.type==="biz"?f.id:c;var s=0;b("SignalsCustomConversionSelectedAccountUIStateStore").updateStateLater({selectedAccountID:f.id,selectedAccountType:f.type});if(!d){b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("SignalsCustomConversionDialogTypes").DATA_SOURCE_LOAD});b("promiseDone")(b("SignalsCustomConversionRuleSetUIStateStore").genAvailableDataSourceWithEvents(r,c,a,p,q),function(a){l(a,f.id),b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("AdsSlideshowCreateDataActionFlux").actionType})});return}var t=q!=null?k(q,(d={},d[b("SignalsDataSourcesEnum").PIXEL]=i.toArray(),d[b("SignalsDataSourcesEnum").DATA_SET]=n.toArray(),d[b("SignalsDataSourcesEnum").APP_EVENT]=o.toArray(),d)):h;if(t==null)return;if(g.has(t.id))m(t,e,f.id,[],0,!0,e.appEventParameterMap.get(t.id)),b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("AdsSlideshowCreateDataActionFlux").actionType});else{b("SignalsCustomConversionDialogStore").updateStateLater({dialogType:b("AdsSlideshowCreateDataActionFlux").actionType});b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((r={},r[s]=b("LoadObject").loading(),r));b("promiseDone")(j(t.id,t.type),function(a){m(t,e,f.id,a.availableEvents,0,!0,a.selectAppEventRuleTypes);b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((a={},a[s]=null,a))},function(a){var c;b("SignalsCustomConversionRuleListUIStateStore").updateStateLater((c={},c[s]=b("LoadObject").withError(a),c))})}}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsCustomConversionRuleListUIStateStore"),b("SignalsCustomConversionRuleSetUIStateStore"),b("SignalsHomeStateStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=b("SignalsHomeStateStore").getState();c=a.accountID;a=a.businessID;var d={id:"",type:"act"},e=this.props.account;e!=null?(d.id=e.id,d.type=e.type):c!=null?(d.id=c,d.type="act"):a!=null&&(d.id=a,d.type="biz");e=d.type==="act"?i(n(b("SignalsAdAccountStore").get(d.id)),a):h;c=b("SignalsCustomConversionRuleSetUIStateStore").getState();var f=Object.prototype.hasOwnProperty.call(c,d.id);c=c[d.id]||b("SignalsCustomConversionRuleSetUIStateStore").getDefaultRuleSet();return{businessID:a,dataSourceMap:c,dataSourcesLoaded:f,seeAppEvents:e,selectedAccount:d}};a.prototype.renderLoadedValue=function(){var a=this.props,c=a.buttonStyle,d=a.canCreateCustomConversion,e=a.disableTooltip;a=a.icon;return b("React").createElement(b("SignalsCustomConversionCreationButton.react"),{buttonStyle:c,canCreateCustomConversion:d,disableTooltip:e,icon:a,onCreateCustomConversion:this.$SignalsCustomConversionCreationButtonContainer1})};e.exports=a}),null);
__d("CustomConversionCreationPermissionCheckUtils",["fbt","SignalsDataSourcesEnum"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={getAdAccountCustomConversionCreationToolTip:function(a,c,d,e,f,h){__p&&__p();var i=null;if(!a)i=g._("Your Ad Account does not have permission to create custom conversion.");else if(c)i=g._("There is a limit of {number of creation limit} custom conversions per ad account.",[g._param("number of creation limit",e)]);else if(h!=null)!f&&h===b("SignalsDataSourcesEnum").APP_EVENT&&(i=g._("Custom conversions aren't currently available for app events."));else{a=d[b("SignalsDataSourcesEnum").PIXEL]||d[b("SignalsDataSourcesEnum").DATA_SET]||d[b("SignalsDataSourcesEnum").APP_EVENT];a||(i=g._("Your Ad Account does not get access to any data sources to create custom conversion."))}return i},getBizAccountCustomConversionCreationToolTip:function(a,c,d,e,f){__p&&__p();var h=null;if(!a)h=g._("Your Business Account does not have permission to create custom conversion.");else if(f!=null)switch(f){case b("SignalsDataSourcesEnum").APP_EVENT:h=d?null:g._("Your Business Account does not have permission to create custom conversion based off App event.");break;case b("SignalsDataSourcesEnum").DATA_SET:h=e?null:g._("Your Business Account does not have permission to create custom conversion based off offline event.");break}else{a=c[b("SignalsDataSourcesEnum").PIXEL]||c[b("SignalsDataSourcesEnum").DATA_SET]||c[b("SignalsDataSourcesEnum").APP_EVENT];a||(h=g._("Your Business Account does not get access to any data sources to create custom conversion."))}return h},getCustomConversionCreationToolTip:function(a,b,c,d,e,f,g,i,j){return g!=null?h.getAdAccountCustomConversionCreationToolTip(a,b,c,d,e,j):h.getBizAccountCustomConversionCreationToolTip(a,c,e,f,j)},getCanSeeAndAccessDataSource:function(a,b,c,d){d=d==="act"&&a;return!d&&b&&c},getCanCreateCustomConversionForDataSource:function(a,b,c,d,e){return a&&h.getCanSeeAndAccessDataSource(b,c,d,e)},getCanCreateCustomConversionForAnyDataSource:function(a,c,d,e,f,g){if(!a)return!1;var i=(a={},a[b("SignalsDataSourcesEnum").PIXEL]=!0,a[b("SignalsDataSourcesEnum").DATA_SET]=f,a[b("SignalsDataSourcesEnum").APP_EVENT]=e,a[b("SignalsDataSourcesEnum").ALL]=!0,a);f=Object.keys(b("SignalsDataSourcesEnum")).filter(function(a){return a!=b("SignalsDataSourcesEnum").ALL}).reduce(function(a,b){return a||h.getCanSeeAndAccessDataSource(c,d[b],i[b],g)},!1);return f}};e.exports=h}),null);
__d("PixelDomainControlPerformanceBreakdown",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DOMAIN:"domain",BLOCKED_LINK:"blocked_link"})}),null);
__d("SignalsHomePixelSettingsSection.react",["cx","FDSText.react","FlexLayout.react","FlexLayoutItem.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.header,d=a.subheader,e=a.rightButtons;a=a.children;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FlexLayout.react"),{align:"end",className:"_71kr",justify:"all"},b("React").createElement(b("FlexLayoutItem.react"),{className:"_7a6l"},b("React").createElement(b("FDSText.react"),{display:"block",size:"header3",weight:"bold"},c),d!=null?b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1"},d):null),e!=null?b("React").createElement(b("FlexLayoutItem.react"),null,e):null),b("React").createElement("div",{className:"_3-8u _3-95"},a))}a.defaultProps={subheader:null,rightButtons:null,children:null};e.exports=a}),null);
__d("SignalsHomeSettingsDomainControlConfigCard.react",["ix","cx","fbt","invariant","AdsLoadObjectUtils","FDSButton.react","FDSCard.react","FDSCardHeader.react","FDSDropdownSelectorOption.react","FDSSection.react","FDSSimplePopover.react","FDSSpinner.react","FDSSplitButton.react","FDSText.react","FlexLayout.react","Image.react","PixelDomainControlOperationTypeEnum","PixelDomainControlPerformanceBreakdown","PixelDomainControlType","React","SignalsHomeDomainControlUtils","SignalsHomePixelSettingsSection.react","asset","gkx","immutable","intlSummarizeNumber","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=b("SignalsHomeDomainControlUtils").getConditionCreationTimeStr,n=b("SignalsHomeDomainControlUtils").getPermissionPromptText,o=b("immutable").Map,p=250,q=b("gkx")("678132");c=babelHelpers.inherits(r,b("React").Component);k=c&&c.prototype;function r(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onClickCross(this.props.domain)}.bind(this),b}r.prototype.render=function(){var a=this.props,c=a.domain,d=a.canEditPixel,e=a.eventsBlocked;a=a.createdAtStr;return b("React").createElement("div",null,b("React").createElement(b("FlexLayout.react"),{align:"start",justify:"all"},b("React").createElement("div",{className:"_3-8w",style:{lineHeight:"8px",display:"flex",alignItems:"start"}},d&&b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("478231")}),label:"",size:"small",use:"flat",onClick:this.$1}),b("React").createElement(b("FDSText.react"),{margin:"_3-99 _3-8w",overflowWrap:"break-word",size:"body3",width:p},i._("{domain} and subdomains",[i._param("domain",c)]))),b("React").createElement("div",{className:"_3-8w"},e>=0?b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8w"},i._("{number of events blocked}",[i._param("number of events blocked",b("intlSummarizeNumber")(e))])):null)),a!=null&&b("React").createElement("div",{style:{textAlign:"left"}},b("React").createElement(b("FDSText.react"),{color:"disabled",margin:(d?"_4m0t":"")+(d?"":" _3-99"),size:"body3"},a)))};d=babelHelpers.inherits(a,b("React").PureComponent);l=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.state={createRuleType:b("PixelDomainControlType").BLACKLIST},this.$1=function(a){this.setState(function(b){return{createRuleType:a}})}.bind(this),this.$2=function(){this.props.onCreate(this.state.createRuleType)}.bind(this),this.$3=function(){this.props.onEdit()}.bind(this),this.$4=function(a){var c=this.props.detailedExistingRuleLo;c.hasValue()||j(0,2787);this.props.onRemoveDomain({domain:a,domainControlType:c.getValueEnforcing().type,operationType:b("PixelDomainControlOperationTypeEnum").REMOVE_DOMAIN})}.bind(this),c}a.prototype.getEmptyRuleCardBody=function(a){var c,d=this.state.createRuleType;c=(c={},c[b("PixelDomainControlType").BLACKLIST]=i._("Create a blacklist"),c[b("PixelDomainControlType").WHITELIST]=i._("Create a whitelist"),c);return q?b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},i._("You can control which website domains can send you traffic and event data. To block domains from using this pixel, choose between one of two options:")),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-8y",size:"body3",weight:"bold"},i._("Create a blacklist:")," ",b("React").createElement(b("FDSText.react"),{weight:"normal"},i._("Block specific domains from using this pixel by adding them to a blacklist."))),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-8y",size:"body3",weight:"bold"},i._("Create a whitelist:")," ",b("React").createElement(b("FDSText.react"),{weight:"normal"},i._("Only allow specific domains to use this pixel by adding them to a whitelist."))),b("React").createElement(b("FDSSplitButton.react"),{isDisabled:!a,label:c[d],margin:"_3-8y",tooltip:n(a),onChange_DEPRECATED:this.$1,onClick:this.$2},b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:b("PixelDomainControlType").BLACKLIST,value:b("PixelDomainControlType").BLACKLIST},i._("Create a blacklist")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:b("PixelDomainControlType").WHITELIST,value:b("PixelDomainControlType").WHITELIST},i._("Create a whitelist")))):b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"secondary",weight:"normal"},i._("You can control which website domains can send you event data using this pixel by creating a blacklist.")),b("React").createElement(b("FDSButton.react"),{isDisabled:!a,label:c[b("PixelDomainControlType").BLACKLIST],margin:"_3-8y",tooltip:n(a),onClick:this.$2}))};a.prototype.getHasRuleCardBody=function(a,c,d){var e,f=a.type;e=(e={},e[b("PixelDomainControlType").BLACKLIST]={title:i._("Blacklisted Domains"),instruction:i._("These domains can't send traffic and event data because they've been added to your blacklist.")},e[b("PixelDomainControlType").WHITELIST]={title:i._("Whitelisted Domains"),instruction:i._("Only these domains and their subdomains can send traffic and event data because they've been added to your whitelist.")},e);return b("React").createElement("div",null,b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement(b("FDSText.react"),{size:"body3",weight:"bold"},e[f].title),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490346")}),isDisabled:!c,label:i._("Edit"),tooltip:n(c),onClick:this.$3})),b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8-",size:"body3",weight:"normal"},e[f].instruction),this.getDomainList(a,c,d))};a.prototype.getDomainList=function(a,c,d){__p&&__p();var e=d.domain_control_type,f=d.breakdown;d=d.total;var g=a.conditions,h=a.type;h===e||j(0,2788);var k=f.find(function(a){a=a.breakdown_type;return a===b("PixelDomainControlPerformanceBreakdown").DOMAIN}),l=k==null?o([]):o(k.breakdown_details);return b("React").createElement("div",{style:{textAlign:"right"}},b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8y",size:"body3"},k==null?i._("{total count} Events Blocked",[i._param("total count",b("intlSummarizeNumber")(d))]):i._("Events Blocked")),b("React").createElement(b("FDSSimplePopover.react"),{content:i._("This represents the number of events that have been blocked from showing up in your ads performance data because they occurred on one or more of your blocked domains.")}),b("React").createElement("div",null,o(g.map(function(a){var b=a.domainMatchPattern;a=a.createdAt;var c=-1;k!=null&&(c=l.has(b)?l.get(b):0);return[b,{eventsBlocked:c,createdAtStr:a==null?null:m(h,a)}]})).sortBy(function(a){a=a.eventsBlocked;return-a}).entrySeq().map(function(a){var d=a[0];a=a[1];var e=a.eventsBlocked;a=a.createdAtStr;return b("React").createElement(r,{canEditPixel:c,createdAtStr:a,domain:d.substr(2,d.length),eventsBlocked:e,key:d,onClickCross:this.$4})}.bind(this))))};a.prototype.getCardBody=function(){var a=this.props,c=a.detailedExistingRuleLo,d=a.canEditPixelLo;a=a.rulePerfLo;if(b("AdsLoadObjectUtils").anyLoadingOrEmpty([c,d,a]))return b("React").createElement(b("FDSSpinner.react"),null);c=c.getValueEnforcing();d=d.getValueEnforcing();a=a.getValueEnforcing();return c.conditions.isEmpty()?this.getEmptyRuleCardBody(d):this.getHasRuleCardBody(c,d,a)};a.prototype.render=function(){var a=this.props.useCard;return a?b("React").createElement(b("FDSCard.react"),{header:b("React").createElement(b("FDSCardHeader.react"),{title:b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8o _4m0t",size:"body1",weight:"bold"},i._("Traffic Permissions"))}),margin:"_4aws"},b("React").createElement(b("FDSSection.react"),null,b("React").createElement("div",{style:{width:320}},this.getCardBody()))):b("React").createElement(b("SignalsHomePixelSettingsSection.react"),{header:i._("Traffic Permissions")},this.getCardBody())};e.exports=a}),null);
__d("SignalsSelectPixelDomainControlPerformance",["AdsLoadObjectUtils","LoadObject","SignalsHomeSelectExistingDomainControlRule","SignalsPixelDomainControlPerformanceDataProvider","SignalsSelectPixelID","adsCreateSelector","signalsCombineLO"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("SignalsHomeSelectExistingDomainControlRule").selectPlainExistingRule;c=b("adsCreateSelector")([b("SignalsSelectPixelID"),b("SignalsPixelDomainControlPerformanceDataProvider").toFluxSelector()],function(a,c){return a!=null?c.get(a):b("LoadObject").empty()},{name:e.id+".selectDomainControlPerformanceData"});d=b("adsCreateSelector")([c,a],function(a,c){return b("AdsLoadObjectUtils").anyLoadingOrEmpty([a,c])?b("LoadObject").loading():b("signalsCombineLO")([a,c],function(a,b){return a.find(function(a){a=a.domain_control_type;return a===b.type})})},{name:e.id+".selectExistingRulePerformance"});e.exports={selectExistingRulePerformance:d}}),null);
__d("SignalsHomeSettingsDomainControlConfigCardContainer.react",["AdsPixelDialogTypes","AdsPixelViewActions","AdsSelectorUtils","FluxContainer","LoadObject","React","SignalsHomeDomainControlSetCreateRuleTypeAction","SignalsHomeDomainControlStateProvider","SignalsHomeDomainControlUpdateIntendedAction","SignalsHomeSelectExistingDomainControlRule","SignalsHomeSettingsDomainControlConfigCard.react","SignalsPixelHasDomainControlSelector","SignalsSelectPixelDomainControlPerformance","editPixelPermissionSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsHomeSelectExistingDomainControlRule").selectDetailedExistingRule,i=b("SignalsSelectPixelDomainControlPerformance").selectExistingRulePerformance;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){b("SignalsHomeDomainControlUpdateIntendedAction").dispatch({actionPayload:a},{line:"86",module:"SignalsHomeSettingsDomainControlConfigCardContainer.react.js"}),b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").DOMAIN_CONTROL_UPDATE_SINGLE)},this.$2=function(a){b("SignalsHomeDomainControlSetCreateRuleTypeAction").dispatch({createRuleType:a},{line:"95",module:"SignalsHomeSettingsDomainControlConfigCardContainer.react.js"}),b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").DOMAIN_CONTROL_SETTINGS)},this.$3=function(){b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").DOMAIN_CONTROL_SETTINGS)},c}a.getStores=function(){return b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector"),h,i])};a.calculateState=function(){var a=b("SignalsPixelHasDomainControlSelector")(),c=b("editPixelPermissionSelector")(),d=b("SignalsHomeDomainControlStateProvider")();d=d.isUpdatingDomainControlRule;d=d?b("LoadObject").loading():h();var e=i();return{canEditPixelLo:c,hasDomainControl:a,detailedExistingRuleLo:d,rulePerfLo:e}};a.prototype.render=function(){var a=this.state,c=a.canEditPixelLo,d=a.detailedExistingRuleLo,e=a.hasDomainControl;a=a.rulePerfLo;return e?b("React").createElement(b("SignalsHomeSettingsDomainControlConfigCard.react"),{canEditPixelLo:c,detailedExistingRuleLo:d,rulePerfLo:a,useCard:this.props.useCard,onCreate:this.$2,onEdit:this.$3,onRemoveDomain:this.$1}):null};a.defaultProps={useCard:!0};e.exports=b("FluxContainer").create(a)}),null);
__d("SignalsHomeCustomConversionInlineCreationContainer.react",["CustomConversionCreationCapabilityUtils","FDSButton.react","LoadObject","React","SignalsAdAccountStore","SignalsContainer.react","SignalsCustomConversionCreationButtonContainer.react","SignalsDataSourcesEnum","SignalsHomeComponentTestIDs","SignalsHomeStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CustomConversionCreationCapabilityUtils").canBusinessCreateOfflineCustomConversion;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsHomeStateStore"),b("SignalsAdAccountStore")]};a.prototype.calculateState=function(){var a=b("SignalsHomeStateStore").getState(),c=a.accountID,d=a.appID,e=a.businessID,f=a.dataSetID;a=a.pixelID;if(c==null&&e==null)throw b("LoadObject").withError(new Error("Need accountID or businessID to be set."));return{appID:d,dataSetID:f,pixelID:a}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.appID,d=a.dataSetID;a=a.pixelID;var e=this.props,f=e.account,g=e.canCreateCustomConversion,i=e.disableTooltip,j=e.icon,k=e.label;e=e.onCreateCustomConversion;var l=null;c!=null?l={id:c,type:b("SignalsDataSourcesEnum").APP_EVENT}:a!=null?l={id:a,type:b("SignalsDataSourcesEnum").PIXEL}:d!=null&&(l={id:d,type:b("SignalsDataSourcesEnum").DATA_SET});c=j!=null?b("React").createElement(b("FDSButton.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_CUSTOM_CONVERSION_BUTTON,icon:j,isDisabled:!g,label:k,tooltip:g?null:i,onClick:e}):b("React").createElement(b("FDSButton.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_CUSTOM_CONVERSION_BUTTON,isDisabled:!g,label:k,tooltip:g?null:i,onClick:e});a=h;return d!=null&&!a?c:b("React").createElement(b("SignalsCustomConversionCreationButtonContainer.react"),{account:f,buttonStyle:"default",canCreateCustomConversion:g,defaultDataSource:l,disableTooltip:i,icon:j,seeOfflineEvents:a})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomePixelSettingsAssets",["ix","fbt","Image.react","React","SignalsHomeHelpLink.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports={NEED_EDIT_PERMISSIONS_FBT:h._("You don't have edit permissions for this Facebook pixel. Please contact your account admin."),DETAILS_BUSINESS_MANAGER_FBT:h._("Business Manager Settings"),DETAILS_HEADER_FBT:h._("Pixel Details"),DETAILS_BUSINESS_BRIEFCASE:b("React").createElement(b("Image.react"),{src:g("403209")}),DETAILS_BUSINESS_BRIEFCASE_DISABLED:b("React").createElement(b("Image.react"),{src:g("406634")}),DETAILS_OWNER_FBT:h._("Owner"),DETAILS_CREATOR_FBT:h._("Creator"),DETAILS_PIXEL_ID_FBT:h._("Pixel ID"),DETAILS_AD_ACCOUNT_ACCESS_FBT:h._("Give Ad Account Access"),DETAILS_ASSIGN_ACCOUNT_FBT:h._("Assign Account"),AAM_CHEVRON_UP:b("React").createElement(b("Image.react"),{src:g("505579")}),AAM_CHEVRON_DOWN:b("React").createElement(b("Image.react"),{src:g("492466")}),AAM_HEADER_FBT:h._("Automatic Advanced Matching"),AAM_SUB_HEADER_FBT:h._("Manage the customer information you collect."),AAM_PRIMARY_EXPLANATION_FBT:h._("Use information your customers have provided to your business, like email address or phone number, to match your website's visitors to people on Facebook. This can help you attribute more conversions to your Facebook ads and reach more people through remarketing campaigns. {=Learn more.}",[h._param("=Learn more.",b("React").createElement(b("SignalsHomeHelpLink.react"),{helpContent:"AUTOMATIC_ADVANCED_MATCHING"},h._("Learn more.")))]),AAM_INSUFFICIENT_PII_NOTICE_HEADER_FBT:h._("Choose More Data for Better Matching"),AAM_INSUFFICIENT_PII_NOTICE_TEXT_FBT:h._("Selecting multiple types of customer information, like Email, Phone Number or First and Last Name, will lead to more accurate matching."),AAM_SHOW_TOGGLES_FBT:h._("Show Options"),AAM_HIDE_TOGGLES_FBT:h._("Hide Options"),EVENT_TRACKING_HEADER:h._("Event Setup"),EVENT_TRACKING_SUBHEADER:h._("Manage the events that you're tracking."),EVENT_TRACKING_START_IWL_BUTTON:h._("Manage Event Setup"),EVENT_TRACKING_AUTOMATIC_EVENT_HEADER:h._("Set Up Events Automatically Without Code"),EVENT_TRACKING_AUTOMATIC_EVENT_CONTENT:h._("Your Facebook pixel can find and report on valuable website events, such as purchases or registrations, based on your site traffic, button text and page metadata. This feature can help you set up events without having to install code. You can choose to turn this functionality on or off. {=Learn more.}",[h._param("=Learn more.",b("React").createElement(b("SignalsHomeHelpLink.react"),{helpContent:"INFERRED_EVENTS"},h._("Learn more.")))]),EVENT_TRACKING_EVENT_TYPE_HEADER:h._("Event Type"),EVENT_TRACKING_EVENT_TRIGGER_HEADER:h._("Event Trigger"),EVENT_TRACKING_EVENT_TRIGGER_HEADER_HELP_TEXT:h._("The action that causes your event to fire, such as someone clicking on a button with specific text or visiting a specific URL."),EVENT_TRACKING_SETUP_METHOD_HEADER:h._("Setup Method"),EVENT_TRACKING_SETUP_NO_EVENTS_CONTENT:h._("No events are currently set up for this pixel."),EVENT_TRACKING_SETUP_METHOD_EVENT_SETUP_TOOL:h._("Event Setup Tool"),EVENT_TRACKING_SETUP_METHOD_EVENT_CODE:h._("Event Code"),EVENT_TRACKING_SETUP_METHOD_SERVER_TO_SERVER:h._("Server-to-Server"),TOGGLE_ON_FBT:h._("ON"),TOGGLE_OFF_FBT:h._("OFF")}}),null);
__d("SignalsHomePixelSettingsRow.react",["cx","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.header,d=a.children;a=a.sideContent;return b("React").createElement("div",{className:"_6xz5"},b("React").createElement("div",{className:"_6xz7"},c!=null?b("React").createElement("div",{className:"_6xz6"},b("React").createElement(b("FDSText.react"),{size:"body2",weight:"bold"},c)):null,d),b("React").createElement("div",{className:"_71lb"}),a)}a.defaultProps={children:null,header:null,sideContent:null};e.exports=a}),null);
__d("SignalsHomePixelSettingsToggleRow.react",["cx","FBToggleSwitch.react","FDSSpinner.react","FDSText.react","React","SignalsHomePixelSettingsAssets"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsHomePixelSettingsAssets").NEED_EDIT_PERMISSIONS_FBT,j=b("SignalsHomePixelSettingsAssets").TOGGLE_OFF_FBT,k=b("SignalsHomePixelSettingsAssets").TOGGLE_ON_FBT;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.onToggle=function(){this.props.onToggle(this.props.toggleParam)}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.canEdit,d=a.children,e=a.isDisabled,f=a.isGroupToggle;a=a.toggleState;var g=a.isLoading()?!a.getValueEnforcing():a.getValueEnforcing();return b("React").createElement("div",{className:(f?"_71km":"")+" _71kn"},d,b("React").createElement("div",{className:"_71ko"}),b("React").createElement("div",{className:"_71kp"},a.isLoading()?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("FDSText.react"),{color:a.isLoading()||e?"disabled":"primary",size:"body2",weight:"bold"},g?k:j)),b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:g,disabled:!c||a.isLoading()||e,tooltip:c?null:i,onToggle:this.onToggle}))};a.defaultProps={children:null,isDisabled:!1,isGroupToggle:!1};e.exports=a}),null);
__d("SignalsHomePixelSettingsAutoAdvancedMatching.react",["fbt","AdsCCCategory","AdsCCSingleCardComponent.react","FDSText.react","React","SignalsCollapsibleCard.react","SignalsHomePixelSettingsAssets","SignalsHomePixelSettingsRow.react","SignalsHomePixelSettingsSection.react","SignalsHomePixelSettingsToggleRow.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("SignalsHomePixelSettingsAssets").AAM_CHEVRON_DOWN,i=b("SignalsHomePixelSettingsAssets").AAM_CHEVRON_UP,j=b("SignalsHomePixelSettingsAssets").AAM_HEADER_FBT,k=b("SignalsHomePixelSettingsAssets").AAM_HIDE_TOGGLES_FBT,l=b("SignalsHomePixelSettingsAssets").AAM_INSUFFICIENT_PII_NOTICE_HEADER_FBT,m=b("SignalsHomePixelSettingsAssets").AAM_INSUFFICIENT_PII_NOTICE_TEXT_FBT,n=b("SignalsHomePixelSettingsAssets").AAM_PRIMARY_EXPLANATION_FBT,o=b("SignalsHomePixelSettingsAssets").AAM_SHOW_TOGGLES_FBT,p=b("SignalsHomePixelSettingsAssets").AAM_SUB_HEADER_FBT,q="events_manager_pixel_create_flow_insufficient_pii";function r(){return b("React").createElement(b("AdsCCSingleCardComponent.react"),{category:b("AdsCCCategory").WARNING,header:l,messageID:q,textData:[{type:"PARAGRAPH",data:{text:m}}]})}function a(a){var c=a.canEditPixel,d=a.fieldTogglesState,e=a.pixelToggleState,f=a.shouldShowPIINotice,l=a.onPixelToggle,m=a.onFieldToggle,q=Object.keys(d).map(function(a){return d[a]}).some(function(a){a=a.toggleState;return a.isLoading()});return b("React").createElement(b("SignalsHomePixelSettingsSection.react"),{header:j,subheader:p},b("React").createElement(b("SignalsHomePixelSettingsRow.react"),{sideContent:b("React").createElement(b("SignalsHomePixelSettingsToggleRow.react"),{canEdit:c,isDisabled:q,toggleState:e,onToggle:l})},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},n)),b("React").createElement(b("SignalsCollapsibleCard.react"),{downArrow:i,expandedLabel:k,label:o,rightArrow:h},b("React").createElement("div",null,Object.keys(d).map(function(a){var e=d[a],f=e.toggleState;e=e.label;return b("React").createElement(b("SignalsHomePixelSettingsToggleRow.react"),{canEdit:c,isDisabled:q,isGroupToggle:!0,key:a,toggleParam:a,toggleState:f,onToggle:m},b("React").createElement(b("FDSText.react"),{size:"body2",weight:"bold"},g._("{type of PII group}",[g._param("type of PII group",e)])))})),f?b("React").createElement(b("SignalsHomePixelSettingsRow.react"),null,b("React").createElement(r,null)):null))}e.exports=a}),null);
__d("SignalsPixelAutomaticMatchingUtils",["AutomaticMatchingPIIType","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AutomaticMatchingPIIType").CITY,h=b("AutomaticMatchingPIIType").EMAIL,i=b("AutomaticMatchingPIIType").FIRST_NAME,j=b("AutomaticMatchingPIIType").GENDER,k=b("AutomaticMatchingPIIType").LAST_NAME,l=b("AutomaticMatchingPIIType").PHONE,m=b("AutomaticMatchingPIIType").STATE,n=b("AutomaticMatchingPIIType").ZIP;a={getAutomaticMatchingDefaultFields:function(a){return a?b("immutable").Set([h,i,k,j,l,g,m,n]):b("immutable").Set()}};e.exports=a}),null);
__d("SignalsHomePixelSettingsAutoAdvancedMatchingContainer.react",["AdsPixelDataManager","AdsSelectorUtils","LoadObject","PixelAutomaticMatchingPIIGroups","React","SignalsContainer.react","SignalsHomeActions","SignalsHomePixelSettingsAutoAdvancedMatching.react","SignalsHomeStateStore","SignalsPixelAutomaticMatchingToggleUIStateStore","SignalsPixelAutomaticMatchingUtils","SignalsPixelStore","editPixelPermissionSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsPixelAutomaticMatchingUtils").getAutomaticMatchingDefaultFields,i=Object.keys(b("PixelAutomaticMatchingPIIGroups")),j=["Location","Gender"];c=babelHelpers.inherits(a,b("SignalsContainer.react"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer1=function(){var a=this.getStateEnforcing();a=a.pixelToggleState;if(a.isLoading())return;this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer4();i.forEach(this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer5,this);this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer6(!a.getValueEnforcing())}.bind(this),this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer2=function(a){__p&&__p();a=b("nullthrows")(a);var c=this.getStateEnforcing(),d=c.pixelToggleState;c=c.fieldTogglesState;c=c[a].toggleState;if(d.isLoading()||c.isLoading())return;var e=b("PixelAutomaticMatchingPIIGroups")[a].piiFields;c=!c.getValueEnforcing();c=b("immutable").Set(c?[].concat(this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer3(),e):this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer3().filter(function(a){return!e.includes(a)}));this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer5(a);c.size===0?(this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer4(),this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer6(!1)):c.size!==0&&!d.getValueEnforcing()?(this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer4(),this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer6(!0,c)):this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer6(!0,c)}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsPixelStore"),b("SignalsHomeStateStore"),b("SignalsPixelAutomaticMatchingToggleUIStateStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]))};a.prototype.calculateState=function(){__p&&__p();var a=b("nullthrows")(b("SignalsHomeStateStore").getState().pixelID),c=b("SignalsContainer.react").getValueSafe(b("SignalsPixelStore").get(a)),d=b("SignalsContainer.react").getValueSafe(b("editPixelPermissionSelector")()),e=b("SignalsPixelAutomaticMatchingToggleUIStateStore").getToggleState(a);e=e!=null?e:b("LoadObject").withValue(c.enable_automatic_matching);var f=b("SignalsContainer.react").getValueSafe(b("SignalsPixelStore").getAutomaticMatchingFields(a));c=Object.keys(b("PixelAutomaticMatchingPIIGroups")).reduce(function(e,g){var c=e.fieldTogglesState,d=e.isLoaded;e=e.enabledGroups;var h=b("PixelAutomaticMatchingPIIGroups")[g],i=h.label;h=h.piiFields;var j=b("SignalsPixelAutomaticMatchingToggleUIStateStore").getToggleState(a,g);j=j!=null?j:b("LoadObject").withValue(h.every(function(a){return f.includes(a)}));return{fieldTogglesState:babelHelpers["extends"]({},c,(h={},h[g]={label:i,toggleState:j},h)),isLoaded:d&&!j.isLoading(),enabledGroups:!j.isLoading()&&j.getValueEnforcing()?[].concat(e,[g]):e}},{fieldTogglesState:{},isLoaded:!e.isLoading(),enabledGroups:[]});var g=c.fieldTogglesState,h=c.isLoaded;c=c.enabledGroups;c=c.filter(function(a){return!j.includes(a)});h=h&&e.getValueEnforcing()&&c.length===0;return{canEditPixel:d,fieldTogglesState:g,pixelID:a,pixelToggleState:e,shouldShowPIINotice:h,onPixelToggle:this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer1,onFieldToggle:this.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer2}};a.prototype.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer3=function(){var a=this.getStateEnforcing();a=a.pixelID;return b("SignalsPixelStore").getAutomaticMatchingFields(a).getValueEnforcing().toArray()};a.prototype.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer4=function(){var a,c=this.getStateEnforcing(),d=c.pixelID;c=c.pixelToggleState;b("SignalsPixelAutomaticMatchingToggleUIStateStore").updateStateLater((a={},a[d]=c.loading(),a))};a.prototype.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer5=function(a){var c=this.getStateEnforcing(),d=c.pixelID;c=c.fieldTogglesState;c=c[a].toggleState.getValueEnforcing();b("SignalsPixelAutomaticMatchingToggleUIStateStore").setLoading(d,a,c)};a.prototype.$SignalsHomePixelSettingsAutoAdvancedMatchingContainer6=function(a,c){c===void 0&&(c=h(a));var d=this.getStateEnforcing(),e=d.pixelID;b("AdsPixelDataManager").editPixel(e,{enable_automatic_matching:a,automatic_matching_fields:c},function(d){if(d.success)b("SignalsHomeActions").finishToggleAutomaticMatching(e,a,c),b("SignalsPixelAutomaticMatchingToggleUIStateStore").clearAllToggleStates(e);else{var f;b("SignalsPixelAutomaticMatchingToggleUIStateStore").updateStateLater((f={},f[e]=b("LoadObject").withError(d.error),f))}})};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomePixelSettingsAutoAdvancedMatching.react"),a)};e.exports=a}),null);
__d("SignalsManageEventRuleGroupsConfirmDeleteDialog.react",["fbt","FDSButton.react","FDSButtonSpinner.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React","SignalsHomeVerificationCodelessRuleSerializeUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsHomeVerificationCodelessRuleSerializeUtils").getRuleDescription;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){return this.props.onCancel()}.bind(this),this.$2=function(){return this.props.onRemove()}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.isInProgress;a=a.item;return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{busyIndicator:c?b("React").createElement(b("FDSButtonSpinner.react"),{shade:"light"}):null,isDisabled:c,label:g._("Delete"),use:"primary",onClick:this.$2}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{isDisabled:c})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:g._("Delete Event Trigger")}),isShown:!0,width:402,onHide:this.$1},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),null,i(a)),b("React").createElement("br",null),b("React").createElement("br",null),g._("Are you sure you want to delete this event trigger?")))};e.exports=a}),null);
__d("SignalsManageEventRuleGroupsTableTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports={CELL_HEIGHT:48}}),null);
__d("SignalsManageEventRuleGroupsTableDescriptionCell.react",["FDSTableGenericCell.react","FDSText.react","React","SignalsHomeVerificationCodelessRuleSerializeUtils","SignalsManageEventRuleGroupsTableTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("SignalsHomeVerificationCodelessRuleSerializeUtils").getRuleDescription,h=b("SignalsManageEventRuleGroupsTableTypes").CELL_HEIGHT;a=function(a){a=a.item;return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:b("React").createElement(b("FDSText.react"),{display:"truncate",size:"meta1",weight:"normal"},a.setupMethod==="CODELESS"?g(a.ruleGroup):"--"),height:h})};e.exports=a}),null);
__d("SignalsManageEventRuleGroupsTableEventNameCell.react",["cx","fbt","FDSLink.react","FDSTableGenericCell.react","FDSText.react","FlexLayoutItem.react","Image.react","PixelStandardEventDetails","React","SignalsHomeVerificationEventUtil","SignalsManageEventRuleGroupsTableTypes","cssLength","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("SignalsHomeVerificationEventUtil").getEventIcon,k=b("SignalsManageEventRuleGroupsTableTypes").CELL_HEIGHT;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onEdit&&this.props.onEdit(this.props.item)}.bind(this),this.$2=function(){this.props.onRemove&&this.props.onRemove(this.props.item)}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.item;a=a.onEdit;var d=c.setupMethod==="CODELESS"?c.ruleGroup.event_type:c.eventType,e=Object.prototype.hasOwnProperty.call(b("PixelStandardEventDetails"),d)?b("PixelStandardEventDetails")[d].name:d;c=c.setupMethod==="CODELESS";return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_3-8i",src:j(d)}),b("React").createElement(b("FlexLayoutItem.react"),{basis:b("cssLength")("0"),grow:1,shrink:0},b("React").createElement("div",{style:{lineHeight:"1.25"}},b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"normal"},e),b("React").createElement("br",null),a?b("React").createElement(b("FDSLink.react"),{margin:"_4jnw",onClick:this.$1},h._("Edit")):null,a&&c?" / ":null,c?b("React").createElement(b("FDSLink.react"),{margin:"_4jnw",onClick:this.$2},h._("Delete")):null))),height:k})};e.exports=a}),null);
__d("SignalsManageEventRuleGroupsTableSetupMethodCell.react",["FDSTableGenericCell.react","FDSText.react","React","SignalsHomePixelSettingsAssets","SignalsManageEventRuleGroupsTableTypes"],(function(a,b,c,d,e,f){"use strict";c=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_SETUP_METHOD_EVENT_CODE;d=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_SETUP_METHOD_EVENT_SETUP_TOOL;f=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_SETUP_METHOD_SERVER_TO_SERVER;var g=b("SignalsManageEventRuleGroupsTableTypes").CELL_HEIGHT,h={CODELESS:d,SERVER_TO_SERVER:f,CODE:c};function a(a){a=a.item;return b("React").createElement(b("FDSTableGenericCell.react"),{align:"left",content:b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"normal"},h[a.setupMethod]),height:g})}e.exports=a}),null);
__d("SignalsManageEventRuleGroupsTable.react",["FDSButton.react","FDSSimpleTable.react","FDSSimpleTableColumn.react","FDSTableTextCell.react","FDSText.react","FlexLayout.react","React","SignalsHomePixelSettingsAssets","SignalsManageEventRuleGroupsTableDescriptionCell.react","SignalsManageEventRuleGroupsTableEventNameCell.react","SignalsManageEventRuleGroupsTableSetupMethodCell.react","SignalsManageEventRuleGroupsTableTypes","SUIBusinessTheme","SUIHelpMessage.react","suiMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_EVENT_TRIGGER_HEADER;d=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_EVENT_TRIGGER_HEADER_HELP_TEXT;f=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_EVENT_TYPE_HEADER;var h=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_SETUP_METHOD_HEADER,i=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_SETUP_NO_EVENTS_CONTENT,j=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_START_IWL_BUTTON,k=b("SignalsHomePixelSettingsAssets").NEED_EDIT_PERMISSIONS_FBT,l=b("SignalsManageEventRuleGroupsTableTypes").CELL_HEIGHT,m=function(a,c){return b("React").createElement(b("FDSTableTextCell.react"),{content:a.labels[c],height:l})},n={labels:{EventName:f,Description:b("React").createElement("span",null,c,b("React").createElement(b("SUIHelpMessage.react"),{theme:b("SUIBusinessTheme"),value:d})),SetupMethod:h}},o=function(a){return b("React").createElement(b("SignalsManageEventRuleGroupsTableDescriptionCell.react"),{item:a})},p=function(a){return b("React").createElement(b("SignalsManageEventRuleGroupsTableSetupMethodCell.react"),{item:a})};f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){return this.props.onRemove&&this.props.onRemove(a)}.bind(this),this.$2=function(a){return b("React").createElement(b("SignalsManageEventRuleGroupsTableEventNameCell.react"),{item:a,onRemove:this.$1})}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.hasEditPermission,d=a.items;a=a.onSetupEvents;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSSimpleTable.react"),{borders:"rows",headerProps:{item:n,height:l},items:d,rowHeight:l},b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:this.$2,columnKey:"EventName",flexibleWidth:{grow:1},header:m}),b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:o,columnKey:"Description",flexibleWidth:{grow:3},header:m}),b("React").createElement(b("FDSSimpleTableColumn.react"),{cell:p,columnKey:"SetupMethod",flexibleWidth:{grow:.5},header:m})),d.length===0?b("React").createElement(q,{hasEditPermission:c,onSetupEvents:a}):null)};function q(a){var c=a.hasEditPermission;a=a.onSetupEvents;return b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"vertical",justify:"center"},b("React").createElement(b("FDSText.react"),{color:"placeholder",margin:"_3-8- _3-95",size:"body2"},i),b("React").createElement(b("FDSButton.react"),{isDisabled:!c,label:j,margin:"_3-8x _3-98",target:"_blank",tooltip:c?null:k,use:"primary",onClick:a}))}e.exports=a}),null);
__d("SignalsRuleType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DOMAIN_CONTROL:"DOMAIN_CONTROL",CODELESS:"CODELESS",UNKNOWN:"UNKNOWN"})}),null);
__d("SignalsHomeEventRuleGroupsTableContainer.react",["invariant","regeneratorRuntime","AdsGraphAPI","AdsPixelDialogTypes","AdsPixelViewActions","AdsSelectorUtils","FDSSpinner.react","FluxContainer","React","SignalsAspectStore","SignalsEventRulesProvider","SignalsManageEventRuleGroupCancelRemoveRuleAction","SignalsManageEventRuleGroupFinishRemoveRuleAction","SignalsManageEventRuleGroupPromptRemoveRuleAction","SignalsManageEventRuleGroupRemoveRuleStateProvider","SignalsManageEventRuleGroupsConfirmDeleteDialog.react","SignalsManageEventRuleGroupsTable.react","SignalsManageEventRuleGroupStartRemoveRuleAction","SignalsPixelEventAspects","SignalsRuleType","SignalsSelectPixelID","SignalsWebsiteEventDetectionMethodEnum","editPixelPermissionSelector","promiseDone","signalsCombineLO","signalsMemoizeMulti"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("signalsMemoizeMulti")(function(a,c){return b("signalsCombineLO")([a,c],function(a,c){a=a.allNamedStats().filter(function(a){return a.breakdown!=null&&a.breakdown.has(b("SignalsWebsiteEventDetectionMethodEnum").MANUAL_NOT_DETECTED)}).map(function(a){return{setupMethod:"CODE",eventType:a.name}});c=c.filter(function(a){return a.rule_type===b("SignalsRuleType").CODELESS}).map(function(a){return{setupMethod:"CODELESS",ruleGroup:a,eventType:a.event_type}});return[].concat(c.toArray(),a.toArray()).sort(function(a,b){return a.eventType<b.eventType?-1:1})})},1);function j(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id+".runRemove").object("event_rule",a).remove());case 2:case"end":return c.stop()}},null,this)}c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){return b("SignalsManageEventRuleGroupPromptRemoveRuleAction").dispatch({toRemove:a},{line:"129",module:"SignalsHomeEventRuleGroupsTableContainer.react.js"})},this.$3=function(){return b("SignalsManageEventRuleGroupCancelRemoveRuleAction").dispatch({},{line:"132",module:"SignalsHomeEventRuleGroupsTableContainer.react.js"})},this.$4=function(){var a=this.state,c=a.pixelID;a=a.toRemove;a=a.getValueEnforcing();a.setupMethod==="CODELESS"||g(0,11470);var d=a.ruleGroup.id;b("SignalsManageEventRuleGroupStartRemoveRuleAction").dispatch({},{line:"140",module:"SignalsHomeEventRuleGroupsTableContainer.react.js"});b("promiseDone")(j(d).then(function(){return b("SignalsManageEventRuleGroupFinishRemoveRuleAction").dispatch({ruleGroupID:d,pixelID:c},{line:"143",module:"SignalsHomeEventRuleGroupsTableContainer.react.js"})}))}.bind(this),c}a.getStores=function(){return[b("SignalsManageEventRuleGroupRemoveRuleStateProvider").toFluxStore(),b("SignalsEventRulesProvider").toFluxStore(),b("SignalsAspectStore")].concat(b("AdsSelectorUtils").getStores([b("SignalsSelectPixelID"),b("editPixelPermissionSelector")]))};a.calculateState=function(){var a=b("SignalsManageEventRuleGroupRemoveRuleStateProvider")();a=a.toRemove;var c=b("SignalsSelectPixelID")(),d=b("editPixelPermissionSelector")().getValue()||!1,e=i(b("SignalsAspectStore").get(c,b("SignalsPixelEventAspects").SOURCE),b("SignalsEventRulesProvider")().get(c));return{hasEditPermission:d,items:e,pixelID:c,toRemove:a}};a.prototype.$1=function(){b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").IWL_LOADER)};a.prototype.render=function(){var a=this.state,c=a.hasEditPermission,d=a.items;a=a.toRemove;var e=a.getValue();e==null||e.setupMethod==="CODELESS"||g(0,11461);return b("React").createElement(b("React").Fragment,null,e!=null?b("React").createElement(b("SignalsManageEventRuleGroupsConfirmDeleteDialog.react"),{isInProgress:a.isDeleting(),item:e.ruleGroup,onCancel:this.$3,onRemove:this.$4}):null,d.hasValue()?b("React").createElement(b("SignalsManageEventRuleGroupsTable.react"),{hasEditPermission:c,items:d.getValueEnforcing(),onRemove:this.$2,onSetupEvents:this.$1}):b("React").createElement(b("FDSSpinner.react"),null))};e.exports=b("FluxContainer").create(a)}),null);
__d("SignalsManageEventRuleGroupsRemoveAutomaticRulesDialog.react",["fbt","FDSButton.react","FDSButtonSpinner.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","SUIRadioList.react","FDSSection.react","FDSText.react","React","SUIBusinessTheme","promiseDone","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SUIRadioList.react").Item,j=g._("Stop tracking"),k=g._("Continue tracking");c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={isInProgress:!1,value:"continue"},this.$1=function(){return this.props.onClose()}.bind(this),this.$2=function(a){(a==="stop"||a==="continue")&&this.setState({value:a})}.bind(this),this.$3=function(){var a=this.state.value;a==="stop"?(this.setState({isInProgress:!0}),b("promiseDone")(this.props.onRemoveAutomaticEvents())):this.props.onClose()}.bind(this),c}a.prototype.render=function(){var a=this.state.isInProgress;return b("React").createElement(b("FDSModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{busyIndicator:a?b("React").createElement(b("FDSButtonSpinner.react"),{shade:"light"}):null,isDisabled:a,label:g._("Confirm"),onClick:this.$3}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{isDisabled:a})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:g._("Turn Off Automatic Event Tracking")}),isShown:!0,width:500,onHide:this.$1},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("FDSText.react"),{margin:"_3-96"},g._("When you turn off automatic event tracking, we'll stop looking for new events.")),b("React").createElement(b("FDSText.react"),{margin:"_3-96"},g._("Do you also want to stop tracking automatic events set up in the past?")),b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),size:"medium",value:this.state.value,onChange:this.$2},b("React").createElement(i,{tooltip:j,value:"stop"},j),b("React").createElement(i,{tooltip:k,value:"continue"},k))))};e.exports=a}),null);
__d("SignalsPixelUsageAutomaticEventToggleUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomePixelSettingsEventTrackingSectionToggleContainer.react",["regeneratorRuntime","Promise","AdsGraphAPI","AdsLoadObjectUtils","AdsSelectorUtils","FluxContainer","LoadObject","React","SignalsEventRuleCreationSourceTypeEnum","SignalsEventRulesProvider","SignalsHomePixelSettingsToggleRow.react","SignalsHomeStateStore","SignalsManageEventRuleGroupFinishRemoveRuleAction","SignalsManageEventRuleGroupsRemoveAutomaticRulesDialog.react","SignalsPixelStore","SignalsPixelUsageAutomaticEventToggleUIStateStore","editPixelPermissionSelector","immutable","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),i=0;i<d;i++)f[i]=arguments[i];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.$1=function(){__p&&__p();var a=this.state,c=a.pixelID;a=a.hasEditPermission;var d=this.state.toggleState.getValueEnforcing(),f=!d;if(!a)return;b("SignalsPixelUsageAutomaticEventToggleUIStateStore").updateStateLater((d={},d[c]=b("LoadObject").withValue(f).loading(),d));b("promiseDone")(function(){__p&&__p();var a,d;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:g.prev=0;g.next=3;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id+".constructor").object("adspixel",c).post({enable_automatic_events:f}));case 3:b("SignalsPixelUsageAutomaticEventToggleUIStateStore").updateStateLater((a={},a[c]=b("LoadObject").withValue(f),a));g.next=9;break;case 6:g.prev=6,g.t0=g["catch"](0),b("SignalsPixelUsageAutomaticEventToggleUIStateStore").updateStateLater((d={},d[c]=b("LoadObject").withError(g.t0),d));case 9:case"end":return g.stop()}},null,this,[[0,6]])}());this.state.hasAutomaticEvents&&f===!1&&this.setState({showRemoveExistingAutomaticEventsModal:!0})}.bind(this),this.$2=function(){this.setState({showRemoveExistingAutomaticEventsModal:!1})}.bind(this),this.$4=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:a=b("SignalsEventRulesProvider")().get(this.state.pixelID).map(function(a){return a.filter(function(a){return a.creation_source===b("SignalsEventRuleCreationSourceTypeEnum").SYSTEM_SUGGESTION})}).getValue()||h();c.next=3;return b("regeneratorRuntime").awrap(b("Promise").all(a.map(function(a){var c;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:c=a.id;return b.abrupt("return",this.$3(c));case 2:case"end":return b.stop()}},null,this)}.bind(this)).toArray()));case 3:this.$2();case 4:case"end":return c.stop()}},null,this)}.bind(this),c}a.getStores=function(){return[b("SignalsHomeStateStore"),b("SignalsEventRulesProvider").toFluxStore(),b("SignalsPixelStore"),b("SignalsPixelUsageAutomaticEventToggleUIStateStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]))};a.calculateState=function(a){var c=b("nullthrows")(b("SignalsHomeStateStore").getState().pixelID),d=b("SignalsPixelUsageAutomaticEventToggleUIStateStore").getState()[c],e=b("AdsLoadObjectUtils").all([b("SignalsEventRulesProvider")().get(c),b("editPixelPermissionSelector")()]).map(function(d){var e=d[0];d=d[1];e=e.some(function(a){return a.creation_source===b("SignalsEventRuleCreationSourceTypeEnum").SYSTEM_SUGGESTION});return{pixelID:c,hasAutomaticEvents:e,showRemoveExistingAutomaticEventsModal:a!=null&&a.showRemoveExistingAutomaticEventsModal,hasEditPermission:d}});return babelHelpers["extends"]({},e.getValue()||{pixelID:c,hasEditPermission:!1,showRemoveExistingAutomaticEventsModal:!1,hasAutomaticEvents:!1},{toggleState:d!=null?d:b("SignalsPixelStore").get(c).map(function(a){return a.enable_automatic_events})})};a.prototype.$3=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id+".$3").object("event_rule",a).remove());case 2:b("SignalsManageEventRuleGroupFinishRemoveRuleAction").dispatch({ruleGroupID:a,pixelID:this.state.pixelID},{line:"136",module:"SignalsHomePixelSettingsEventTrackingSectionToggleContainer.react.js"});case 3:case"end":return c.stop()}},null,this)};a.prototype.render=function(){var a=this.state,c=a.toggleState,d=a.hasEditPermission;a=a.showRemoveExistingAutomaticEventsModal;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SignalsHomePixelSettingsToggleRow.react"),{canEdit:d,toggleState:c,onToggle:this.$1}),a?b("React").createElement(b("SignalsManageEventRuleGroupsRemoveAutomaticRulesDialog.react"),{onClose:this.$2,onRemoveAutomaticEvents:this.$4}):null)};e.exports=b("FluxContainer").create(a)}),null);
__d("SignalsHomePixelSettingsEventTrackingSection.react",["AdsPixelDialogTypes","AdsPixelViewActions","FDSButton.react","FDSText.react","React","SignalsHomeEventRuleGroupsTableContainer.react","SignalsHomePixelSettingsAssets","SignalsHomePixelSettingsEventTrackingSectionToggleContainer.react","SignalsHomePixelSettingsRow.react","SignalsHomePixelSettingsSection.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_AUTOMATIC_EVENT_CONTENT,i=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_AUTOMATIC_EVENT_HEADER,j=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_HEADER,k=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_START_IWL_BUTTON,l=b("SignalsHomePixelSettingsAssets").EVENT_TRACKING_SUBHEADER,m=b("SignalsHomePixelSettingsAssets").NEED_EDIT_PERMISSIONS_FBT;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.$1=function(){b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").IWL_LOADER)};a.prototype.render=function(){var a=this.props.hasEditPermission;return b("React").createElement(b("SignalsHomePixelSettingsSection.react"),{header:j,rightButtons:b("React").createElement(b("FDSButton.react"),{isDisabled:!a,label:k,target:"_blank",tooltip:a?null:m,onClick:this.$1}),subheader:l},b("React").createElement(b("SignalsHomeEventRuleGroupsTableContainer.react"),null),b("React").createElement(b("SignalsHomePixelSettingsRow.react"),{header:i,sideContent:b("React").createElement(b("SignalsHomePixelSettingsEventTrackingSectionToggleContainer.react"),null)},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h)))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomePixelSettingsEventTrackingSectionContainer.react",["AdsSelectorUtils","React","SignalsContainer.react","SignalsHomePixelSettingsEventTrackingSection.react","SignalsHomeStateStore","editPixelPermissionSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsHomeStateStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]))};a.prototype.calculateState=function(a){a=b("nullthrows")(b("SignalsHomeStateStore").getState().pixelID);var c=b("SignalsContainer.react").getValueSafe(b("editPixelPermissionSelector")());return{pixelID:a,hasEditPermission:c}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomePixelSettingsEventTrackingSection.react"),a)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeIDText.react",["fbt","FBClipboardLink.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=g._("Copy ID to Clipboard"),i=g._("ID Copied to Clipboard");a=function(a){return b("React").createElement(b("FBClipboardLink.react"),{tooltip:h,tooltipSuccess:i,value:a.id},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2"},a.id))};e.exports=a}),null);
__d("SignalsHomeNameIDWithPicture.react",["FDSText.react","Image.react","React","SignalsHomeIDText.react"],(function(a,b,c,d,e,f){"use strict";var g=32,h=32;a=function(a){var c=a.name,d=a.id;a=a.pictureURL;return b("React").createElement("div",{style:{display:"flex"}},a!=null?b("React").createElement("div",{style:{marginRight:8}},b("React").createElement(b("Image.react"),{height:h,src:a,style:{borderRadius:"2px"},width:g})):null,b("React").createElement("div",{style:{flexGrow:1}},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",weight:"bold"},c),b("React").createElement("div",null,b("React").createElement(b("SignalsHomeIDText.react"),{id:d}))))};e.exports=a}),null);
__d("SignalsHomePixelSettingsPixelDetailsSection.react",["FDSButton.react","FDSText.react","React","SignalsHomeIDText.react","SignalsHomeNameIDWithPicture.react","SignalsHomePixelSettingsAssets","SignalsHomePixelSettingsRow.react","SignalsHomePixelSettingsSection.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsHomePixelSettingsAssets").DETAILS_AD_ACCOUNT_ACCESS_FBT,h=b("SignalsHomePixelSettingsAssets").DETAILS_ASSIGN_ACCOUNT_FBT,i=b("SignalsHomePixelSettingsAssets").DETAILS_BUSINESS_BRIEFCASE,j=b("SignalsHomePixelSettingsAssets").DETAILS_BUSINESS_BRIEFCASE_DISABLED,k=b("SignalsHomePixelSettingsAssets").DETAILS_BUSINESS_MANAGER_FBT,l=b("SignalsHomePixelSettingsAssets").DETAILS_CREATOR_FBT,m=b("SignalsHomePixelSettingsAssets").DETAILS_HEADER_FBT,n=b("SignalsHomePixelSettingsAssets").DETAILS_OWNER_FBT,o=b("SignalsHomePixelSettingsAssets").DETAILS_PIXEL_ID_FBT,p=b("SignalsHomePixelSettingsAssets").NEED_EDIT_PERMISSIONS_FBT;function a(a){var c=a.pixelID,d=a.creatorName,e=a.creationTime,f=a.hasEditPermission,q=a.owner;a=a.adAccountSharingURL;q=q!=null?b("React").createElement(b("SignalsHomePixelSettingsRow.react"),{header:n},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),q)):null;d=d!=null?b("React").createElement(b("SignalsHomePixelSettingsRow.react"),{header:l},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold"},d),b("React").createElement("br",null),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2"},e)):null;e=b("React").createElement(b("SignalsHomePixelSettingsRow.react"),{header:o},b("React").createElement(b("SignalsHomeIDText.react"),{id:c}));c=a!=null?b("React").createElement(b("SignalsHomePixelSettingsRow.react"),{header:g,sideContent:b("React").createElement(b("FDSButton.react"),{href:a,icon:f?i:j,isDisabled:!f,label:h,target:"_blank",tooltip:f?null:p})}):null;return b("React").createElement(b("SignalsHomePixelSettingsSection.react"),{header:m,rightButtons:a!=null?b("React").createElement(b("FDSButton.react"),{href:a,icon:f?i:j,isDisabled:!f,label:k,target:"_blank",tooltip:f?null:p}):null},q,d,e,c)}e.exports=a}),null);
__d("SignalsHomePixelSettingsPixelDetailsSectionContainer.react",["AdsSelectorUtils","BusinessURI.brands","DateTime","React","SignalsAdAccountStore","SignalsBusinessStore","SignalsContainer.react","SignalsHomePixelSettingsPixelDetailsSection.react","SignalsHomeStateStore","SignalsPixelStore","Timezone","editPixelPermissionSelector","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("Timezone").UTC,i=b("Timezone").getEnvironmentTimezoneID;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsPixelStore"),b("SignalsBusinessStore"),b("SignalsAdAccountStore"),b("SignalsHomeStateStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]))};a.prototype.calculateState=function(){__p&&__p();var a=b("nullthrows")(b("SignalsHomeStateStore").getState().pixelID),c=b("SignalsHomeStateStore").getState().businessID;c=c!=null?b("BusinessURI.brands")("/settings/pixels/"+a).addQueryData({business_id:c}).toString():null;var d=b("SignalsContainer.react").getValueSafe(b("editPixelPermissionSelector")()),e=b("SignalsContainer.react").getValueSafe(b("SignalsPixelStore").get(a)),f=e.creator?e.creator.name:null,g=b("DateTime").createFromISOString(e.creation_time,i()||h).format("M j, Y"),j=null;if(e.owner_business!=null){var k=e.owner_business.id;k=b("SignalsContainer.react").getValueSafe(b("SignalsBusinessStore").get(k));j={id:k.id,name:k.name,pictureURL:k.picture.data.url}}else if(e.owner_ad_account!=null){k=e.owner_ad_account.account_id;e=b("SignalsContainer.react").getValueSafe(b("SignalsAdAccountStore").get(k));j={id:e.account_id,name:e.name,pictureURL:null}}return{pixelID:a,creatorName:f,creationTime:g,hasEditPermission:d,owner:j,adAccountSharingURL:c}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomePixelSettingsPixelDetailsSection.react"),a)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsDataUseSettingEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EMPTY:"",ADVERTISING_AND_ANALYTICS:"advertising_and_analytics",ANALYTICS_ONLY:"analytics_only"})}),null);
__d("SignalsFirstPartyCookieStatusEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EMPTY:"",FIRST_PARTY_COOKIE_ENABLED:"first_party_cookie_enabled",FIRST_PARTY_COOKIE_DISABLED:"first_party_cookie_disabled"})}),null);
__d("SignalsHomeCookieSettingsI18N",["fbt","FDSLink.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=g._("Your Pixel Will Be Used for Advertising Purposes");c=g._("This pixel currently uses the Analytics Only option, which doesn't allow you to use advertising features. If you associate this pixel to an ad account, it will start using the Advertising and Analytics option which uses first- and third-party cookies for advertising purposes.");d=g._("Check Pixel and Cookie Settings");f=g._("We've Made Updates to the Facebook Pixel");var h=g._("You can now choose to use your Facebook pixel with your website's first-party cookies to give you more control over your advertising experience. Please check your cookie preferences in the settings for each pixel."),i=g._("Check Your Pixel Settings"),j=g._("Pixel and Cookie Settings"),k=function(a){var c=a.href,d=a.onClick;a=a.target;return g._("Choose how you want to use your Facebook pixel with cookies. {=Learn more}.",[g._param("=Learn more",b("React").createElement(b("FDSLink.react"),{href:c,target:a,onClick:d},g._("Learn more")))])},l=g._("Pixel Usage"),m=g._("Advertising and Analytics"),n=g._("You can currently use your pixel for ads measurement, ads reporting and analytics. The Advertising and Analytics option lets you create audiences and optimize for conversions. You can also choose Analytics Only."),o=g._("Analytics Only"),p=g._("You currently use your pixel for analytics purposes only. You won't be able to create audiences or report and optimize on conversions. You can always switch to Advertising and Analytics. Learn more."),q=g._("You Have Chosen Analytics Only"),r=g._("You have access to Facebook Analytics, but not ads measurement tools."),s=g._("Cookie Usage"),t=g._("First-Party Cookies: On"),u=g._("You can choose to share data from your website's first-party cookies with Facebook. This helps us deliver relevant ads to people who may be interested in your products or services."),v=g._("First-Party Cookies: Off"),w=g._("You can choose to share data from your website's first-party cookies with Facebook. This helps us deliver relevant ads to people who may be interested in your products or services."),x=g._("First-Party Cookie Sharing"),y=g._("Pixel Usage"),z=g._("Choose the way you'd like to use your Facebook pixel."),A=g._("Advertising and Analytics"),B=g._("Access advertising features such as audiences, conversions, targeting and optimization as well as site analytics and reporting data."),C=g._("Analytics Only"),D=g._("If you don't run ads on Facebook, the analytics only option helps you understand your site traffic and view your site data in Facebook Analytics."),E=g._("You Have Chosen Analytics Only"),F=g._("You won't be able to access ads measurement tools, optimize and report on conversions or create audiences based on website visitor information."),G="471978536642445";e.exports={BUSINESS_MANAGER_PIXEL_ASSOCIATION_WITH_AD_ACCOUNT_NOTICE_DESCRIPTION:c,BUSINESS_MANAGER_PIXEL_ASSOCIATION_WITH_AD_ACCOUNT_NOTICE_HEADER:a,COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_DISABLED_BODY:w,COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_DISABLED_TITLE:v,COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_ENABLED_BODY:u,COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_ENABLED_TITLE:t,COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_TOGGLE:x,COOKIE_SETTINGS_CARD_COOKIE_USAGE_HEADER:s,COOKIE_SETTINGS_CARD_HEADER_BODY:k,COOKIE_SETTINGS_CARD_HEADER_TITLE:j,COOKIE_SETTINGS_CARD_PIXEL_USAGE_ADVERTISING_AND_ANALYTICS_BODY:n,COOKIE_SETTINGS_CARD_PIXEL_USAGE_ADVERTISING_AND_ANALYTICS_TITLE:m,COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_BODY:p,COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_NOTICE_BODY:r,COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_NOTICE_TITLE:q,COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_TITLE:o,COOKIE_SETTINGS_CARD_PIXEL_USAGE_HEADER:l,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ADS_AND_ANALYTICS_DESCRIPTION:B,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ADS_AND_ANALYTICS_HEADER:A,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ANALYTICS_ONLY_DESCRIPTION:D,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ANALYTICS_ONLY_HEADER:C,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ANALYTICS_ONLY_WARNING_DESCRIPTION:F,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ANALYTICS_ONLY_WARNING_HEADER:E,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_HEADER:y,COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_INTRO:z,EVENTS_MANAGER_NOTICE_CHECK_PIXEL_SETTINGS:d,EVENTS_MANAGER_NOTICE_POST_LAUNCH_BODY:h,EVENTS_MANAGER_NOTICE_POST_LAUNCH_CHECK_PIXEL_SETTINGS:i,EVENTS_MANAGER_NOTICE_POST_LAUNCH_HEADER:f,LEARN_MORE_CMS_ID:G}}),null);
__d("SignalsHomeUsageSettingsCard.react",["cx","fbt","regeneratorRuntime","AdsIntelligentNotificationContainer.react","FBCheckbox.react","FBToggleSwitch.react","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","Image.react","InputLabel.react","React","ShimButton.react","SignalsHomePixelSettingsSection.react","cssLength","nullthrows","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m,n=h._("You don't have permission to edit this pixel.");i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.canEditPixel,d=a.config,e=a.rowConfig,f=a.rows;a=a.useCard;return a?b("React").createElement("div",{className:"_6xvu"},b("React").createElement("div",{className:"_6xvz"},b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8w",size:"header4",weight:"bold"},d.cardHeader),b("React").createElement(b("FDSText.react"),{display:"block"},d.cardDescription)),b("React").createElement("div",{className:"_6xvv"}),b("React").createElement("div",{className:"_6xvw"},f.map(function(a){return b("React").createElement(o,{canEditPixel:c,data:e[a],key:a,useCard:!0})}))):b("React").createElement(b("SignalsHomePixelSettingsSection.react"),{header:d.cardHeader,subheader:d.cardDescription},f.map(function(a){return b("React").createElement(o,{canEditPixel:c,data:e[a],key:a,useCard:!1})}))};function a(){i.apply(this,arguments)}d=babelHelpers.inherits(o,b("React").PureComponent);j=d&&d.prototype;function o(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={inEditMode:!1},this.$1=function(){this.setState(function(a){return{inEditMode:!a.inEditMode}})}.bind(this),this.$2=function(){b("nullthrows")(this.props.data).onCancel(),this.$1()}.bind(this),c}o.prototype.render=function(){__p&&__p();var a=this.props,c=a.canEditPixel,d=a.data;a=a.useCard;var e=this.state.inEditMode;if(d==null)return null;var f=d.title,g=d.content,i=d.isEnabled;i=i();var j=e&&d.editMode==="inline";i=i?g.enabled:g.disabled;var k=i.title;i=i.body;var l=c?null:n;return!a?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FlexLayout.react"),{className:"_3-97"},b("React").createElement(b("FlexLayoutItem.react"),{basis:b("cssLength")("0"),grow:1},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"meta1",weight:"bold"},f),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-94",size:"meta1",weight:"bold"},k),b("React").createElement(b("FDSText.react"),{display:"block",size:"body3"},i)),b("React").createElement(b("FlexLayoutItem.react"),null,b("React").createElement(b("FDSButton.react"),{isDisabled:!c,label:j?h._("Cancel"):h._("Edit"),tooltip:l,tooltipPosition:"left",onClick:e?this.$2:this.$1}))),d.editMode==="inline"?b("React").createElement(p,babelHelpers["extends"]({},d,{isShown:this.state.inEditMode,useCard:!1,onHide:this.$1})):null,d.editMode==="modal"?b("React").createElement(q,babelHelpers["extends"]({},d,{isShown:this.state.inEditMode,onCancel:this.$2,onHide:this.$1})):null,g.notice!=null?b("React").createElement("div",{className:"_3-97"},b("React").createElement(u,g.notice)):null):b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_6xvx"+(j?" _6xvy":"")},b("React").createElement("div",{className:"_6xwr"},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",palette:"light",size:"body2",textAlign:"right",weight:"bold"},f)),b("React").createElement("div",{className:"_6xws"},b("React").createElement(b("FDSText.react"),{color:a?"primary":"secondary",display:"block",size:"body2",weight:"bold"},k),b("React").createElement(b("FlexLayout.react"),{direction:"horizontal"},b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("FDSText.react"),{display:"block",size:"body2"},i)),b("React").createElement("div",{className:"_6xv_"},b("React").createElement(b("FDSButton.react"),{isDisabled:!c,label:j?h._("Cancel"):h._("Edit"),tooltip:l,tooltipPosition:"left",onClick:e?this.$2:this.$1}))),d.editMode==="inline"?b("React").createElement(p,babelHelpers["extends"]({},d,{isShown:this.state.inEditMode,useCard:!0,onHide:this.$1})):null,d.editMode==="modal"?b("React").createElement(q,babelHelpers["extends"]({},d,{isShown:this.state.inEditMode,onCancel:this.$2,onHide:this.$1})):null)),g.notice!=null?b("React").createElement(t,g.notice):null)};f=babelHelpers.inherits(c,b("React").PureComponent);k=f&&f.prototype;function c(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={isSaving:!1},this.onSaveFailure=function(){this.setState(function(){return{isSaving:!1}})}.bind(this),this.onSaveClick=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:a.prev=0;this.setState(function(){return{isSaving:!0}});a.next=4;return b("regeneratorRuntime").awrap(this.props.onSave());case 4:this.setState(function(){return{isSaving:!1}});this.props.onHide();a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),this.onSaveFailure();case 11:case"end":return a.stop()}},null,this,[[0,8]])}.bind(this),c}l=babelHelpers.inherits(p,c);l&&l.prototype;p.prototype.render=function(){var a=this.props,c=a.inlineConfig,d=a.isShown;a=a.useCard;var e=this.state.isSaving;if(!d)return null;d=c.notice;c=c.toggle;return b("React").createElement("div",{className:"_6xux"},b("React").createElement(b("InputLabel.react"),{label:c.label,labelClassName:"_6xuy"},b("React").createElement(b("FBToggleSwitch.react"),{checked:c.checked(),onToggle:c.onToggle})),b("React").createElement("div",{className:a?"_6xuz":""},b("React").createElement(s,babelHelpers["extends"]({},d,{useCard:a}))),b("React").createElement("div",{className:"_6xu-"}),b("React").createElement(b("FDSButton.react"),{isDisabled:e,label:h._("Save Changes"),use:"primary",onClick:this.onSaveClick}))};function p(){l.apply(this,arguments)}m=babelHelpers.inherits(q,c);m&&m.prototype;q.prototype.render=function(){var a=this.props,c=a.isShown,d=a.modalConfig;a=a.onCancel;var e=this.state.isSaving;return b("React").createElement(b("FDSModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:e,label:h._("Save"),use:"primary",onClick:this.onSaveClick}),secondaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:e,label:h._("Cancel"),onClick:a})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:d.title}),isShown:c,onHide:a},b("React").createElement(b("FDSSection.react"),null,b("React").createElement("div",{className:"_6xu_"},b("React").createElement(b("FDSText.react"),{display:"block",palette:"light",size:"header3"},d.description),b("React").createElement(b("FlexLayout.react"),{className:"_6xv0",direction:"horizontal"},[babelHelpers["extends"]({},d.content.enabled,{isSelected:d.isEnabled()}),babelHelpers["extends"]({},d.content.disabled,{isSelected:!d.isEnabled()})].map(function(a,c){return b("React").createElement(r,babelHelpers["extends"]({},a,{key:c}))})),b("React").createElement(s,babelHelpers["extends"]({},d.content.notice,{useCard:!0})))))};function q(){m.apply(this,arguments)}var r=function(a){var c=a.body,d=a.image,e=a.isSelected,f=a.onSelect;a=a.title;return b("React").createElement(b("ShimButton.react"),{className:"_6xv1"+(e?" _6xv2":""),onClick:f,onKeyPress:f},e?b("React").createElement(b("FBCheckbox.react"),{checked:!0,className:"_6xv3"}):null,b("React").createElement("div",{className:"_6xv4"},b("React").createElement(b("Image.react"),{src:d})),b("React").createElement(b("FDSText.react"),{color:e?"primary":"placeholder",display:"block",size:"body1",textAlign:"center",weight:"bold"},a),b("React").createElement(b("FDSText.react"),{color:e?"primary":"placeholder",display:"block",margin:"_3-8w",size:"body1",textAlign:"center"},c))},s=function(a){var c=a.useCard,d=babelHelpers.objectWithoutPropertiesLoose(a,["useCard"]);a=a.shouldShowNotice;return a!=null&&a()?b("React").createElement("div",{className:(c?"_6xv5":"")+(c?"":" _3-8x")+(c?"":" _3-95")},b("React").createElement(u,d)):null},t=function(a){return!a.shouldShowNotice()?null:b("React").createElement("div",{className:"_6xvx"},b("React").createElement("div",{className:"_6xwr"}),b("React").createElement("div",{className:"_6xv6"},b("React").createElement(u,a)))},u=function(a){var c=a.category,d=a.controlData,e=a.header,f=a.messageID;a=a.textData;return b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:c,controlData:d!=null?d():void 0,header:e,messageID:f,textData:a}})};e.exports=a}),null);
__d("SignalsHomeUsageCookieSettingsCard.react",["ix","regeneratorRuntime","Promise","AdsCCCategory","AdsPixelDataManager","React","SignalsDataUseSettingEnum","SignalsFirstPartyCookieStatusEnum","SignalsHomeCookieSettingsI18N","SignalsHomeDataUseSettingEditFinishAction","SignalsHomeFirstPartyCookieStatusEditFinishAction","SignalsHomeUsageSettingsCard.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_DISABLED_BODY,j=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_DISABLED_TITLE,k=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_ENABLED_BODY,l=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_ENABLED_TITLE,m=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_COOKIE_USAGE_FIRST_PARTY_COOKIES_TOGGLE,n=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_COOKIE_USAGE_HEADER,o=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_HEADER_BODY,p=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_HEADER_TITLE,q=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_ADVERTISING_AND_ANALYTICS_BODY,r=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_ADVERTISING_AND_ANALYTICS_TITLE,s=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_BODY,t=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_NOTICE_BODY,u=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_NOTICE_TITLE,v=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_ANALYTICS_ONLY_TITLE,w=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_HEADER,x=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ADS_AND_ANALYTICS_DESCRIPTION,y=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ADS_AND_ANALYTICS_HEADER,z=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ANALYTICS_ONLY_DESCRIPTION,A=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_ANALYTICS_ONLY_HEADER,B=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_HEADER,C=b("SignalsHomeCookieSettingsI18N").COOKIE_SETTINGS_CARD_PIXEL_USAGE_MODAL_INTRO,D=b("SignalsHomeCookieSettingsI18N").LEARN_MORE_CMS_ID;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state=babelHelpers["extends"]({},this.props.pixelCookieSettings),this.$1=function(){return{pixel_usage:{content:{disabled:{body:s,title:v},enabled:{body:q,title:r},notice:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,header:u,messageID:"signals_home_settings_pixel_data_usage_card_notice",shouldShowNotice:this.$2,textData:[{data:{text:t},type:"PARAGRAPH"}]}},editMode:"modal",isEnabled:this.$3,modalConfig:{content:{disabled:{body:z,image:g("686890"),onSelect:this.$4,title:A},enabled:{body:x,image:g("686889"),onSelect:this.$5,title:y},notice:{category:b("AdsCCCategory").WARNING,header:u,messageID:"signals_home_settings_data_usage_modal_warning",shouldShowNotice:this.$6,textData:[{data:{text:t},type:"PARAGRAPH"}]}},description:C,isEnabled:this.$7,title:B},onCancel:this.$8,onSave:this.$9,title:w},cookie_usage:{content:{disabled:{body:i,title:j},enabled:{body:k,title:l}},editMode:"inline",inlineConfig:{toggle:{checked:this.$10,label:m,onToggle:this.$11}},isEnabled:this.$12,onCancel:this.$13,onSave:this.$14,title:n}}}.bind(this),this.$2=function(){return this.props.pixelCookieSettings.dataUseSetting===b("SignalsDataUseSettingEnum").ANALYTICS_ONLY}.bind(this),this.$6=function(){return this.state.dataUseSetting===b("SignalsDataUseSettingEnum").ANALYTICS_ONLY}.bind(this),this.$3=function(){return this.props.pixelCookieSettings.dataUseSetting!==b("SignalsDataUseSettingEnum").ANALYTICS_ONLY}.bind(this),this.$7=function(){return this.state.dataUseSetting!==b("SignalsDataUseSettingEnum").ANALYTICS_ONLY}.bind(this),this.$8=function(){return this.setState(function(){return{dataUseSetting:this.props.pixelCookieSettings.dataUseSetting}}.bind(this))}.bind(this),this.$4=function(){return this.setState(function(){return{dataUseSetting:b("SignalsDataUseSettingEnum").ANALYTICS_ONLY}})}.bind(this),this.$5=function(){return this.setState(function(){return{dataUseSetting:b("SignalsDataUseSettingEnum").ADVERTISING_AND_ANALYTICS}})}.bind(this),this.$9=function(){__p&&__p();var a,c,d,e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:a=this.state.dataUseSetting;c=this.props,d=c.pixelID,e=c.pixelCookieSettings;f=e.dataUseSetting;if(!(a===f)){h.next=5;break}return h.abrupt("return");case 5:h.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(c,e){b("AdsPixelDataManager").editPixel(d,{data_use_setting:a},c)}));case 7:g=h.sent,g.success&&b("SignalsHomeDataUseSettingEditFinishAction").dispatch({dataSourceID:d,dataUseSetting:a},{line:"216",module:"SignalsHomeUsageCookieSettingsCard.react.js"});case 9:case"end":return h.stop()}},null,this)}.bind(this),this.$12=function(){return this.props.pixelCookieSettings.firstPartyCookieStatus!==b("SignalsFirstPartyCookieStatusEnum").FIRST_PARTY_COOKIE_DISABLED}.bind(this),this.$10=function(){return this.state.firstPartyCookieStatus!==b("SignalsFirstPartyCookieStatusEnum").FIRST_PARTY_COOKIE_DISABLED}.bind(this),this.$11=function(a){return this.setState(function(){return{firstPartyCookieStatus:a?b("SignalsFirstPartyCookieStatusEnum").FIRST_PARTY_COOKIE_ENABLED:b("SignalsFirstPartyCookieStatusEnum").FIRST_PARTY_COOKIE_DISABLED}})}.bind(this),this.$13=function(){return this.setState(function(){return{firstPartyCookieStatus:this.props.pixelCookieSettings.firstPartyCookieStatus}}.bind(this))}.bind(this),this.$14=function(){__p&&__p();var a,c,d,e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:a=this.state.firstPartyCookieStatus;c=this.props,d=c.pixelID,e=c.pixelCookieSettings;f=e.firstPartyCookieStatus;if(!(a===f)){h.next=5;break}return h.abrupt("return");case 5:h.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(c,e){b("AdsPixelDataManager").editPixel(d,{first_party_cookie_status:a},c)}));case 7:g=h.sent,g.success&&b("SignalsHomeFirstPartyCookieStatusEditFinishAction").dispatch({dataSourceID:d,firstPartyCookieStatus:a},{line:"264",module:"SignalsHomeUsageCookieSettingsCard.react.js"});case 9:case"end":return h.stop()}},null,this)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.canEditPixel,d=a.rows;a=a.useCard;var e={cardDescription:o({href:"https://www.facebook.com/business/help/"+D,target:"_blank"}),cardHeader:p};return b("React").createElement(b("SignalsHomeUsageSettingsCard.react"),{canEditPixel:c,config:e,rowConfig:this.$1(),rows:d,useCard:a})};e.exports=a}),null);
__d("SignalsHomeUsageCookieSettingsCardContainer.react",["AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","AdsSelectorUtils","React","SignalsContainer.react","SignalsHomeStateStore","SignalsHomeUsageCookieSettingsCard.react","SignalsLoadingSpinner.react","SignalsPixelStore","compactArray","editPixelPermissionSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsCCMigrationCategory").MigrationCategory,i=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]),[b("SignalsHomeStateStore"),b("SignalsPixelStore")])};a.prototype.calculateState=function(){var a=b("SignalsHomeStateStore").getState();a=a.pixelID;var c=a!=null?i(b("SignalsPixelStore").get(a)):{data_use_setting:"",first_party_cookie_status:""},d=c.data_use_setting;c=c.first_party_cookie_status;var e=i(b("editPixelPermissionSelector")()),f=a!=null?i(b("SignalsPixelStore").hasPermissibleAdAccounts(a)):!0;return{canEditPixel:e,hasPermissibleAdAccounts:f,pixelCookieSettings:{dataUseSetting:d,firstPartyCookieStatus:c},pixelID:a}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.canEditPixel,d=a.hasPermissibleAdAccounts,e=a.pixelCookieSettings;a=a.pixelID;var f=this.props.useCard;return a==null?null:b("React").createElement(b("SignalsHomeUsageCookieSettingsCard.react"),{canEditPixel:c,pixelCookieSettings:e,pixelID:a,rows:b("compactArray")([d?null:"pixel_usage","cookie_usage"]),useCard:f})};a.prototype.renderLoading=function(){var a=b("SignalsHomeStateStore").getState();a=a.pixelID;return a!=null?b("React").createElement(b("SignalsLoadingSpinner.react"),null):null};a.prototype.renderError=function(){return b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"signals_home_usage_cookie_settings_card_container_error",textData:[{type:"PARAGRAPH",data:{text:this.getErrorEnforcing().message}}]},migrationCategory:h.ADS_NOTICE,suiNoticeProps:{type:"error",messageBody:this.getErrorEnforcing().message}})};function a(){g.apply(this,arguments)}a.defaultProps={useCard:!0};e.exports=a}),null);
__d("SignalsHomePixelSettingsScreen.react",["cx","fbt","FDSText.react","React","SignalsHomeComponentTestIDs","SignalsHomePixelSettingsAutoAdvancedMatchingContainer.react","SignalsHomePixelSettingsEventTrackingSectionContainer.react","SignalsHomePixelSettingsPixelDetailsSectionContainer.react","SignalsHomeSettingsDomainControlConfigCardContainer.react","SignalsHomeUsageCookieSettingsCardContainer.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.canSeeLeftNav;return b("React").createElement("div",{"data-testid":b("SignalsHomeComponentTestIDs").PIXEL_INSPECTOR_SETTINGS},a?b("React").createElement(b("FDSText.react"),{margin:"_3-8x _4m0t",size:"header1"},h._("Settings")):null,b("React").createElement("div",{className:(a?"":"_3-8-")+(a?" _3-8s":"")},b("React").createElement(b("SignalsHomePixelSettingsPixelDetailsSectionContainer.react"),null),b("React").createElement(b("SignalsHomeUsageCookieSettingsCardContainer.react"),{useCard:!1}),b("React").createElement(b("SignalsHomePixelSettingsAutoAdvancedMatchingContainer.react"),null),b("React").createElement(b("SignalsHomePixelSettingsEventTrackingSectionContainer.react"),null),b("React").createElement(b("SignalsHomeSettingsDomainControlConfigCardContainer.react"),{useCard:!1})))}e.exports=a}),null);
__d("SignalsAppAdAccountIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=JSON.parse(a);var c=a.appID;a=a.businessID;var d=a!=null?{fields:["account_id"],limit:300,business:a}:{fields:["account_id"],limit:300};return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("application",c).edge("authorized_adaccounts").get(d).then(b("GraphAPIPaging").allPages()),function(b){a(i(b.data.map(function(a){return a.account_id})))},f)})};a.prototype.getVal=function(a,b){a={appID:a,businessID:b};return h.get.call(this,JSON.stringify(a))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSAdAccountIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=a.split(":");var c=a[0],d=a[1];return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("offline_conversion_data_set",c).edge("adaccounts").get({business:d,fields:["account_id"],limit:300}).then(b("GraphAPIPaging").allPages()),function(b){a(h(b.data.map(function(a){return a.account_id})))},f)})};a.prototype.__key=function(a,b){return a+":"+b};a.prototype.getVal=function(a,b){return this.get(this.__key(a,b))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageAdAccountSelector.react",["fbt","FDSText.react","React","SignalsHomeComponentTestIDs","SUISelector.react","SUISelectorOption.react"],(function(a,b,c,d,e,f,g){"use strict";var h=g._("You don't have access to this ad account."),i=g._("Please select an ad account"),j=function(a){return g._("{ad account name} ({ad account id})",[g._param("ad account name",a.name),g._param("ad account id",a.id)])};a=function(a){var c=a.selectedAdAccountID,d=a.adAccounts;a=a.onChange;return d.size===1&&c===d.first().id?b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1",weight:"bold"},j(d.first())):b("React").createElement(b("SUISelector.react"),{"data-testid":b("SignalsHomeComponentTestIDs").AD_ACCOUNT_SELECTOR,placeholder:i,value:c,onChange:a},d.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{disabled:!a.canAccess,key:a.id,tooltip:a.canAccess?void 0:h,value:a.id},j(a))}))};e.exports=a}),null);
__d("AdsAPIPermissionsRoleMapping",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN:281423141961500,GENERAL_USER:461336843905730,REPORTS_ONLY:498940650138739,INSTAGRAM_ADVERTISER:852165654793489,INSTAGRAM_MANAGER:984602611554901,CREATIVE:974087809396423,FB_EMPLOYEE_DSO_ADVERTISER:101124420074850})}),null);
__d("SignalsAppAudienceIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=JSON.parse(a);var c=a.appID,d=a.adAccountID;return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("application",c).edge("audiences").get({fields:["id"],limit:300,ad_account:d}).then(b("GraphAPIPaging").allPages()),function(b){a(i(b.data.map(function(a){return a.id})))},f)})};a.prototype.getVal=function(a,b){a={appID:a,adAccountID:b};return h.get.call(this,JSON.stringify(a))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsAppSettingsDialogUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{adAccountID:null,businessID:null,isAudienceCreationDialogOpen:!1,isAccountSelectionDialogOpen:!1,isAudienceCreationTwoSteps:!1,isVerificationToolDialogOpen:!1}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsAudienceStore",["Promise","AdsGraphAPI","SignalsLoadObjectStore","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("customaudience",a).batched().get({fields:["account_id","approximate_count","data_source","delivery_status","id","lookalike_audience_ids","name","operation_status","time_updated"]}),c,d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSAudienceIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("immutable").List,j=":";g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=a.split(j);var c=a[0],d=a[1];return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("offline_conversion_data_set",c).edge("audiences").get({fields:["id"],limit:300,ad_account:d}).then(b("GraphAPIPaging").allPages()),function(b){a(i(b.data.map(function(a){return a.id})))},f)})};a.prototype.__key=function(a,b){return a+j+b};a.prototype.getVal=function(a,b){return h.get.call(this,this.__key(a,b))};a.prototype.clearAudienceIDListLater=function(a,b){this.clearKeyLater(this.__key(a,b))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeDSCreateCustomAudienceDialogUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{adAccountID:null,isDialogOpen:!1,onBack:null}};a.prototype.openDialog=function(a,b){this.updateStateLater({adAccountID:b,isDialogOpen:!0,onBack:a})};a.prototype.closeDialog=function(){this.updateStateLater({adAccountID:null,isDialogOpen:!1})};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageAudiencesTable.react",["ix","fbt","AdsAMAudienceUtils","AdsAudienceDeliveryStatusUtils","AdsNotAvailable.react","BrandsAppConfig","ImageBlock.react","ObjectSort","React","SignalsHomeComponentTestIDs","SUIButton.react","SUIGlyphIcon.react","SUILink.react","SUISelector.react","SUISelectorOption.react","SUIText.react","XUISortableDataTable.react","ads-lib-formatters","asset","AdsTargetingReachEstimateConstant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=b("AdsAMAudienceUtils").getAudienceDetailsURI,k=b("AdsTargetingReachEstimateConstant").AM_LOW_REACH_CONTENT,l=b("AdsTargetingReachEstimateConstant").AM_ERROR_CONTENT,m=b("AdsTargetingReachEstimateConstant").ERROR_SIZE,n=b("AdsTargetingReachEstimateConstant").LOW_REACH_SIZE,o=b("ads-lib-formatters").createIntlNumberFormatter(0),p=g("378289"),q=g("407431"),r=h._("Create Audience"),s=h._("Custom Audience"),t=h._("Lookalike Audience"),u=h._("Product Audience"),v=h._("Create Custom Audience"),w=h._("You don't have permission to create custom audiences for this ad account."),x=h._("You don't have permission to create lookalike audiences for this ad account."),y=h._("You don't have permission to create product audiences for this ad account."),z=h._("Custom Audience"),A=h._("Lookalike"),B=h._("Product Audience");d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){var b=this.props,c=b.onCreateCustomAudience,d=b.onCreateLookalikeAudience;b=b.onCreateProductAudience;switch(a){case"custom":c!=null&&c();break;case"lookalike":d!=null&&d();break;case"product":b!=null&&b();break}}.bind(this),b}a.prototype.$2=function(a){switch(a){case"custom":return z;case"lookalike":return A;case"product":return B;default:return null}};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.adAccountID,d=a.audiences,e=a.canCreateCustomAudience,f=a.canCreateLookalikeAudience,g=a.canCreateProductAudience,i=a.onCreateCustomAudience,z=a.onCreateLookalikeAudience;a=a.onCreateProductAudience;var A=[{id:"name",label:h._("Name"),cellRenderer:function(a,d,e){return b("React").createElement(b("SUILink.react"),{href:j(e.id,c).toString(),target:"_blank"},b("React").createElement(b("SUIText.react"),{color:"interactive",display:"truncate",size:"meta1",width:296},e.name))},comparator:b("ObjectSort").getStringSortFunction("name"),sortable:!0,width:296},{id:"type",label:h._("Type"),cellRenderer:function(a,c,d){return b("React").createElement(b("SUIText.react"),{color:"primary",size:"meta1"},this.$2(d.type))}.bind(this),comparator:b("ObjectSort").getStringSortFunction("type"),sortable:!0,width:108},{id:"size",label:h._("Size"),cellRenderer:function(a,c,d){a=d.size;c=d.delivery_status;return b("AdsAudienceDeliveryStatusUtils").isActive(c.code)?a===m?l:a===n?k:o(a):b("React").createElement(b("AdsNotAvailable.react"),null)},comparator:b("ObjectSort").getNumericSortFunction("size"),sortable:!0,width:96},{id:"status",label:h._("Status"),cellRenderer:function(a,c,d){return b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},d.status.getIcon(),b("React").createElement("div",null,d.status.getUserFacingStatus()))},sortable:!1,width:132}];A=d.isEmpty()?null:b("React").createElement("div",{style:{marginBottom:8}},b("React").createElement(b("XUISortableDataTable.react"),{columns:A,outerBorder:!0,rows:d.toArray()}));d=b("BrandsAppConfig").businessCapabilities.can_see_offline_product_audience_creation_option&&a!=null;a=z==null&&!d?b("React").createElement(b("SUIButton.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_CUSTOM_AUDIENCE_BUTTON,disabled:!e,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:e?p:q}),label:v,tooltip:e?void 0:w,onClick:i}):b("React").createElement(b("SUISelector.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_AUDIENCE_BUTTON,placeholder:r,value:null,onChange:this.$1},b("React").createElement(b("SUISelectorOption.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_CUSTOM_AUDIENCE_BUTTON,disabled:!e,tooltip:e?void 0:w,value:"custom"},s),z!=null?b("React").createElement(b("SUISelectorOption.react"),{"data-testid":b("SignalsHomeComponentTestIDs").CREATE_LOOKALIKE_AUDIENCE_BUTTON,disabled:!f,tooltip:f?void 0:x,value:"lookalike"},t):null,d?b("React").createElement(b("SUISelectorOption.react"),{disabled:!g,tooltip:g?void 0:y,value:"product"},u):null);return b("React").createElement("div",null,A,a)};e.exports=a}),null);
__d("SignalsHomeUsageRow.react",["React","SUIText.react","suiMargin"],(function(a,b,c,d,e,f){"use strict";var g=16;a=function(a){var c=a.header,d=a.headerWidth,e=a.padding;a=a.children;return b("React").createElement("div",{style:{display:"flex",padding:e!=null&&e!==0?e:g}},b("React").createElement(b("SUIText.react"),{display:"block",margin:"_3-93",shade:"medium",size:"meta1",style:{flexShrink:0},textAlign:"right",weight:"bold",width:d},c),a)};e.exports=a}),null);
__d("SignalsPixelAudienceIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=a.split(":");var c=a[0],d=a[1];return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("adspixel",c).edge("audiences").get({fields:["id"],limit:300,ad_account:d}).then(b("GraphAPIPaging").allPages()),function(b){a(h(b.data.map(function(a){return a.id})))},f)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageAudiencesTableContainer.react",["fbt","AdsAMAudienceUtils","AdsAPIPermissionsRoleMapping","AdsPixelDialogTypes","AdsPixelViewActions","AudienceManagerUIConstants","AudienceStatus","LoadObject","React","SignalsAdAccountStore","SignalsAppAudienceIDListStore","SignalsAppSettingsDialogUIStateStore","SignalsAudienceStore","SignalsContainer.react","SignalsDSActions","SignalsDSAudienceIDListStore","SignalsDSStore","SignalsHomeDSCreateCustomAudienceDialogUIStateStore","SignalsHomeGetters","SignalsHomeUsageAudiencesTable.react","SignalsHomeUsageRow.react","SignalsPixelAudienceIDListStore","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsContainer.react").getValueSafe,j=b("immutable").List,k=104;c=babelHelpers.inherits(a,b("SignalsContainer.react"));h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$SignalsHomeUsageAudiencesTableContainer1=function(){var a=this.props,c=a.adAccountID,d=a.appID,e=a.dataSetID;a=a.pixelID;var f=this.getStateEnforcing();f=f.dataSet;a!=null?(b("SignalsHomeGetters").selectAdAccount(c),b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").AUDIENCE)):e!=null&&f!=null?b("SignalsHomeDSCreateCustomAudienceDialogUIStateStore").openDialog(null,c):d!=null&&b("SignalsAppSettingsDialogUIStateStore").updateStateLater({adAccountID:c,isAudienceCreationDialogOpen:!0,isAudienceCreationTwoSteps:!1})}.bind(this),this.$SignalsHomeUsageAudiencesTableContainer2=function(){var a=this.props,c=a.adAccountID;a=a.dataSetID;var d=this.getStateEnforcing(),e=d.dataSet;d=d.adAccountName;a!=null&&e!=null&&b("SignalsDSActions").handleLookalikeCreationDialogOpen(e,{id:c,name:d})}.bind(this),this.$SignalsHomeUsageAudiencesTableContainer3=function(){var a=this.props,c=a.adAccountID;a=a.dataSetID;var d=this.getStateEnforcing(),e=d.dataSet;d=d.adAccountName;a!=null&&e!=null&&b("SignalsDSActions").handleProductAudienceCreateDialogOpen(e,{id:c,name:d})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsAppAudienceIDListStore"),b("SignalsAudienceStore"),b("SignalsDSAudienceIDListStore"),b("SignalsDSStore"),b("SignalsPixelAudienceIDListStore")]};a.prototype.calculateState=function(a,c){__p&&__p();var d=c.adAccountID;a=c.appID;var e=c.dataSetID;c=c.pixelID;var f=i(b("SignalsAdAccountStore").get(d)),g=f.user_role!=null&&f.user_role!==String(b("AdsAPIPermissionsRoleMapping").REPORTS_ONLY);f=f.name;var h;if(c!=null)c=i(b("SignalsPixelAudienceIDListStore").get(c+":"+d));else if(e!=null){c=i(b("SignalsDSAudienceIDListStore").get(e+":"+d));var k=i(b("SignalsDSStore").get(e));h={id:e,name:k.name}}else if(a!=null)c=i(b("SignalsAppAudienceIDListStore").getVal(a,d));else throw b("LoadObject").withError(new Error("Need pixel ID or data set ID or app ID."));e=b("SignalsAudienceStore").getAll(c).toList().map(function(a){return i(a)}).filter(function(a){return a.account_id===d}).reduce(function(a,b){return a.concat(b.lookalike_audience_ids||[])},j());k=b("SignalsAudienceStore").getAll(c).toList().map(function(a){return i(a)}).filter(function(a){return a.account_id===d}).map(function(a){return{delivery_status:a.delivery_status,id:a.id,name:a.name,size:a.approximate_count,status:new(b("AudienceStatus"))(a.delivery_status.code,a.operation_status.code,a.time_updated),type:b("AdsAMAudienceUtils").getAudienceType(a)===b("AudienceManagerUIConstants").PRODUCT_AUDIENCE_DISPLAY_NAME?"product":"custom"}});k=k.concat(b("SignalsAudienceStore").getAll(e).toList().map(function(a){return i(a)}).filter(function(a){return a.account_id===d}).map(function(a){return{delivery_status:a.delivery_status,id:a.id,name:a.name,size:a.approximate_count,status:new(b("AudienceStatus"))(a.delivery_status.code,a.operation_status.code,a.time_updated),type:"lookalike"}}));return{adAccountName:f,audiences:k,canCreate:g,dataSet:h}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.audiences;a=a.canCreate;var d=this.props,e=d.adAccountID;d=d.dataSetID;var f=a,h=a;a=a;var i=h&&d!=null?this.$SignalsHomeUsageAudiencesTableContainer2:null;d=a&&d!=null?this.$SignalsHomeUsageAudiencesTableContainer3:null;return b("React").createElement(b("SignalsHomeUsageRow.react"),{header:g._("Audiences"),headerWidth:k},b("React").createElement(b("SignalsHomeUsageAudiencesTable.react"),{adAccountID:e,audiences:c,canCreateCustomAudience:f,canCreateLookalikeAudience:h,canCreateProductAudience:a,onCreateCustomAudience:this.$SignalsHomeUsageAudiencesTableContainer1,onCreateLookalikeAudience:i,onCreateProductAudience:d}))};e.exports=a}),null);
__d("XOfflineAutoTrackingStatusAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/offline_events/auto_tracking_status/",{dataset_id:{type:"FBID",required:!0},account_id:{type:"Int",required:!0}})}),null);
__d("SignalsDSAutoTrackingStatusStore",["Promise","AsyncRequest","SignalsLoadObjectStore","XOfflineAutoTrackingStatusAsyncController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=a.split(":");var c=a[0];a=a[1];var d=b("XOfflineAutoTrackingStatusAsyncController").getURIBuilder().setFBID("dataset_id",c).setInt("account_id",a).getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setURI(d).setHandler(function(b){a(b.payload)}).setErrorHandler(function(){return c(new Error("Can not load auto tracking status."))}).send()})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageAutoTrackingStatusUpdateStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageAutoTrackingStatusContainer.react",["fbt","AdsGraphAPI","GraphEdgeName","LoadObject","React","SignalsContainer.react","SignalsDSAutoTrackingStatusStore","SignalsHomeStateStore","SignalsHomeUsageAutoTrackingStatusUpdateStateStore","SUIButton.react","SUIText.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsContainer.react").getValueSafe;c=babelHelpers.inherits(a,b("SignalsContainer.react"));h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=h.constructor).call.apply(a,[this].concat(f)),this.$SignalsHomeUsageAutoTrackingStatusContainer1=function(){__p&&__p();var a=this.props,c=a.adAccountID;a=a.dataSetID;var d=this.getStateEnforcing();d=d.businessID;if(d!=null){var f,g=a+":"+c;b("SignalsHomeUsageAutoTrackingStatusUpdateStateStore").updateStateLater((f={},f[g]=b("LoadObject").loading(),f));b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").object("offline_conversion_data_set",a).edge(b("GraphEdgeName").ADACCOUNTS).post({account_id:c,auto_track_for_ads:!0,business:d}),function(){var a;b("SignalsHomeUsageAutoTrackingStatusUpdateStateStore").updateStateLater((a={},a[g]=null,a));b("SignalsDSAutoTrackingStatusStore").clearKeyLater(g)},function(a){var c;b("SignalsHomeUsageAutoTrackingStatusUpdateStateStore").updateStateLater((c={},c[g]=b("LoadObject").withError(a),c));b("SignalsDSAutoTrackingStatusStore").clearKeyLater(g)})}}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsHomeStateStore"),b("SignalsDSAutoTrackingStatusStore"),b("SignalsHomeUsageAutoTrackingStatusUpdateStateStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=c.adAccountID;c=c.dataSetID;var d=c+":"+a,e=b("SignalsHomeUsageAutoTrackingStatusUpdateStateStore").getState();e=e[d];e&&i(e);d=b("SignalsHomeStateStore").getState();e=d.businessID;d=d.isBusinessAdmin;c=i(b("SignalsDSAutoTrackingStatusStore").get(c+":"+a));return{businessID:e,enabled:c,isBusinessAdmin:d}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.enabled,d=a.businessID;a=a.isBusinessAdmin;var e,f=!0;d==null?(e=g._("You can't turn on auto-tracking without a business context."),f=!1):a||(e=g._("Only business admin can turn on auto-tracking."),f=!1);return b("React").createElement("div",null,c?b("React").createElement(b("SUIText.react"),{color:"positive",size:"meta1"},g._("Enabled")):b("React").createElement("div",null,b("React").createElement("div",{style:{display:"inline",position:"relative",top:-4}},b("React").createElement(b("SUIText.react"),{color:"negative",size:"body3",weight:"bold"},g._("Disabled"))),b("React").createElement(b("SUIButton.react"),{disabled:!f,label:g._("Enable Now"),style:{marginLeft:8},tooltip:e,use:"special",onClick:this.$SignalsHomeUsageAutoTrackingStatusContainer1})))};e.exports=a}),null);
__d("SignalsAppCustomConversionIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=JSON.parse(a);var c=a.appID,d=a.adAccountID;return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("application",c).edge("customconversions").get({fields:["id"],limit:300,ad_account:d}).then(b("GraphAPIPaging").allPages()),function(b){a(i(b.data.map(function(a){return a.id})))},f)})};a.prototype.getVal=function(a,b){a={appID:a,adAccountID:b};return h.get.call(this,JSON.stringify(a))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCustomConversionStore",["Promise","AdsGraphAPI","LoadObject","SignalsHomeActionTypes","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("customconversion",a).batched().get({fields:["advanced_rule","custom_event_type","default_conversion_value","description","event_source_type","data_sources","id","last_fired_time","name","is_archived","rule"]}),c,d)})};a.prototype.__customReduce=function(a,c){__p&&__p();c=c.action;var d=c.type,e=c.customConversionID;switch(d){case b("SignalsHomeActionTypes").CUSTOM_CONVERSION_NAME_EDIT.FINISH:d=a.get(e).getValueEnforcing();var f=c.title;d.name=f;return a.set(e,b("LoadObject").withValue(d));case b("SignalsHomeActionTypes").CUSTOM_CONVERSION_DESCRIPTION_EDIT.FINISH:d=a.get(e).getValueEnforcing();d.description=c.description;return a.set(e,b("LoadObject").withValue(d));case b("SignalsHomeActionTypes").CUSTOM_CONVERSION_CONVERSION_VALUE_EDIT.FINISH:d=a.get(e).getValueEnforcing();d.default_conversion_value=c.conversionValue;return a.set(e,b("LoadObject").withValue(d));case b("SignalsHomeActionTypes").BUSINESS_CUSTOM_CONVERSION_DELETE.FINISH:case b("SignalsHomeActionTypes").CUSTOM_CONVERSION_DELETE.FINISH:d=a.get(e).getValueEnforcing();d.is_archived=!0;return a.set(e,b("LoadObject").withValue(d));default:return a}};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsDSCustomConversionIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=a.split(":");var c=a[0],d=a[1];return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("offline_conversion_data_set",c).edge("customconversions").get({fields:["id"],limit:300,ad_account:d}).then(b("GraphAPIPaging").allPages()),function(b){a(h(b.data.map(function(a){return a.id})))},f)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageCustomConversionsTable.react",["ix","fbt","AdsCMCustomConversionsURI","AdsCMStateConfig","AdsCustomConversionsActivityCellContainer.react","ImageBlock.react","ObjectSort","React","SignalsHomeCustomConversionInlineCreationContainer.react","SUIGlyphIcon.react","SUILink.react","SUIText.react","XUISortableDataTable.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=g("378289"),k=g("407431");function l(a){return new(b("AdsCMCustomConversionsURI"))().setTab(b("AdsCMStateConfig").TAB.values.CUSTOM_CONVERSIONS_TAB).setAccountID(a)}var m=h._("Create Custom Conversion");i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.adAccountID,d=a.onCreate,e=a.canCreateCustomConversion,f=a.customConversionCreationTooltip;a=a.customConversions;var g=[{id:"name",label:h._("Name"),cellRenderer:function(a,d,e){return b("React").createElement(b("SUILink.react"),{href:l(c).toString(),target:"_blank"},b("React").createElement(b("SUIText.react"),{color:"interactive",display:"truncate",size:"meta1",width:220},e.name))},comparator:b("ObjectSort").getStringSortFunction("name"),sortable:!0,width:220},{id:"status",label:h._("Status"),cellRenderer:function(a,c,d){return b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},d.status.getIcon(),b("React").createElement("div",null,d.status.getUserFacingStatus()))},sortable:!1,width:180},{id:"activity",cellRenderer:function(a,c,d){return b("React").createElement(b("AdsCustomConversionsActivityCellContainer.react"),{conversionID:d.id,name:d.name,unsupported:!1,width:248})},label:h._("Activity"),sortable:!1,width:248}];g=a.isEmpty()?null:b("React").createElement("div",{style:{marginBottom:8}},b("React").createElement(b("XUISortableDataTable.react"),{columns:g,outerBorder:!0,rows:a.toArray()}));a=b("React").createElement(b("SignalsHomeCustomConversionInlineCreationContainer.react"),{account:{id:c,type:"act"},canCreateCustomConversion:e,disableTooltip:f,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:e?j:k}),label:m,onCreateCustomConversion:d});return b("React").createElement("div",null,g,a)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SignalsPixelCustomConversionIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=a.split(":");var c=a[0],d=a[1];return new(b("Promise"))(function(a,f){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("adspixel",c).edge("customconversions").get({fields:["id"],limit:300,ad_account:d}).then(b("GraphAPIPaging").allPages()),function(b){a(h(b.data.map(function(a){return a.id})))},f)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageCustomConversionsTableContainer.react",["fbt","AdsAPIPermissionsRoleMapping","AdsCustomConversionsStatus","AdsPixelDialogTypes","AdsPixelViewActions","CustomConversionCreationCapabilityUtils","CustomConversionCreationPermissionCheckUtils","CustomConversionEventSourceType","LoadObject","React","SignalsAdAccountStore","SignalsAppCustomConversionIDListStore","SignalsContainer.react","SignalsCustomConversionStore","SignalsDataSourcesEnum","SignalsDSActions","SignalsDSCustomConversionIDListStore","SignalsDSStore","SignalsHomeCustomConversionUserPermissionStore","SignalsHomeGetters","SignalsHomeUsageCustomConversionsTable.react","SignalsHomeUsageRow.react","SignalsPixelCustomConversionIDListStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CustomConversionCreationCapabilityUtils").getCanAdAccountCreateAppCustomConversion,j=b("CustomConversionCreationPermissionCheckUtils").getCanCreateCustomConversionForDataSource,k=b("CustomConversionCreationPermissionCheckUtils").getCustomConversionCreationToolTip,l=b("SignalsContainer.react").getValueSafe,m=104;c=babelHelpers.inherits(a,b("SignalsContainer.react"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$SignalsHomeUsageCustomConversionsTableContainer1=function(){var a=this.props,c=a.adAccountID,d=a.dataSetID;a=a.pixelID;var e=this.getStateEnforcing(),f=e.dataSet;e=e.adAccountName;a!=null?(b("SignalsHomeGetters").selectAdAccount(c),b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").GOAL_CREATE_STEP_ONE)):d!=null&&f!=null&&b("SignalsDSActions").handleCustomConversionCreateDialogOpen(f,{id:c,name:e})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsAppCustomConversionIDListStore"),b("SignalsCustomConversionStore"),b("SignalsDSCustomConversionIDListStore"),b("SignalsHomeCustomConversionUserPermissionStore"),b("SignalsPixelCustomConversionIDListStore"),b("SignalsDSStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=c.adAccountID;var d=c.appID,e=c.businessID,f=c.dataSetID;c=c.pixelID;var g=l(b("SignalsAdAccountStore").get(a)),h=i(g,e);e=l(b("SignalsHomeCustomConversionUserPermissionStore").getVal(null,a,"act",e));var j=g.user_role!=null&&g.user_role!=String(b("AdsAPIPermissionsRoleMapping").REPORTS_ONLY);g=g.name;var k,m;if(c!=null)c=l(b("SignalsPixelCustomConversionIDListStore").get(c+":"+a)),m=b("SignalsDataSourcesEnum").PIXEL;else if(f!=null){c=l(b("SignalsDSCustomConversionIDListStore").get(f+":"+a));var n=l(b("SignalsDSStore").get(f));k={id:f,name:n.name};m=b("SignalsDataSourcesEnum").DATA_SET}else if(d!=null)c=l(b("SignalsAppCustomConversionIDListStore").getVal(d,a)),m=b("SignalsDataSourcesEnum").APP_EVENT;else throw b("LoadObject").withError(new Error("Need pixel ID or data set ID or App ID."));f=b("SignalsCustomConversionStore").getAll(c).toList().map(function(a){return l(a)}).map(function(a){return{id:a.id,name:a.name,status:new(b("AdsCustomConversionsStatus"))(a.last_fired_time||"",a.event_source_type||b("CustomConversionEventSourceType").PIXEL)}});return{adAccountName:g,customConversions:f,canCreate:j,dataSet:k,dataSourceType:m,seeAppEvents:h,userPermission:e}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=this.getStateEnforcing(),d=c.dataSourceType,e=c.seeAppEvents;c=c.userPermission;var f=this.props,h=f.adAccountID;f=f.businessID;var i=d===b("SignalsDataSourcesEnum").APP_EVENT?e:!0;i=j(c.can_create_custom_conversion,c.beyond_account_custom_conversion_limit,c.account_can_access_data_source[d],i,"act");c=k(c.can_create_custom_conversion,c.beyond_account_custom_conversion_limit,c.account_can_access_data_source,c.max_allowed_custom_conversions,e,!0,h,f,d);return b("React").createElement(b("SignalsHomeUsageRow.react"),{header:g._("Custom Conversions"),headerWidth:m},b("React").createElement(b("SignalsHomeUsageCustomConversionsTable.react"),{adAccountID:this.props.adAccountID,canCreateCustomConversion:i,customConversionCreationTooltip:c,customConversions:a.customConversions,onCreate:this.$SignalsHomeUsageCustomConversionsTableContainer1}))};e.exports=a}),null);
__d("SignalsHomeViewCampaignsLinkContainer.react",["ix","fbt","AdsCMHomeURI","AdsCMStateConfig","AdsCMURLParams","AdsFBIconDownsized.react","AdsInsightsBuiltinColumnPreset","FBJSON","React","SignalsContainer.react","SignalsHomeStateStore","SUILink.react","SUIText.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=function(a){return b("React").createElement(b("SUILink.react"),{href:a.url,target:"_blank"},b("React").createElement(b("SUIText.react"),{color:"interactive",margin:"_3-8_",size:"meta1",weight:"bold"},h._("View Campaigns")),b("React").createElement(b("AdsFBIconDownsized.react"),{src:g("404181"),style:{verticalAlign:"middle"}}))};i=babelHelpers.inherits(a,b("SignalsContainer.react"));i&&i.prototype;a.prototype.getStores=function(){return[b("SignalsHomeStateStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=b("SignalsHomeStateStore").getState();var d=a.dataSetID;a=a.pixelID;c=new(b("AdsCMHomeURI"))().setTab(b("AdsCMStateConfig").TAB.values.CAMPAIGN_GROUP_TAB).setAccountID(c.adAccountID);if(a!=null){c.addQueryData((a={},a[b("AdsCMURLParams").COLUMN_PRESET]=b("AdsInsightsBuiltinColumnPreset").ENGAGEMENT,a))}else if(d!=null){c.addQueryData((a={},a[b("AdsCMURLParams").ATTRIBUTION_WINDOWS]=b("FBJSON").stringify(["28d_click","28d_view"]),a[b("AdsCMURLParams").COLUMNS]=b("FBJSON").stringify(["name","spend","actions:offline_conversion.purchase","action_values:offline_conversion.purchase","cost_per_action_type:offline_conversion.purchase","actions:offline_conversion.lead","cost_per_action_type:offline_conversion.lead","actions:offline_conversion.other","cost_per_action_type:offline_conversion.other"]),a))}return{url:c.toString()}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(j,a)};a.prototype.renderError=function(){return null};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageAdAccountCard.react",["fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","React","SignalsHomeUsageAdAccountSelector.react","SignalsHomeUsageAudiencesTableContainer.react","SignalsHomeUsageAutoTrackingStatusContainer.react","SignalsHomeUsageCustomConversionsTableContainer.react","SignalsHomeUsageRow.react","SignalsHomeViewCampaignsLinkContainer.react","SUICard.react","SUICardHeader.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsCCMigrationCategory").MigrationCategory;c=b("React").PureComponent;var j=104;h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.adAccounts,d=a.appID,e=a.businessID,f=a.dataSetID,h=a.onSelectAdAccountID,k=a.pixelID;a=a.selectedAdAccountID;if(c.isEmpty())return b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"signals_home_usage_ad_account_card_info",textData:[{type:"PARAGRAPH",data:{text:g._("Your data source is not assigned to any ad account under the current business.")}}]},migrationCategory:i.ADS_NOTICE,suiNoticeProps:{type:"information",messageBody:g._("Your data source is not assigned to any ad account under the current business.")}}));c=b("React").createElement(b("SUICardHeader.react"),{rightContent:a!=null?b("React").createElement(b("SignalsHomeViewCampaignsLinkContainer.react"),{adAccountID:a}):null},b("React").createElement(b("FlexLayout.react"),{align:"center",style:{height:40}},b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-93 _3-9b",size:"meta1",textAlign:"right",weight:"bold",width:96},g._("Ad Account")),b("React").createElement(b("SignalsHomeUsageAdAccountSelector.react"),{adAccounts:c,selectedAdAccountID:a,onChange:h})));h=a!=null?b("React").createElement("div",null,f!=null?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:g._("Auto Tracking"),headerWidth:j},b("React").createElement(b("SignalsHomeUsageAutoTrackingStatusContainer.react"),{adAccountID:a,dataSetID:f})):null,b("React").createElement(b("SignalsHomeUsageAudiencesTableContainer.react"),{adAccountID:a,appID:d,dataSetID:f,pixelID:k}),b("React").createElement(b("SignalsHomeUsageCustomConversionsTableContainer.react"),{adAccountID:a,appID:d,businessID:e,dataSetID:f,pixelID:k})):null;return b("React").createElement(b("SUICard.react"),{style:{flexGrow:1}},c,h)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{selectedAdAccountID:null}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageAdAccountCardContainer.react",["FDSSpinner.react","LoadObject","React","SignalsAdAccountStore","SignalsAppAdAccountIDListStore","SignalsContainer.react","SignalsDSAdAccountIDListStore","SignalsHomeStateStore","SignalsHomeUsageAdAccountCard.react","SignalsHomeUsageUIStateStore","SignalsPixelAdAccountIDListStore","SUINotice.react","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe,i=b("immutable").List,j=function(a){return{id:a.account_id,name:a.name,canAccess:a.user_role!=null}};g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsAppAdAccountIDListStore"),b("SignalsHomeStateStore"),b("SignalsDSAdAccountIDListStore"),b("SignalsPixelAdAccountIDListStore"),b("SignalsAdAccountStore"),b("SignalsHomeUsageUIStateStore")]};a.prototype.calculateState=function(){__p&&__p();var a=b("SignalsHomeUsageUIStateStore").getState();a=a.selectedAdAccountID;var c=b("SignalsHomeStateStore").getState(),d=c.accountID,e=c.appID,f=c.businessID,g=c.pixelID;c=c.dataSetID;if(d!=null){var k=h(b("SignalsAdAccountStore").get(d));return{selectedAdAccountID:a||d,adAccounts:i([j(k)]),appID:e,businessID:f,dataSetID:c,pixelID:g}}if(f==null)throw new(b("LoadObject").withError)(new Error("Need business or ad account ID."));var l;g!=null&&(l=h(b("SignalsPixelAdAccountIDListStore").get(g+":"+f)));c!=null&&(l=h(b("SignalsDSAdAccountIDListStore").getVal(c,f)));e!=null&&(l=h(b("SignalsAppAdAccountIDListStore").getVal(e,f)));if(l==null)throw new(b("LoadObject").withError)(new Error("Need pixel ID or data set ID or app ID."));d=b("SignalsAdAccountStore").getAll(l).toList().map(function(a){return j(h(a))});if(a==null){k=d.find(function(a){return a.canAccess});k!=null&&(a=k.id)}return{selectedAdAccountID:a,adAccounts:d,appID:e,businessID:f,dataSetID:c,pixelID:g}};a.prototype.$SignalsHomeUsageAdAccountCardContainer1=function(a){b("SignalsHomeUsageUIStateStore").updateStateLater({selectedAdAccountID:a})};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageAdAccountCard.react"),babelHelpers["extends"]({},a,{onSelectAdAccountID:this.$SignalsHomeUsageAdAccountCardContainer1}))};a.prototype.renderLoading=function(){return b("React").createElement("div",{style:{display:"flex",flexGrow:1,justifyContent:"center",padding:20}},b("React").createElement(b("FDSSpinner.react"),null))};a.prototype.renderError=function(){return b("React").createElement(b("SUINotice.react"),{style:{flexGrow:1},type:"error"},this.getErrorEnforcing().message)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageAppAccountListContainer.react",["fbt","React","SignalsAdAccountStore","SignalsAppAdAccountIDListStore","SignalsContainer.react","SignalsHomeNameIDWithPicture.react","SignalsHomeStateStore","SignalsHomeUsageRow.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsContainer.react").getValueSafe,j=64;h=babelHelpers.inherits(a,b("SignalsContainer.react"));h&&h.prototype;a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsAppAdAccountIDListStore"),b("SignalsHomeStateStore")]};a.prototype.calculateState=function(a,c){a=b("SignalsHomeStateStore").getState();a=a.businessID;c=i(b("SignalsAppAdAccountIDListStore").getVal(c.id,a));a=b("SignalsAdAccountStore").getAll(c).toList().map(function(a){return i(a)}).map(function(a){var b=a.id;return{id:b.startsWith("act_")?b.slice(4):b,name:a.name}});return{adAccounts:a}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return a.adAccounts.size>0?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:g._("Authorized Accounts"),headerWidth:j},b("React").createElement("div",null,a.adAccounts.map(function(a,c){return b("React").createElement("div",{key:a.id,style:{marginBottom:8}},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),a))}))):null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SignalsAppAgencyIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("application",a).edge("agencies").get({fields:["id"],limit:300}).then(b("GraphAPIPaging").allPages()),function(a){c(h(a.data.map(function(a){return a.id})))},d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageSharingButton.react",["ix","fbt","Image.react","React","SUIButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=g("372092"),j=g("399490");a=function(a){a=a.shareURI;return b("React").createElement(b("SUIButton.react"),{disabled:a==null,href:a||void 0,icon:b("React").createElement(b("Image.react"),{src:a==null?j:i}),label:h._("Share to Another Business"),target:"_blank",tooltip:a==null?h._("Only admin of owner business can share this event source."):null})};e.exports=a}),null);
__d("SignalsHomeUsageAgencyList.react",["ix","fbt","AdsFBIconDownsized.react","React","SignalsHomeNameIDWithPicture.react","SignalsHomeUsageSharingButton.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement("div",null,b("React").createElement("div",{style:{marginBottom:8}},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",weight:"bold"},b("React").createElement(b("AdsFBIconDownsized.react"),{src:g("403208")})," ",h._("BUSINESSES"))),a.agencies.map(function(a,c){return b("React").createElement("div",{key:a.id,style:{marginBottom:8}},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),a))}),b("React").createElement(b("SignalsHomeUsageSharingButton.react"),{shareURI:a.shareURI}))};e.exports=a}),null);
__d("SignalsHomeUsageAppAgencyListContainer.react",["BusinessURI.brands","React","SignalsAppAgencyIDListStore","SignalsAppStore","SignalsBusinessStore","SignalsContainer.react","SignalsHomeStateStore","SignalsHomeUsageAgencyList.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsAppStore"),b("SignalsAppAgencyIDListStore"),b("SignalsBusinessStore"),b("SignalsHomeStateStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=b("SignalsHomeStateStore").getState();var d=a.businessID;a=a.isBusinessAdmin;var e=h(b("SignalsAppStore").get(c.id)),f;e.business!=null&&d!=null&&e.business.id===d&&a&&(f=b("BusinessURI.brands")("/settings/apps/"+c.id).addQueryData({business_id:d}));e=h(b("SignalsAppAgencyIDListStore").get(c.id));a=b("SignalsBusinessStore").getAll(e).toList().map(function(a){return h(a)}).map(function(a){return{id:a.id,name:a.name,pictureURL:a.picture.data.url}});return{agencies:a,shareURI:f}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageAgencyList.react"),a)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageAppDetailsPanel.react",["cssVar","fbt","React","SignalsHomeIDText.react","SignalsHomeNameIDWithPicture.react","SignalsHomeUsageAppAccountListContainer.react","SignalsHomeUsageAppAgencyListContainer.react","SignalsHomeUsageRow.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=64;a=function(a){var c=a.id;a=a.owner;return b("React").createElement("div",{style:{backgroundColor:"#FFFFFF"}},a!=null?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:h._("Owner"),headerWidth:i},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),a)):b("React").createElement(b("SignalsHomeUsageAppAccountListContainer.react"),{id:c}),b("React").createElement(b("SignalsHomeUsageRow.react"),{header:h._("Sharing"),headerWidth:i},b("React").createElement(b("SignalsHomeUsageAppAgencyListContainer.react"),{id:c})),b("React").createElement(b("SignalsHomeUsageRow.react"),{header:h._("ID"),headerWidth:i},b("React").createElement(b("SignalsHomeIDText.react"),{id:c})))};e.exports=a}),null);
__d("SignalsHomeUsageAppDetailsPanelContainer.react",["React","SignalsAppStore","SignalsBusinessStore","SignalsContainer.react","SignalsHomeUsageAppDetailsPanel.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsAppStore"),b("SignalsBusinessStore")]};a.prototype.calculateState=function(a,c){a=h(b("SignalsAppStore").get(c.id));if(a.business==null)return{owner:null};else{c=a.business.id;a=h(b("SignalsBusinessStore").get(c));return{owner:{id:a.id,name:a.name,pictureURL:a.picture.data.url}}}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageAppDetailsPanel.react"),{id:this.props.id,owner:a.owner})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsDSAgencyIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("offline_conversion_data_set",a).edge("agencies").get({fields:["id"],limit:300}).then(b("GraphAPIPaging").allPages()),function(a){c(h(a.data.map(function(a){return a.id})))},d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsageDSAgencyListContainer.react",["BusinessURI.brands","React","SignalsBusinessStore","SignalsContainer.react","SignalsDSAgencyIDListStore","SignalsHomeStateStore","SignalsHomeUsageAgencyList.react","SignalsNewDSStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsNewDSStore"),b("SignalsDSAgencyIDListStore"),b("SignalsBusinessStore"),b("SignalsHomeStateStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=b("SignalsHomeStateStore").getState();var d=a.businessID;a=a.isBusinessAdmin;var e=h(b("SignalsNewDSStore").get(c.id)),f;e.business!=null&&d!=null&&e.business.id===d&&a&&(f=b("BusinessURI.brands")("/settings/offline-event-sets/"+c.id).addQueryData({business_id:d}));e=h(b("SignalsDSAgencyIDListStore").get(c.id));a=b("SignalsBusinessStore").getAll(e).toList().map(function(a){return h(a)}).map(function(a){return{id:a.id,name:a.name,pictureURL:a.picture.data.url}});return{agencies:a,shareURI:f}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageAgencyList.react"),{agencies:a.agencies,shareURI:a.shareURI})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageDSDetailsPanel.react",["cssVar","fbt","React","SignalsHomeIDText.react","SignalsHomeNameIDWithPicture.react","SignalsHomeUsageDSAgencyListContainer.react","SignalsHomeUsageRow.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=64;a=function(a){var c=a.id;a=a.owner;return b("React").createElement("div",{style:{backgroundColor:"#FFFFFF"}},a!=null?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:h._("Owner"),headerWidth:i},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),{id:a.id,name:a.name,pictureURL:a.pictureURL})):null,b("React").createElement(b("SignalsHomeUsageRow.react"),{header:h._("Sharing"),headerWidth:i},b("React").createElement(b("SignalsHomeUsageDSAgencyListContainer.react"),{id:c})),b("React").createElement(b("SignalsHomeUsageRow.react"),{header:h._("ID"),headerWidth:i},b("React").createElement(b("SignalsHomeIDText.react"),{id:c})))};e.exports=a}),null);
__d("SignalsHomeUsageDSDetailsPanelContainer.react",["React","SignalsBusinessStore","SignalsContainer.react","SignalsHomeUsageDSDetailsPanel.react","SignalsNewDSStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsNewDSStore"),b("SignalsBusinessStore")]};a.prototype.calculateState=function(a,c){a=h(b("SignalsNewDSStore").get(c.id));if(a.business==null)return{owner:null};c=a.business.id;a=h(b("SignalsBusinessStore").get(c));return{owner:{id:a.id,name:a.name,pictureURL:a.picture.data.url}}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageDSDetailsPanel.react"),{id:this.props.id,owner:a.owner})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XSignalsPixelGroupInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/signals/group_info/",{pixel_id:{type:"FBID",required:!0}})}),null);
__d("SignalsGroupsStore",["Promise","AsyncRequest","SignalsLoadObjectStore","XSignalsPixelGroupInfoController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){var c=b("XSignalsPixelGroupInfoController").getURIBuilder().setFBID("pixel_id",a);return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))().setURI(c.getURI()).setHandler(function(b){b=b.payload;b.error?d(new Error(b.error)):a(b.group_info)}).send()})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsCalibrationEventContainer.react",["React","SignalsEventCalibrationReviewContainer.react","SignalsSelectPixelID","SignalsSelectShowAutomaticEvents","adsCreateSelector","adsCreateSelectorContainer","editPixelPermissionSelector","shouldOpenConfigToolSelector","signalsPropsSelector","validEventDetectionSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("signalsPropsSelector")(function(a){return a});c=b("adsCreateSelector")([b("SignalsSelectPixelID"),b("shouldOpenConfigToolSelector"),b("validEventDetectionSelector"),a,b("editPixelPermissionSelector"),b("SignalsSelectShowAutomaticEvents")],function(a,b,c,d,e,f){var g=d.entryPoint,h=d.onOpen;d=c.map(function(a){var b=a.validDetection;a=a.enableCalibration;return{enableCalibration:a,validDetection:b,entryPoint:g,onOpen:h}});return{pixelID:a,shouldOpen:b,ret:d,canEditPixelLo:e,showAutomaticEvents:f}},{name:e.id+".selector"});d=b("adsCreateSelectorContainer")(c,function(a){var c=a.pixelID,d=a.shouldOpen,e=a.ret,f=a.canEditPixelLo,g=a.showAutomaticEvents;return e.isLoading()||!e.hasValue()||f.getValue()!==!0?null:e.map(function(a){var e=a.enableCalibration,f=a.entryPoint,h=a.validDetection;a=a.onOpen;return h.length>0&&e?b("React").createElement(b("SignalsEventCalibrationReviewContainer.react"),{entryPoint:f,pixelID:c,shouldOpen:d,toggleOffAutomaticEvent:g.getValue()===!1,validDetection:h,onOpen:a}):null}).getValue()},{withProps:!0});e.exports=d}),null);
__d("SignalsHomeAutoAdvancedMatchingToggleContainer.react",["ix","cx","fbt","AdsGraphAPI","AdsPixelAutomaticMatchingGranularControlsContainer.react","AdsSelectorUtils","FBToggleSwitch.react","FDSSpinner.react","Image.react","LoadObject","React","SignalsCollapsibleCard.react","SignalsContainer.react","SignalsDataUseSettingEnum","SignalsEventsManagerLogger","SignalsHomeActions","SignalsHomeHelpLink.react","SignalsPixelAutomaticMatchingToggleUIStateStore","SignalsPixelAutomaticMatchingUtils","SignalsPixelStore","SUIText.react","asset","editPixelPermissionSelector","promiseDone","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("SignalsPixelAutomaticMatchingUtils").getAutomaticMatchingDefaultFields,l=b("SignalsContainer.react").getValueSafe,m=b("SignalsEventsManagerLogger").scope("AUTO_ADVANCED_IDENTITY_MATCHING_TOGGLE"),n=b("React").createElement(b("Image.react"),{src:g("492569")}),o=b("React").createElement(b("Image.react"),{src:g("492466")});c=babelHelpers.inherits(a,b("SignalsContainer.react"));j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=j.constructor).call.apply(a,[this].concat(f)),this.$SignalsHomeAutoAdvancedMatchingToggleContainer1=function(){var a,c=!this.getStateEnforcing().enableAutoMatching,d=this.props.pixelID;b("SignalsPixelAutomaticMatchingToggleUIStateStore").updateStateLater((a={},a[d]=b("LoadObject").loading(),a));b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").object("adspixel",d).post({enable_automatic_matching:c}),function(){b("SignalsHomeActions").finishToggleAutomaticMatching(d,c,k(c)),b("SignalsPixelAutomaticMatchingToggleUIStateStore").clearAllToggleStates(d)},function(a){var c;b("SignalsPixelAutomaticMatchingToggleUIStateStore").updateStateLater((c={},c[d]=b("LoadObject").withError(a),c));m.logError(a,"could not toggle auto identity matching")})}.bind(this),c}a.prototype.getStores=function(){return[b("SignalsPixelStore"),b("SignalsPixelAutomaticMatchingToggleUIStateStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector")]))};a.prototype.calculateState=function(a,c){a=l(b("editPixelPermissionSelector")());var d=l(b("SignalsPixelStore").get(c.pixelID));c=b("SignalsPixelAutomaticMatchingToggleUIStateStore").getState()[c.pixelID];c=c==null?d.enable_automatic_matching:l(c);d=d.data_use_setting===b("SignalsDataUseSettingEnum").ANALYTICS_ONLY;return{analyticsOnlyMode:d,canEditPixel:a,enableAutoMatching:c}};a.prototype.renderLoading=function(){return b("React").createElement(b("FDSSpinner.react"),{size:"small"})};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.analyticsOnlyMode,d=a.enableAutoMatching;a=a.canEditPixel;var e=b("React").createElement(b("SUIText.react"),{color:"disabled",display:"inline",margin:"_3-9a",size:"body3",weight:"bold"},d&&!c?i._("ON"):i._("OFF")),f=a?c?i._("For Automatic Advanced Matching, you must select the Advertising and Analytics option in your pixel settings."):null:i._("You don't have permission to edit this pixel.");return b("React").createElement("div",null,b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:c?!1:d,disabled:!a||c,tooltip:f,onToggle:this.$SignalsHomeAutoAdvancedMatchingToggleContainer1}),e,b("React").createElement(b("SUIText.react"),{color:"disabled",display:"block",size:"body3",style:{paddingTop:12},weight:"normal"},i._("Use customer-provided data from your website to find more conversions, improve optimization, and remarket to more people. {=Learn more.}",[i._param("=Learn more.",b("React").createElement(b("SignalsHomeHelpLink.react"),{helpContent:"AUTOMATIC_ADVANCED_MATCHING"},i._("Learn more.")))])," "),d?b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SignalsCollapsibleCard.react"),{downArrow:o,label:i._("See all configured parameters"),rightArrow:n},b("React").createElement(b("AdsPixelAutomaticMatchingGranularControlsContainer.react"),{pixelID:this.props.pixelID}))):null)};e.exports=a}),null);
__d("SignalsPixelAgencyIDListStore",["Promise","AdsGraphAPI","GraphAPIPaging","SignalsLoadObjectStore","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id+".__getLoader").object("adspixel",a).edge("shared_agencies").get({fields:["id"],limit:300}).then(b("GraphAPIPaging").allPages()),function(a){c(h(a.data.map(function(a){return a.id})))},d)})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsagePixelAgencyListContainer.react",["BusinessURI.brands","React","SignalsBusinessStore","SignalsContainer.react","SignalsHomeStateStore","SignalsHomeUsageAgencyList.react","SignalsPixelAgencyIDListStore","SignalsPixelStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsPixelStore"),b("SignalsPixelAgencyIDListStore"),b("SignalsBusinessStore"),b("SignalsHomeStateStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=b("SignalsHomeStateStore").getState();var d=a.businessID;a=a.isBusinessAdmin;var e=h(b("SignalsPixelStore").get(c.id)),f;e.owner_business!=null&&d!=null&&e.owner_business.id===d&&a&&(f=b("BusinessURI.brands")("/settings/pixels/"+c.id).addQueryData({business_id:d}));e=h(b("SignalsPixelAgencyIDListStore").get(c.id));a=b("SignalsBusinessStore").getAll(e).toList().map(function(a){return h(a)}).map(function(a){return{id:a.id,name:a.name,pictureURL:a.picture.data.url}});return{agencies:a,shareURI:f}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageAgencyList.react"),{agencies:a.agencies,shareURI:a.shareURI})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XSignalsPixelGroupUnlinkDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/signals/group/unlink/dialog/",{pixel_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("SignalsHomeUsageGroupList.react",["ix","fbt","AdsFBIconDownsized.react","Link.react","React","SignalsHomeNameIDWithPicture.react","SUIText.react","XSignalsPixelGroupUnlinkDialogController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.state={groupLinkedInfo:new Map()},a.groupInfo.forEach(function(a){this.state.groupLinkedInfo.set(a.id,!0)}.bind(this))}a.prototype.render=function(){var a=b("XSignalsPixelGroupUnlinkDialogController").getURIBuilder().setFBID("pixel_id",this.props.pixelID).getURI();return b("React").createElement("div",null,b("React").createElement("div",{style:{marginBottom:8,position:"relative"}},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",weight:"bold"},b("React").createElement(b("AdsFBIconDownsized.react"),{src:g("372422")})," ",h._("GROUPS")),b("React").createElement(b("Link.react"),{ajaxify:a,href:"#",rel:"async",style:{marginLeft:60,bottom:0,position:"absolute",fontSize:11}},h._("Manage"))),b("React").createElement("div",{style:{marginBottom:8}},b("React").createElement(b("SUIText.react"),{size:"meta1"},h._("Link your pixel to your group to provide organic conversion insights."))),this.props.groupInfo.map(function(a){return b("React").createElement("div",{key:a.id,style:{marginBottom:8}},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),a))}))};e.exports=a}),null);
__d("SignalsHomeUsagePixelGroupListContainer.react",["React","SignalsContainer.react","SignalsGroupsStore","SignalsHomeUsageGroupList.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsGroupsStore")]};a.prototype.calculateState=function(a,c){a=h(b("SignalsGroupsStore").get(c.pixelID));return{groupInfo:a,pixelID:c.pixelID}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsageGroupList.react"),{groupInfo:a.groupInfo,pixelID:a.pixelID})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XSignalsLinkPixelToPageToggleController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/signals/pixel_to_page/sharing/",{})}),null);
__d("SignalsHomeUsagePageList.react",["ix","fbt","AdsFBIconDownsized.react","AsyncRequest","BUISwitch.react","React","SUIText.react","Tooltip.react","XSignalsLinkPixelToPageToggleController","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;var j=h._("Only admins of the Page can change the option.");d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.state={pageLinkedInfo:new Map()},a.pageInfo.forEach(function(a){this.state.pageLinkedInfo.set(a.id,a.isLinked)}.bind(this))}a.prototype.$1=function(a,c){var d=this.props.pixelID,e=b("XSignalsLinkPixelToPageToggleController").getURIBuilder().getURI(),f=function(b){var c=new Map(this.state.pageLinkedInfo);c.set(a,b.getPayload().isLinked);this.setState({pageLinkedInfo:c})}.bind(this);new(b("AsyncRequest"))().setURI(e).setData({page_id:a,pixel_id:d,is_linked:c}).setHandler(f).send()};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{style:{marginBottom:8}},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",weight:"bold"},b("React").createElement(b("AdsFBIconDownsized.react"),{src:g("403166")})," ",h._("PAGES"))),b("React").createElement("div",{style:{marginBottom:8}},b("React").createElement(b("SUIText.react"),{size:"meta1"},h._("Link your pixel to your Page to provide organic conversion insights."))),this.props.pageInfo.map(function(a){var c=a.id,d=a.isViewerAdmin,e=function(a){return this.$1(c,a)}.bind(this);return b("React").createElement("div",{key:c,style:{marginBottom:8}},d?b("React").createElement(b("BUISwitch.react"),{inline:!0,value:this.state.pageLinkedInfo.get(c),onToggle:e}):b("React").createElement(b("Tooltip.react"),{tooltip:j},b("React").createElement(b("BUISwitch.react"),{disabled:!0,inline:!0,value:this.state.pageLinkedInfo.get(c)}))," ",b("React").createElement(b("SUIText.react"),{size:"meta1",weight:"bold"},a.name))}.bind(this)))};e.exports=a}),null);
__d("XSignalsPixelPageInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/signals/page_info/",{pixel_id:{type:"FBID",required:!0}})}),null);
__d("SignalsPagesStore",["Promise","AsyncRequest","SignalsLoadObjectStore","XSignalsPixelPageInfoController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){var c=b("XSignalsPixelPageInfoController").getURIBuilder().setFBID("pixel_id",a);return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))().setURI(c.getURI()).setHandler(function(b){b.errors?d(b.errors):a(b.payload.page_info)}).send()})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeUsagePixelPageListContainer.react",["React","SignalsContainer.react","SignalsHomeUsagePageList.react","SignalsPagesStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsPagesStore")]};a.prototype.calculateState=function(a,c){a=h(b("SignalsPagesStore").get(c.pixelID));return{pages:a,pixelID:c.pixelID}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();return b("React").createElement(b("SignalsHomeUsagePageList.react"),{pageInfo:a.pages,pixelID:a.pixelID})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsPixelAutomaticEventToggleContainer.react",["fbt","AdsGraphAPI","AdsSelectorUtils","BUISwitch.react","FBToggleSwitch.react","FDSSpinner.react","LoadObject","PixelScreenActions","PixelScreenStateStore","React","SignalsContainer.react","SignalsHomeActions","SignalsPixelEventAspects","SignalsPixelLogger","SignalsPixelStore","SignalsPixelUsageAutomaticEventToggleUIStateStore","SUIText.react","editPixelPermissionSelector","promiseDone","signalsHasServerEventCapabilitySelector","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsContainer.react").getValueSafe,j=b("SignalsPixelLogger").scope("AUTOMATIC_EVENT_ON_OR_OFF");c=babelHelpers.inherits(a,b("SignalsContainer.react"));h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return c=(a=h.constructor).call.apply(a,[this].concat(f)),this.$SignalsPixelAutomaticEventToggleContainer1=function(){__p&&__p();var a;j.std().actions.toggle();var c=this.getStateEnforcing(),d=this.props.pixelID;b("SignalsPixelUsageAutomaticEventToggleUIStateStore").updateStateLater((a={},a[d]=b("LoadObject").loading(),a));b("promiseDone")(b("AdsGraphAPI").get(e.id+".constructor").object("adspixel",d).post({enable_automatic_events:!c.useInferredEvents}),function(){b("SignalsHomeActions").toggleInferredEventsUsage(d);var a=b("PixelScreenStateStore").getState();a=a.selectedPixelAspectTableItemTab;a===b("SignalsPixelEventAspects").SOURCE&&c.useInferredEvents&&b("PixelScreenActions").updatePixelAspectTableItemTab(b("SignalsPixelEventAspects").EVENT,c.canUseServerEvent);b("SignalsPixelUsageAutomaticEventToggleUIStateStore").updateStateLater((a={},a[d]=null,a))},function(a){var c;b("SignalsPixelUsageAutomaticEventToggleUIStateStore").updateStateLater((c={},c[d]=b("LoadObject").withError(a),c))})}.bind(this),c}a.prototype.getStores=function(){return[b("PixelScreenStateStore"),b("SignalsPixelStore"),b("SignalsPixelUsageAutomaticEventToggleUIStateStore")].concat(b("AdsSelectorUtils").getStores([b("editPixelPermissionSelector"),b("signalsHasServerEventCapabilitySelector")]))};a.prototype.calculateState=function(a,c){a=i(b("SignalsPixelStore").get(c.pixelID));c=b("SignalsPixelUsageAutomaticEventToggleUIStateStore").getState()[c.pixelID];var d=i(b("editPixelPermissionSelector")());a=c==null?a.enable_automatic_events:i(c);c=b("signalsHasServerEventCapabilitySelector")();return{canEditPixel:d,canUseServerEvent:c,useInferredEvents:a}};a.prototype.renderLoading=function(){return b("React").createElement(b("FDSSpinner.react"),{size:"small"})};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.canEditPixel,d=a.useInferredEvents,e=this.props.useFBToggleSwitch,f=b("React").createElement(b("SUIText.react"),{color:"disabled",display:"inline",margin:"_3-9a",size:"meta1",weight:"bold"},a.useInferredEvents?g._("ON"):g._("OFF")),h=a.canEditPixel?null:g._("You don't have permission to edit this pixel.");if(e)return b("React").createElement("div",null,b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:d,disabled:!c,tooltip:h,onToggle:this.$SignalsPixelAutomaticEventToggleContainer1}),f);else return b("React").createElement(b("BUISwitch.react"),{disabled:!c,value:a.useInferredEvents,onToggle:this.$SignalsPixelAutomaticEventToggleContainer1})};e.exports=a}),null);
__d("SignalsHomeUsagePixelTrafficAnomalyConfigButton.react",["ix","fbt","AdsPixelDialogTypes","AdsPixelViewActions","FDSButton.react","Image.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=g("624426"),k=g("648552");i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.$1=function(){b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").PIXEL_TRAFFIC_ANOMALY_CONFIG_DIALOG)};a.prototype.render=function(){var a=this.props.disabled;return b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:a?k:j}),isDisabled:a,label:h._("Configure Alerts"),margin:"_3-8x",onClick:this.$1}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SignalsPixelTrafficAnomalyConfigToggle.react",["fbt","FBToggleSwitch.react","FDSText.react","React","SignalsHomeUsagePixelTrafficAnomalyConfigButton.react","SignalsPixelUserPermissionDataProvider","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={canEditPixel:!0,toggleValue:!1},this.$1=function(a){this.setState(function(b){return{toggleValue:a}})}.bind(this),b}a.getStores=function(){return[b("SignalsPixelUserPermissionDataProvider").toFluxStore()]};a.prototype.getToggleText=function(){var a=this.state.toggleValue;return b("React").createElement(b("FDSText.react"),{color:"disabled",display:"inline",margin:"_3-9a",size:"meta1",weight:"bold"},a?g._("ON"):g._("OFF"))};a.prototype.render=function(){var a=this.state,c=a.canEditPixel;a=a.toggleValue;return b("React").createElement("div",null,b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:a,disabled:!c,onToggle:this.$1}),this.getToggleText(),b("React").createElement(b("FDSText.react"),{color:"disabled",display:"block",margin:"_3-8y",size:"body3"},g._("Receive alerts when pixel events do not follow regular patterns.")),b("React").createElement(b("SignalsHomeUsagePixelTrafficAnomalyConfigButton.react"),{disabled:!a}))};e.exports=a}),null);
__d("SignalsHomeUsagePixelDetailsPanel.react",["cssVar","cx","fbt","AdsPixelDialogTypes","AdsPixelViewActions","FDSButton.react","List.react","React","SignalsCalibrationEventContainer.react","SignalsHomeAutoAdvancedMatchingToggleContainer.react","SignalsHomeIDText.react","SignalsHomeNameIDWithPicture.react","SignalsHomeUsagePixelAgencyListContainer.react","SignalsHomeUsagePixelGroupListContainer.react","SignalsHomeUsagePixelPageListContainer.react","SignalsHomeUsageRow.react","SignalsPixelAutomaticEventToggleContainer.react","SignalsPixelEventCalibrationLogger","SignalsPixelTrafficAnomalyConfigToggle.react","SUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PureComponent;var k=64,l=i._("Automatic Events"),m=i._("Automatic Advanced Matching"),n=b("SignalsPixelEventCalibrationLogger").scope("PIXEL_SETTINGS_AUTOMATIC_EVENT").std().actions.open;d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){n()},b}a.prototype.$2=function(){b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").IWL_LOADER)};a.prototype.$3=function(){b("AdsPixelViewActions").dialogTypeChange(b("AdsPixelDialogTypes").SERVER_TO_SERVER_API_KEY_MANAGER)};a.prototype.render=function(){var a=this.props,c=a.creator,d=a.hasGroups,e=a.hasPages,f=a.id,g=a.ownedByAdAccount,h=a.owner,j=a.showAutoMatchingControl,n=a.showAutomaticEventsControl,o=a.showIWLLauncher,p=a.showServerToServer;a=a.showTrafficAnomalyConfigControl;return b("React").createElement("div",{style:{backgroundColor:"#FFFFFF"}},h!=null?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Owner"),headerWidth:k},b("React").createElement(b("SignalsHomeNameIDWithPicture.react"),{id:h.id,name:h.name,pictureURL:h.pictureURL})):null,!g||e||d?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Sharing"),headerWidth:k},b("React").createElement(b("List.react"),{border:"none",spacing:"medium"},g?null:b("React").createElement("li",null,b("React").createElement(b("SignalsHomeUsagePixelAgencyListContainer.react"),{id:f})),e?b("React").createElement("li",null,b("React").createElement(b("SignalsHomeUsagePixelPageListContainer.react"),{pixelID:f})):null,d?b("React").createElement("li",null,b("React").createElement(b("SignalsHomeUsagePixelGroupListContainer.react"),{pixelID:f})):null)):null,b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Pixel ID"),headerWidth:k},b("React").createElement(b("SignalsHomeIDText.react"),{id:f})),c!=null?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Creator"),headerWidth:k},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"disabled",display:"block",size:"body3"},c.name),b("React").createElement(b("SUIText.react"),{color:"disabled",display:"block",size:"body3"},c.time.format("M j, Y")))):null,n?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:l,headerWidth:k},b("React").createElement("div",null,b("React").createElement(b("SignalsPixelAutomaticEventToggleContainer.react"),{pixelID:f,useFBToggleSwitch:!0}),b("React").createElement(b("SUIText.react"),{color:"disabled",display:"block",size:"body3",style:{paddingTop:12},weight:"normal"},i._("Allow this pixel to help infer events automatically.")," "),b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SignalsCalibrationEventContainer.react"),{entryPoint:"PIXEL_SETTINGS",onOpen:this.$1})))):null,j?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:m,headerWidth:k},b("React").createElement(b("SignalsHomeAutoAdvancedMatchingToggleContainer.react"),{pixelID:f})):null,a?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Traffic Alerts"),headerWidth:k},b("React").createElement("div",null,b("React").createElement(b("SignalsPixelTrafficAnomalyConfigToggle.react"),{pixelID:f}))):null,o?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Codeless Events"),headerWidth:k},b("React").createElement(b("FDSButton.react"),{label:i._("Get started"),onClick:this.$2})):null,p?b("React").createElement(b("SignalsHomeUsageRow.react"),{header:i._("Server to Server Keys"),headerWidth:k},b("React").createElement(b("FDSButton.react"),{label:i._("Pixel API Keys"),onClick:this.$3})):null)};e.exports=a}),null);
__d("SignalsHomeUsagePixelDetailsPanelContainer.react",["DateTime","PixelCapability","React","SignalsAdAccountStore","SignalsBusinessStore","SignalsCapabilityDataProvider","SignalsContainer.react","SignalsGroupsStore","SignalsHomeUsagePixelDetailsPanel.react","SignalsPagesStore","SignalsPixelStore","Timezone","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").Set,i=b("Timezone").getEnvironmentTimezoneID,j=b("Timezone").UTC,k=b("SignalsContainer.react").getValueSafe,l=b("SignalsCapabilityDataProvider").toFluxStore();g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsAdAccountStore"),b("SignalsBusinessStore"),l,b("SignalsGroupsStore"),b("SignalsPagesStore"),b("SignalsPixelStore")]};a.prototype.calculateState=function(a,c){__p&&__p();a=k(b("SignalsPixelStore").get(c.id));var d=a.creator,e=a.creation_time,f=a.show_automatic_events,g=a.owner_ad_account;a=a.owner_business;d=d&&{name:d.name,time:b("DateTime").fromISOString(e,i()||j)};var l;e=!0;if(a!=null){a=a.id;a=k(b("SignalsBusinessStore").get(a));l={id:a.id,name:a.name,pictureURL:a.picture.data.url};e=!1}else if(g!=null){a=g.account_id;g=k(b("SignalsAdAccountStore").get(a));l={id:g.account_id,name:g.name}}a=k(b("SignalsPagesStore").get(c.id)).length>0;g=k(b("SignalsGroupsStore").get(c.id)).length>0;var m=b("SignalsCapabilityDataProvider")().get(c.id).getValue()||h(),n=m.has(b("PixelCapability").AUTOMATIC_ADVANCED_MATCHING_ELIGIBLE),o=m.has(b("PixelCapability").AUTOMATIC_ADVANCED_MATCHING);n=b("gkx")("678004")&&n||o;o=b("gkx")("678137")&&m.has(b("PixelCapability").IWL);c=b("SignalsCapabilityDataProvider")().get(c.id).map(function(a){return a.has(b("PixelCapability").SERVER_TO_SERVER)}).getValue()===!0;m=b("gkx")("678138")&&m.has(b("PixelCapability").TRAFFIC_ANOMALY_ALERTS);return{creator:d,hasGroups:g,hasPages:a,ownedByAdAccount:e,owner:l,showAutoMatchingControl:n,showAutomaticEventsControl:f,showIWLLauncher:o,showServerToServer:c,showTrafficAnomalyConfigControl:m}};a.prototype.renderLoadedValue=function(){return b("React").createElement(b("SignalsHomeUsagePixelDetailsPanel.react"),babelHelpers["extends"]({id:this.props.id},this.getStateEnforcing()))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageDetailsCardContainer.react",["fbt","FDSCard.react","FDSCardHeader.react","FDSSection.react","FDSText.react","React","SignalsContainer.react","SignalsHomeStateStore","SignalsHomeUsageAppDetailsPanelContainer.react","SignalsHomeUsageDSDetailsPanelContainer.react","SignalsHomeUsagePixelDetailsPanelContainer.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("SignalsContainer.react"));h&&h.prototype;a.prototype.getStores=function(){return[b("SignalsHomeStateStore")]};a.prototype.calculateState=function(){var a=b("SignalsHomeStateStore").getState(),c=a.appID,d=a.dataSetID;a=a.pixelID;return{appID:c,dataSetID:d,pixelID:a}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c;a.pixelID!=null?c=b("React").createElement(b("SignalsHomeUsagePixelDetailsPanelContainer.react"),{id:a.pixelID}):a.dataSetID!=null?c=b("React").createElement(b("SignalsHomeUsageDSDetailsPanelContainer.react"),{id:a.dataSetID}):a.appID!=null&&(c=b("React").createElement(b("SignalsHomeUsageAppDetailsPanelContainer.react"),{id:a.appID}));return b("React").createElement(b("FDSCard.react"),{header:b("React").createElement(b("FDSCardHeader.react"),{title:b("React").createElement(b("FDSText.react"),{color:"secondary",margin:"_3-8o _4m0t",size:"body1",weight:"bold"},g._("Details"))})},b("React").createElement(b("FDSSection.react"),null,b("React").createElement("div",{style:{width:320}},c)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomeUsageInspector.react",["cx","fbt","FDSText.react","FlexLayout.react","React","SignalsDataSourcesEnum","SignalsHomeComponentTestIDs","SignalsHomeSettingsDomainControlConfigCardContainer.react","SignalsHomeUsageAdAccountCardContainer.react","SignalsHomeUsageBusinessManagerButtonContainer.react","SignalsHomeUsageCookieSettingsCardContainer.react","SignalsHomeUsageDetailsCardContainer.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PureComponent;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.canSeeLeftNav;a=a.dataSourceType;var d=c?a==b("SignalsDataSourcesEnum").DATA_SET?"_2pi9 _iky":"_2o1m _2pid":null;return b("React").createElement("div",{className:b("joinClasses")("_2pi1",d),"data-testid":b("SignalsHomeComponentTestIDs").USAGE_INSPECTOR},b("React").createElement("div",{style:{display:"flex",marginBottom:16}},c?b("React").createElement(b("FDSText.react"),{size:"header1"},h._("Settings")):b("React").createElement(b("FDSText.react"),{size:"header4",weight:"bold"},h._("Settings & Related Assets")),b("React").createElement("div",{style:{flexGrow:1}}),b("React").createElement(b("SignalsHomeUsageBusinessManagerButtonContainer.react"),null)),b("React").createElement(b("FlexLayout.react"),{align:"start"},b("React").createElement(b("FlexLayout.react"),{direction:"vertical",style:{flexGrow:1,marginRight:20}},b("React").createElement(b("FlexLayout.react"),{className:"_21op"},b("React").createElement(b("SignalsHomeUsageCookieSettingsCardContainer.react"),null)),b("React").createElement(b("FlexLayout.react"),{className:"_21op"},b("React").createElement(b("SignalsHomeUsageAdAccountCardContainer.react"),null))),b("React").createElement("div",null,b("React").createElement(b("SignalsHomeUsageDetailsCardContainer.react"),null),a===b("SignalsDataSourcesEnum").PIXEL?b("React").createElement(b("SignalsHomeSettingsDomainControlConfigCardContainer.react"),null):null)))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("SignalsHomePixelSettingsScreenContainer.react",["PixelCapability","React","SignalsCapabilityDataProvider","SignalsContainer.react","SignalsDataSourcesEnum","SignalsHomePixelSettingsScreen.react","SignalsHomeStateStore","SignalsHomeUsageInspector.react","gkx","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsCapabilityDataProvider").toFluxStore();g=babelHelpers.inherits(a,b("SignalsContainer.react"));g&&g.prototype;a.prototype.getStores=function(){return[b("SignalsHomeStateStore"),h]};a.prototype.calculateState=function(){var a=b("nullthrows")(b("SignalsHomeStateStore").getState().pixelID),c=b("gkx")("685084"),d=b("SignalsContainer.react").getValueSafe(h.getState().get(a)).has(b("PixelCapability").GETS_NEW_SETTINGS_TAB);c=c||d;return{pixelID:a,getsNewSettingsTab:c}};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing();a=a.getsNewSettingsTab;var c=this.props.canSeeLeftNav;return a?b("React").createElement(b("SignalsHomePixelSettingsScreen.react"),{canSeeLeftNav:c}):b("React").createElement(b("SignalsHomeUsageInspector.react"),{canSeeLeftNav:c,dataSourceType:b("SignalsDataSourcesEnum").PIXEL})};function a(){g.apply(this,arguments)}e.exports=a}),null);