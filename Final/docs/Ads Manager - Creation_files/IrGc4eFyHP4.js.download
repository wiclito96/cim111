if (self.CavalryLogger) { CavalryLogger.start_js(["8qGFH"]); }

__d("highlight",["Animation","Style"],(function(a,b,c,d,e,f){function a(a,c,d,e){new(b("Animation"))(a).from("background",e||"#fff9d7").to("background",d||"#fff").ease(b("Animation").ease.both).duration(2e3).ondone(function(){b("Style").set(a,"background",""),c&&c()}).go()}e.exports=a}),null);
__d("SSurvey",["csx","ArbiterMixin","AsyncRequest","CSS","DOM","Form","highlight","mixin"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=200;d=babelHelpers.inherits(c,b("mixin")(b("ArbiterMixin")));h=d&&d.prototype;function c(a,b,c,d,e,f,g){"use strict";h.constructor.call(this),this.id=a,this.questions={},this.context=d,c||(c={}),this.init(b,c,e,f,g)}c.prototype.init=function(a,c,d,e,f){"use strict";__p&&__p();this.form=a;this.currentQuestions=c;this.finishedQuestions={};this.subscriptions=[];this.submitURI=f;e&&b("highlight")(this.form.controller);this.subscriptions.push(a.subscribe("submit",function(){this.informSurveyAdvance()}.bind(this)));for(var g in c){f=c[g];this.questions[g]=f;d=d&&f&&f.hasLogicalFinish();f&&this.subscriptions.push(f.subscribeFinished(this.updateQuestionStatus.bind(this,f,!0)))}d?this.hideFooter():this.showFooter();this.autosubmit=d?!0:!1;this.informSurveyLoaded()};c.prototype.destroy=function(){"use strict";while(this.subscriptions.length)this.subscriptions.pop().unsubscribe()};c.prototype.getSubmitURI=function(){"use strict";return this.submitURI};c.prototype.getID=function(){"use strict";return this.id};c.prototype.getQuestion=function(a){"use strict";return this.questions[a]};c.prototype.getCurrentQuestions=function(){"use strict";return this.questions};c.prototype.shouldAutosubmit=function(){"use strict";return this.autosubmit};c.prototype.getForm=function(){"use strict";return this.form};c.prototype.getContextData=function(){"use strict";return this.context};c.prototype.getQuestionValues=function(){"use strict";var a={};for(var b in this.currentQuestions){var c=this.currentQuestions[b];c&&(a[b]=c.getValue())}return a};c.prototype.getQuestionValueIndices=function(){"use strict";var a={};for(var b in this.currentQuestions){var c=this.currentQuestions[b];c&&(a[b]=c.getValueIndex())}return a};c.prototype.hideFooter=function(){"use strict";var a=b("DOM").scry(this.form.getRoot(),"._5k72")[0];a&&b("CSS").hide(a)};c.prototype.showFooter=function(){"use strict";var a=b("DOM").scry(this.form.getRoot(),"._5k72")[0];a&&b("CSS").show(a)};c.prototype.updateQuestionStatus=function(a,c){"use strict";if(!c){delete this.finishedQuestions[a.getID()];return}this.finishedQuestions[a.getID()]=!0;c=Object.keys(this.finishedQuestions).length;a=Object.keys(this.currentQuestions).length;this.autosubmit&&c===a&&(b("Form").setDisabled(this.form.getRoot(),!0),setTimeout(this.submit.bind(this),i))};c.prototype.informSurveyLoaded=function(){"use strict";this.inform("survey/loaded",this.getQuestionValueIndices())};c.prototype.informSurveyAdvance=function(){"use strict";this.inform("survey/advance",this.getQuestionValueIndices())};c.prototype.informSurveyFinished=function(){"use strict";this.inform("survey/finished")};c.prototype.subscribeSurveyLoaded=function(a){"use strict";return this.subscribe("survey/loaded",a)};c.prototype.subscribeSurveyAdvance=function(a){"use strict";return this.subscribe("survey/advance",a)};c.prototype.subscribeSurveyFinished=function(a){"use strict";return this.subscribe("survey/finished",a)};c.prototype.submit=function(a){"use strict";var c=b("DOM").scry(this.form.getRoot(),"._1pr0");b("Form").setDisabled(this.form.getRoot(),!1);if(c.length!=1||a){this.submitWithAsyncRequest(a);return}c[0].click()};c.prototype.submitWithAsyncRequest=function(a){"use strict";var c=this.form.getRoot(),d=b("Form").serialize(c);d=new(b("AsyncRequest"))().setMethod("POST").setURI(this.submitURI).setData(d).setRelativeTo(c);a&&d.setHandler(a);b("Form").setDisabled(this.form.getRoot(),!0);d.send();this.informSurveyAdvance()};a.SSurvey=e.exports=c}),null);
__d("SSurveyController",[],(function(a,b,c,d,e,f){a={registerSurvey:function(a,b){this.surveys||(this.surveys={});var c=this.getSurvey(a);!c?this.surveys[a]=b:(c.init(b.getForm(),b.getCurrentQuestions(),b.shouldAutosubmit(),null,b.getSubmitURI()),b.destroy())},getSurvey:function(a){this.surveys||(this.surveys={});return this.surveys[a]},informSurveyFinished:function(a){a=this.getSurvey(a);a&&a.informSurveyFinished()}};e.exports=a}),null);
__d("SSurveyQuestionBase",["ArbiterMixin","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;d=babelHelpers.inherits(c,b("mixin")(b("ArbiterMixin")));g=d&&d.prototype;function c(a){"use strict";g.constructor.call(this),this.id=a}c.prototype.getID=function(){"use strict";return this.id};c.prototype.getValue=function(){"use strict";return null};c.prototype.getValueIndex=function(){"use strict";return null};c.prototype.informValueChanged=function(){"use strict";this.inform("survey/question/changed",this.getValue())};c.prototype.informFinished=function(){"use strict";this.inform("survey/question/finished")};c.prototype.subscribeValueChanged=function(a){"use strict";return this.subscribe("survey/question/changed",a)};c.prototype.subscribeFinished=function(a){"use strict";return this.subscribe("survey/question/finished",a)};c.prototype.hasLogicalFinish=function(){"use strict";return!1};a.SSurveyQuestionBase=e.exports=c}),null);
__d("SSurveyUniversalFeedbackAnimationContainer",["csx","Animation","DOM","Event","Run"],(function(a,b,c,d,e,f,g){__p&&__p();function c(a){"use strict";this.container=a;b("DOM").scry(a,"div._41y").forEach(function(a){new(b("Animation"))(a).from("opacity",0).to("opacity",1).duration(300).ease(b("Animation").ease.end).go()});a=b("DOM").scry(a,"button._sk6")[0];a&&(this.submitListener=b("Event").listen(a,"click",this.onclick.bind(this)),b("Run").onLeave(this.destroySubmitListener.bind(this)))}c.prototype.onclick=function(event){"use strict";new(b("Animation"))(this.container).to("height",16).duration(300).go(),new(b("Animation"))(this.container).to("opacity",0).duration(300).ease(b("Animation").ease.end).go(),this.destroySubmitListener()};c.prototype.destroySubmitListener=function(){"use strict";this.submitListener.remove()};a.SSurveyUniversalFeedbackAnimationContainer=e.exports=c}),null);
__d("SSurveyUniversalFeedbackInline",["cx","Animation","CSS","DOM","Event","Run","SSurveyQuestionBase","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h;d=babelHelpers.inherits(c,b("SSurveyQuestionBase"));h=d&&d.prototype;function c(a,c,d,e,f,g,i){"use strict";__p&&__p();h.constructor.call(this,a);this.options=c;this.questionText=d;this.questionContainer=e;this.localeIsRTL=f;this.noAnimation=g;this.isBigSmile=i;this.listeners=[];for(var a=0;a<c.length;a++){d=c[a];e=b("DOM").find(d,"input");this.listeners.push(b("Event").listen(e,"click",this.onclick.bind(this)))}b("Run").onLeave(this.destroyListeners.bind(this))}c.prototype.hasLogicalFinish=function(){"use strict";return!0};c.prototype.getValue=function(){"use strict";for(var a=0;a<this.options.length;a++){var c=this.options[a];c=b("DOM").find(c,"input");if(c&&c.checked)return[c.value]}return null};c.prototype.getValueIndex=function(){"use strict";for(var a=0;a<this.options.length;a++){var c=this.options[a];c=b("DOM").find(c,"input");if(c&&c.checked)return[a]}return null};c.prototype.onclick=function(event){"use strict";this.animate(),this.destroyListeners(),this.informValueChanged(),this.informFinished(),this.showEditButton()};c.prototype.showEditButton=function(){"use strict";var a=b("ge")("edit_helpful_score");a!=null&&b("CSS").removeClass(a,"hidden_elem")};c.prototype.animate=function(){"use strict";__p&&__p();this.noAnimation?this.fadeout(this.questionText):this.fadeoutAndShrink(this.questionText);new(b("Animation"))(this.questionContainer).to("height",124).duration(500).go();for(var a=0;a<this.options.length;a++){var c=this.options[a],d=b("DOM").find(c,"input");c=b("DOM").find(c,"div");if(!this.noAnimation&&d&&d.checked){b("CSS").addClass(c,"_4x8l");d=this.localeIsRTL?"right":"left";var e=this.isBigSmile?102:0;new(b("Animation"))(c).to(d,e).to("top",0).ease(b("Animation").ease.end).duration(500).go()}else this.fadeout(c)}};c.prototype.fadeout=function(a){"use strict";new(b("Animation"))(a).to("opacity",0).duration(300).ease(b("Animation").ease.end).hide().go()};c.prototype.fadeoutAndShrink=function(a){"use strict";new(b("Animation"))(a).to("opacity",0).to("height",0).to("margin",0).duration(500).ease(b("Animation").ease.end).hide().go()};c.prototype.destroyListeners=function(){"use strict";this.listeners.forEach(function(a){a&&a.remove()}),this.listeners=[]};a.SSurveyUniversalFeedbackInline=e.exports=c}),null);
__d("UIForm",["ArbiterMixin","BehaviorsMixin","DOM","Event","Form","Run","areJSONRepresentationsEqual","mixin"],(function(a,b,c,d,e,f){__p&&__p();var g;d=babelHelpers.inherits(c,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));g=d&&d.prototype;function c(a,c,d,e,f){"use strict";__p&&__p();g.constructor.call(this);this._root=a;this.controller=a;this._message=c;e&&(this._confirm_dialog=e,e.subscribe("confirm",this._handleDialogConfirm.bind(this)),b("DOM").prependContent(this._root,b("DOM").create("input",{type:"hidden",name:"confirmed",value:"true"})));b("Run").onAfterLoad(function(){this._originalState=b("Form").serialize(this._root)}.bind(this));this._forceDirty=d;this._confirmed=!1;this._submitted=!1;b("Event").listen(this._root,"submit",this._handleSubmit.bind(this));f&&f.length&&this.enableBehaviors(f);a=!0;b("Run").onBeforeUnload(this.checkUnsaved.bind(this),a)}c.prototype.getRoot=function(){"use strict";return this._root};c.prototype._handleSubmit=function(){"use strict";if(this._confirm_dialog&&!this._confirmed){this._confirm_dialog.show();return!1}if(this.inform("submit")===!1)return!1;this._submitted=!0;return!0};c.prototype._handleDialogConfirm=function(){"use strict";this._confirmed=!0,this._confirm_dialog.hide(),this._root.getAttribute("ajaxify")?b("Event").fire(this._root,"submit"):this._handleSubmit()&&this._root.submit()};c.prototype.reset=function(){"use strict";this.inform("reset"),this._submitted=!1,this._confirmed=!1};c.prototype.isDirty=function(){"use strict";if(this._submitted||!b("DOM").contains(document.body,this._root))return!1;if(this._forceDirty)return!0;if(!this._originalState)return!1;var a=b("Form").serialize(this._root);return!b("areJSONRepresentationsEqual")(a,this._originalState)};c.prototype.checkUnsaved=function(){"use strict";return this.isDirty()?this._message:null};e.exports=a.UIForm||c}),null);