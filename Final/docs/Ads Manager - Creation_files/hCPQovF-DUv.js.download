if (self.CavalryLogger) { CavalryLogger.start_js(["ij7C6"]); }

__d("AdsPromotableConnectionTypeBatchLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PROMOTABLE_Connection_TYPE.BATCH_LOAD";e.exports={actionType:a}}),null);
__d("AdsPromotableConnectionTypeBatchLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_Connection_TYPE.BATCH_LOAD");e.exports=a}),null);
__d("XPromotableConnectionTypeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/targeting/promotable_connection_type/",{connection_ids:{type:"FBIDVector",required:!0}})}),null);
__d("AdsPromotableConnectionTypeDataManager",["AdsBaseDataManager","AdsPromotableConnectionTypeBatchLoadDataAction","AsyncRequest","XPromotableConnectionTypeAsyncController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsBaseDataManager"));g&&g.prototype;a.prototype.loadAll=function(a){a=b("XPromotableConnectionTypeAsyncController").getURIBuilder().setFBIDVector("connection_ids",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){Object.entries(a.payload).forEach(function(a){var b=a[0];a=a[1];return this.__handleSuccess(["load"],b,null,{id:b,type:a})}.bind(this))}.bind(this)).send()};a.prototype.__onBatchLoaded=function(a){b("AdsPromotableConnectionTypeBatchLoadDataAction").dispatch({responses:a},{line:"39",module:"AdsPromotableConnectionTypeDataManager.js"})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPromotableConnectionTypeStore",["AdsBaseDataStore","AdsDataAtom","AdsLoadState_LEGACY","AdsPromotableConnectionTypeBatchLoadDataActionFlux","AdsPromotableConnectionTypeDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsBaseDataStore"));g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsPromotableConnectionTypeDataManager")};a.prototype.__getActionTypes=function(){return h?[b("AdsPromotableConnectionTypeBatchLoadDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsPromotableConnectionTypeBatchLoadDataActionFlux").actionType:this.__handleData(a.responses,b("AdsLoadState_LEGACY").LOADED);break}};function a(){g.apply(this,arguments)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsTargetingConnectionsLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHANGE_TARGETING_TYPE:"connections_change_targeting_type",CLEAR_TARGETING:"connections_clear_targeting",CLOSED_VIDEO_NUX:"connections_video_nux_closed",CLOSED_CONNECTIONS_UI_NUX:"connections_ui_nux_closed",PE_TARGETING_DIALOG_CANCELLED:"pe_targeting_dialog_cancelled",PE_TARGETING_DIALOG_CONFIRMED:"pe_targeting_dialog_confirmed",PE_TARGETING_DIALOG_OPENED:"pe_targeting_dialog_opened",SELECT_MENU:"connections_select_menu",UPDATE_ENGAGEMENT_SPECS:"connections_update_engagement_specs",UPDATE_EXCLUDED_CONNECTIONS:"connections_update_excluded_connections",UPDATE_EXCLUDED_ENGAGEMENT_SPECS:"connections_update_excluded_engagement_specs",UPDATE_FRIENDS_OF_CONNECTIONS:"connections_update_friends_of_connections",UPDATE_INCLUDED_CONNECTIONS:"connections_update_included_connections",VIDEO_INFOS_LOAD_TIME:"video_infos_load_time",VIDEOS_LOAD_TIME:"videos_load_time",PAGES_LOAD_TIME:"pages_load_time",VIDEO_LOADING_INFO:"video_loading_info",VIDEOS_FETCHING_ERROR:"video_fetching_error"});e.exports=a}),null);
__d("AdsTargetingConnectionsMenuOptions",["AdsTargetingConnectionsLabels"],(function(a,b,c,d,e,f){"use strict";a="connectedToApp";c="connectedToEvent";d="connectedToPage";f="excludeConnectedToApp";var g="excludeConnectedToEvent",h="excludeConnectedToPage",i="friendsConnectedToApp",j="friendsConnectedToEvent",k="friendsConnectedToPage",l="viewedThreeSeconds",m="viewedNintyFivePercent",n="excludeViewedThreeSeconds",o="excludeViewedNintyFivePercent",p="impressionedAd",q="dwelledOnAd",r="clickedOnAd",s="excludeImpressionedAd",t="excludeDwelledOnAd",u="excludeClickedOnAd",v="menu_separator",w="pageEventViewers",x="pageEventAttendees",y=Object.freeze({ADVANCED:"advanced",ALL:"all",APPS:"apps",EVENTS:"events",EVENTS_ENGAGEMENT:"events_engagement",NONE:"none",PAGES:"pages",VIDEOS:"videos",ADS:"ads"}),z={name:b("AdsTargetingConnectionsLabels").advancedCombinations,toggleName:"advancedCombinations"},A={name:b("AdsTargetingConnectionsLabels").apps,toggleName:"apps",children:[{name:b("AdsTargetingConnectionsLabels").connectedToApp,toggleName:a},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToApp,toggleName:i},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToApp,toggleName:f}]},B={name:b("AdsTargetingConnectionsLabels").events,toggleName:"events",children:[{name:b("AdsTargetingConnectionsLabels").connectedToEvent,toggleName:c},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToEvent,toggleName:j},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToEvent,toggleName:g}]},C={name:b("AdsTargetingConnectionsLabels").events,toggleName:"events_with_engagement",children:[{name:b("AdsTargetingConnectionsLabels").connectedToEvent,toggleName:c},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToEvent,toggleName:j},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToEvent,toggleName:g},{name:v},{name:b("AdsTargetingConnectionsLabels").pageEventViewers,toggleName:w},{name:b("AdsTargetingConnectionsLabels").pageEventAttendees,toggleName:x}]},D={name:b("AdsTargetingConnectionsLabels").pages,toggleName:"events_engagement",children:[{name:b("AdsTargetingConnectionsLabels").pageEventViewers,toggleName:w},{name:b("AdsTargetingConnectionsLabels").pageEventAttendees,toggleName:x}]},E={name:b("AdsTargetingConnectionsLabels").pages,toggleName:"pages",children:[{name:b("AdsTargetingConnectionsLabels").connectedToPage,toggleName:d},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToPage,toggleName:k},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToPage,toggleName:h}]},F={name:b("AdsTargetingConnectionsLabels").videos,toggleName:"videos",children:[{name:b("AdsTargetingConnectionsLabels").viewedThreeSeconds,toggleName:l},{name:b("AdsTargetingConnectionsLabels").viewedNintyFivePercent,toggleName:m},{name:v,toggleName:v},{name:b("AdsTargetingConnectionsLabels").excludeViewedThreeSeconds,toggleName:n},{name:b("AdsTargetingConnectionsLabels").excludeViewedNintyFivePercent,toggleName:o}]};b={name:b("AdsTargetingConnectionsLabels").ads,toggleName:"ads",children:[{name:b("AdsTargetingConnectionsLabels").impressionedAd,toggleName:p},{name:b("AdsTargetingConnectionsLabels").dwelledOnAd,toggleName:q},{name:b("AdsTargetingConnectionsLabels").clickedOnAd,toggleName:r},{name:v,toggleName:v},{name:b("AdsTargetingConnectionsLabels").excludeImpressionedAd,toggleName:s},{name:b("AdsTargetingConnectionsLabels").excludeDwelledOnAd,toggleName:t},{name:b("AdsTargetingConnectionsLabels").excludeClickedOnAd,toggleName:u}]};var G=[E,A,D,B,F,b,{name:v,toggleName:v},z],H=Object.freeze({VIDEO_VIEW_ACTION:"video_view",VIDEO_COMPLETED_ACTION:"video_completed",FBEVENT_VIEW_ACTION:"fbevent_view",FBEVENT_RESPONSE_ACTION:"fbevent_response",AD_IMPRESSION_ACTION:"ad_impression",AD_DWELL_ACTION:"ad_dwell_time",AD_CLICK_ACTION:"ad_click"});e.exports={connectionStatuses:y,menuOptions:{advancedOptions:z,appOptions:A,eventOptions:B,eventWithEngagementOptions:C,eventEngagementOptions:D,pageOptions:E,videoOptions:F,adsOptions:b,allOptions:G},optionName:{connectedToApp:a,connectedToEvent:c,connectedToPage:d,excludeConnectedToApp:f,excludeConnectedToEvent:g,excludeConnectedToPage:h,friendsConnectedToApp:i,friendsConnectedToEvent:j,friendsConnectedToPage:k,menuSeparator:v,viewedThreeSeconds:l,viewedNintyFivePercent:m,excludeViewedThreeSeconds:n,excludeViewedNintyFivePercent:o,impressionedAd:p,dwelledOnAd:q,clickedOnAd:r,excludeImpressionedAd:s,excludeDwelledOnAd:t,excludeClickedOnAd:u,pageEventViewers:w,pageEventAttendees:x},connectionsType:{excludedConnection:"excludedConnections",includedConnection:"includedConnections",friendsOfConnection:"friendsOfConnections"},engagementActions:H}}),null);
__d("AdsConnectionsUIUtils",["AdsAccountCapabilities","AdsAccountUtils","AdsAPIObjectives","AdsAppUtils","AdsDestinationTypes","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPromotableAppStore","AdsPromotableConnectionTypeStore","AdsPromotableEventStore","AdsPromotablePageStore","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","compactArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsTargetingConnectionsMenuOptions").connectionStatuses,h=b("AdsTargetingConnectionsMenuOptions").connectionsType,i=b("AdsTargetingConnectionsMenuOptions").menuOptions,j=b("AdsTargetingConnectionsMenuOptions").optionName,k="exclude",l="friends";function a(a,c){__p&&__p();c=b("AdsPromotableConnectionTypeStore").getAll(c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(c))return!1;c=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c);c=v(c);var d=c.pageIDs,e=c.appIDs;c=c.eventIDs;d=b("AdsPromotablePageStore").getAllFor(a,d);c=b("AdsPromotableEventStore").getAllFor(a,c);a=b("AdsPromotableAppStore").getAllFor(a,e);return!b("AdsLoadStateUtils_LEGACY").anyLoading(d,c,a)}function m(a,b){if(b===null)return a;if(b===g.ADVANCED)return g.ADVANCED;return a===g.ALL?b:a}function c(a,c,d){__p&&__p();var e=[];for(var f in c){var i=c[f];i.length>0&&e.push({type:f,destinations:i})}if(e.length>1)return g.ADVANCED;if(e.length===0)return m(g.ALL,d);i=e[0];switch(i.type){case h.includedConnection:case h.friendsOfConnection:case h.excludedConnection:if(d&&d!==g.ALL)return d;c=n(a,i.destinations);return c===b("AdsLoadState_LEGACY").LOADING?c:m(c,d)}return d===g.VIDEOS||d===g.ADS||d===g.EVENTS_ENGAGEMENT?d:g.ADVANCED}function n(a,c){__p&&__p();var d=c.map(function(a){return a.id});d=b("AdsPromotableConnectionTypeStore").getAll(d);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d))return b("AdsLoadState_LEGACY").LOADING;d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(d);d=v(d);var e=d.pageIDs,f=d.appIDs;d=d.eventIDs;f=b("AdsPromotableAppStore").getAllFor(a,f);e=b("AdsPromotablePageStore").getAllFor(a,e);a=b("AdsPromotableEventStore").getAllFor(a,d);if(b("AdsLoadStateUtils_LEGACY").anyLoading(f,a,e))return b("AdsLoadState_LEGACY").LOADING;d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(f);f=b("AdsLoadStateUtils_LEGACY").getLoadedValues(e);e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(a);if(d.length!==0&&d.length===c.length)return g.APPS;if(f.length!==0&&f.length===c.length)return g.PAGES;return e.length!==0&&e.length===c.length?g.EVENTS:g.ADVANCED}function d(a,b,c){__p&&__p();var d=b.excludedConnections||[],e=b.includedConnections||[];b=b.friendsOfConnections||[];if(d.length!==0){switch(a){case g.APPS:return j.excludeConnectedToApp;case g.PAGES:return j.excludeConnectedToPage;case g.EVENTS:return j.excludeConnectedToEvent}return null}if(e.length!==0){switch(a){case g.APPS:return j.connectedToApp;case g.PAGES:return j.connectedToPage;case g.EVENTS:return j.connectedToEvent}return null}if(b.length!==0){switch(a){case g.APPS:return j.friendsConnectedToApp;case g.PAGES:return j.friendsConnectedToPage;case g.EVENTS:return j.friendsConnectedToEvent}return null}return c}function f(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_CANCELLED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function o(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_CONFIRMED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function p(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_OPENED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function q(a,c,d,e){d=c===b("AdsAPIObjectives").EVENT_RESPONSES;e=b("AdsAppUtils").isMobileAppObjective(c,e);c=c===b("AdsAPIObjectives").EVENT_RESPONSES;a=b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").CAN_CREATE_INSTANT_GAME_ADS_IN_ADS_MANAGER);return{canSeeEventEngagementOptions:d,shouldHideAppConnections:e&&!a,canQueryEvents:c}}function r(a,b){return!!a&&!!b&&b.indexOf(k)>-1}function s(a,b){return!!a&&!!b&&b.indexOf(l)>-1}function t(a,b){return r(a,b)}function u(a){var c=a&&a.shouldHideEventFriendsOfConnections,d=c?x(i.eventOptions,!1,!0):i.eventOptions;c=c?x(i.eventWithEngagementOptions,!1,!0):i.eventWithEngagementOptions;c=b("compactArray")([i.pageOptions,a&&a.shouldHideAppConnections?void 0:i.appOptions,a&&a.canSeeEventEngagementOptions?c:d,a&&a.canSeeVideoOptions?i.videoOptions:void 0,a&&a.canSeeAdsOptions?i.adsOptions:void 0,{name:j.menuSeparator},i.advancedOptions]);a&&(c=y(c,!!a.shouldHideExcludedConnections,!!a.shouldHideFriendsOfConnections));return c}function v(a){var b=a.filter(function(a){return a.type==="page"}).map(function(a){return a.id}),c=a.filter(function(a){return a.type==="app"}).map(function(a){return a.id});a=a.filter(function(a){return a.type==="event"}).map(function(a){return a.id});return{pageIDs:b,appIDs:c,eventIDs:a}}function w(a,c){__p&&__p();c=b("AdsPromotableConnectionTypeStore").getAll(c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(c))return[];c=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c);c=v(c);var d=c.pageIDs,e=c.appIDs;c=c.eventIDs;d=b("AdsPromotablePageStore").getAllFor(a,d);c=b("AdsPromotableEventStore").getAllFor(a,c);a=b("AdsPromotableAppStore").getAllFor(a,e);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d,c,a))return[];e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(d);d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c);c=b("AdsLoadStateUtils_LEGACY").getLoadedValues(a);a=e.map(function(a){return{id:a.id,name:a.name}}).concat(d.map(function(a){return{id:a.id,name:a.name}})).concat(c.map(function(a){return{id:a.id,name:a.name}}));return a}function x(a,b,c){var d={name:a.name,toggleName:a.toggleName,children:[]};a.children&&(d.children=a.children.filter(function(a){var d=r(b,a.toggleName);a=s(c,a.toggleName);return!d&&!a}));return d}function y(a,b,c){return a.map(function(a){return x(a,b,c)})}function z(a,c){return{label:b("AdsTargetingConnectionsLabels").apps,options:x(i.appOptions,a,c),placeholder:b("AdsTargetingConnectionsLabels").addApp,searchSourceOptionsValidEntryTypes:[b("AdsDestinationTypes").APP],searchSourceOptionTypes:[b("AdsDestinationTypes").APP],secondPlaceholder:b("AdsTargetingConnectionsLabels").addAnotherApp}}function A(a,c){return{label:b("AdsTargetingConnectionsLabels").events,options:x(i.eventOptions,a,c),placeholder:b("AdsTargetingConnectionsLabels").addEvent,searchSourceOptionsValidEntryTypes:[b("AdsDestinationTypes").EVENT],searchSourceOptionTypes:[b("AdsDestinationTypes").EVENT],secondPlaceholder:b("AdsTargetingConnectionsLabels").addAnotherEvent}}function B(a,c){return{label:b("AdsTargetingConnectionsLabels").pages,options:x(i.pageOptions,a,c),placeholder:b("AdsTargetingConnectionsLabels").addPage,searchSourceOptionsValidEntryTypes:[b("AdsDestinationTypes").PAGE,b("AdsDestinationTypes").PLACE,b("AdsDestinationTypes").PAGE_AND_PLACE],searchSourceOptionTypes:[b("AdsDestinationTypes").PAGE],secondPlaceholder:b("AdsTargetingConnectionsLabels").addAnotherPage}}function C(a,c){return{label:b("AdsTargetingConnectionsLabels").videos,options:x(i.videoOptions,a,c)}}function D(a,c){var d=i.adsOptions;return{label:b("AdsTargetingConnectionsLabels").ads,options:x(d,a,c)}}function E(a,c,d){__p&&__p();c=!!c;d=!!d;switch(a){case g.ALL:case g.NONE:return{label:b("AdsTargetingConnectionsLabels").addConnection};case g.ADVANCED:return{label:b("AdsTargetingConnectionsLabels").advancedCombinations};case g.APPS:return z(c,d);case g.EVENTS:case g.EVENTS_ENGAGEMENT:return A(c,d);case g.PAGES:return B(c,d);case g.VIDEOS:return C(c,d);case g.ADS:return D(c,d)}return{}}a={areConnectionsLoaded:a,getConfig:E,getConnectionsProperties:q,getConnectionStatus:c,getSelectedOption:d,getMenuOptions:u,loadConnections:w,logDialogCancelled:f,logDialogConfirmed:o,logDialogOpened:p,shouldHideOption:t};e.exports=a}),null);
__d("AdsFIGBasicTokenizer.react",["cx","AdsBasicBrowseTokenizerMixin","AdsFIGBasicTypeahead.react","AdsFIGBasicTypeaheadEntriesView.react","AdsSearchBrowseTokenizerList.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"AdsFIGBasicTokenizer",mixins:[b("AdsBasicBrowseTokenizerMixin")],propTypes:{entries:a.array,shouldShowIDInTitle:a.bool,onEntriesChange:a.func.isRequired,onNewEntryAdded:a.func,className:a.string},render:function(){var a={ViewRenderer:b("AdsFIGBasicTypeaheadEntriesView.react"),maxEntries:50,useLayer:!0,extraRendererProps:{shouldShowIDInTitle:this.props.shouldShowIDInTitle}},c=b("joinClasses")("_5w0x",this.props.className);return b("React").createElement("div",{className:c},b("React").createElement(b("AdsSearchBrowseTokenizerList.react"),{entries:this._getEntries(),isFlat:!0,newEntriesSet:{},onRemoveEntry:this._onRemoveEntryAttempt}),b("React").createElement(b("AdsFIGBasicTypeahead.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5w0y"),excludedEntries:this._getExcludedEntries(),presenter:a,onAddEntryAttempt:this._onAddEntryAttempt,onRemoveEntryAttempt:this._onRemoveEntryAttempt})))}});e.exports=c}),null);
__d("AdsTargetingConnectionsSectionNUX.react",["AdsInterfacesLogger","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SimpleNUXMessageTypes").AUDIENCE_INLINE_SAVE_NUX,i=b("SimpleNUXMessageTypes").GEO_TARGETING_V2;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=b("SimpleNUXMessage").hasUserSeenMessage(this.$2());if(c||!this.$3())return!1;else if(a){b("SimpleNUXMessage").markMessageSeenByUser(this.$2());return!1}else return!0}.bind(this),this.$2=function(){return this.props.canSeeVideo?b("SimpleNUXMessageTypes").CONNECTIONS_SECTION:b("SimpleNUXMessageTypes").CONNECTIONS_SECTION_WITHOUT_VIDEO}.bind(this),this.$3=function(){return b("SimpleNUXMessage").hasUserSeenMessage(i)&&!b("SimpleNUXMessage").hasUserSeenMessage(h)},this.$5=function(){this.$4(),b("SimpleNUXMessage").markMessageSeenByUser(this.$2()),this.setState({shouldShowNux:!1})}.bind(this),this.renderLayers=function(){var a=this.props.canSeeVideo?b("AdsTargetingConnectionsLabels").connectionsSectionNUX:b("AdsTargetingConnectionsLabels").connectionsSectionWithoutVideoNUX;return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.ref}.bind(this),position:"right",shown:this.state.shouldShowNux,onCloseButtonClick:this.$5,key:"ambientNUX"},a)}.bind(this),this.state={shouldShowNux:this.$1(this.props.disableNUX)},c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a!==this.props&&this.setState({shouldShowNux:this.$1(a.disableNUX)})};a.prototype.$4=function(){var a=this.props.canSeeVideo===!0?b("AdsTargetingConnectionsLoggingEvents").CLOSED_VIDEO_NUX:b("AdsTargetingConnectionsLoggingEvents").CLOSED_CONNECTIONS_UI_NUX;b("AdsInterfacesLogger").log({eventName:a},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.render=function(){return b("React").createElement("span",null,b("React").createElement("span",{ref:"ref"}),this.renderLayers())};a.propTypes={account:c.object.isRequired,canSeeVideo:c.bool.isRequired,disableNUX:c.bool.isRequired};a.defaultProps={canSeeVideo:!1,disableNUX:!1};e.exports=a}),null);
__d("AdsEngagementSpecsUIUtils",["AdsTargetingConnectionsMenuOptions","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsTargetingConnectionsMenuOptions").connectionStatuses,h=b("AdsTargetingConnectionsMenuOptions").engagementActions,i=b("AdsTargetingConnectionsMenuOptions").optionName,j=b("keyMirror")({ENGAGEMENT_SPECS:null,EXCLUDED_ENGAGEMENT_SPECS:null});function a(a,b){return a.map(function(a){if(a&&a["action.type"]&&a["action.type"]===b)return a.page_id})}function c(a,b){__p&&__p();switch(a){case j.ENGAGEMENT_SPECS:switch(b){case h.VIDEO_VIEW_ACTION:return i.viewedThreeSeconds;case h.VIDEO_COMPLETED_ACTION:return i.viewedNintyFivePercent;case h.AD_IMPRESSION_ACTION:return i.impressionedAd;case h.AD_DWELL_ACTION:return i.dwelledOnAd;case h.AD_CLICK_ACTION:return i.clickedOnAd}break;case j.EXCLUDED_ENGAGEMENT_SPECS:switch(b){case h.VIDEO_VIEW_ACTION:return i.excludeViewedThreeSeconds;case h.VIDEO_COMPLETED_ACTION:return i.excludeViewedNintyFivePercent;case h.AD_IMPRESSION_ACTION:return i.excludeImpressionedAd;case h.AD_DWELL_ACTION:return i.excludeDwelledOnAd;case h.AD_CLICK_ACTION:return i.excludeClickedOnAd}break}return null}function d(a,b){__p&&__p();var c=[],d=[];if(!a.length)return{engagementSpecs:c,excludedEngagementSpecs:d};switch(b){case i.pageEventViewers:c=a.map(function(a){return{"action.type":h.FBEVENT_VIEW_ACTION,page_id:a.id}});break;case i.pageEventAttendees:c=a.map(function(a){return{"action.type":h.FBEVENT_RESPONSE_ACTION,page_id:a.id}});break;case i.viewedThreeSeconds:c=k(a);break;case i.viewedNintyFivePercent:c=l(a);break;case i.impressionedAd:c=m(a);break;case i.dwelledOnAd:c=n(a);break;case i.clickedOnAd:c=o(a);break;case i.excludeViewedThreeSeconds:d=k(a);break;case i.excludeViewedNintyFivePercent:d=l(a);break;case i.excludeImpressionedAd:d=m(a);break;case i.excludeDwelledOnAd:d=n(a);break;case i.excludeClickedOnAd:d=o(a);break}return{engagementSpecs:c,excludedEngagementSpecs:d}}function k(a){return a.map(function(a){return{"action.type":h.VIDEO_VIEW_ACTION,post:a.id}})}function l(a){return a.map(function(a){return{"action.type":h.VIDEO_COMPLETED_ACTION,post:a.id}})}function m(a){return a.map(function(a){return babelHelpers["extends"]({},a,{"action.type":h.AD_IMPRESSION_ACTION,impression_count:1,retention_seconds:2592e3})})}function n(a){return a.map(function(a){return babelHelpers["extends"]({},a,{"action.type":h.AD_DWELL_ACTION,dwell_time:3,retention_seconds:2592e3})})}function o(a){return a.map(function(a){return babelHelpers["extends"]({},a,{"action.type":h.AD_CLICK_ACTION,retention_seconds:2592e3})})}function p(a,b){return!a||a.length<=0||!b?-1:a.findIndex(function(a){return a["action.type"]===b["action.type"]&&a.post===b.post&&a.page_id===b.page_id&&a.campaign_group_id===b.campaign_group_id&&a.campaign_id===b.campaign_id&&a.ad_group_id===b.ad_group_id&&a.impression_count===b.impression_count&&a.retention_seconds===b.retention_seconds})}function f(a){if(!a)return"";switch(a["action.type"]){case h.FBEVENT_VIEW_ACTION:return i.pageEventViewers;case h.FBEVENT_RESPONSE_ACTION:return i.pageEventAttendees}return""}function q(a,b){b=p(a,b);b!==-1&&a.splice(b,1)}function r(a){switch(a){case i.viewedThreeSeconds:case i.viewedNintyFivePercent:case i.excludeViewedThreeSeconds:case i.excludeViewedNintyFivePercent:return g.VIDEOS;case i.impressionedAd:case i.dwelledOnAd:case i.clickedOnAd:case i.excludeImpressionedAd:case i.excludeDwelledOnAd:case i.excludeClickedOnAd:return g.ADS}return null}function s(a){switch(a){case i.viewedThreeSeconds:case i.viewedNintyFivePercent:case i.impressionedAd:case i.dwelledOnAd:case i.clickedOnAd:return j.ENGAGEMENT_SPECS;case i.excludeViewedThreeSeconds:case i.excludeViewedNintyFivePercent:case i.excludeImpressionedAd:case i.excludeDwelledOnAd:case i.excludeClickedOnAd:return j.EXCLUDED_ENGAGEMENT_SPECS;default:return null}}function t(a){var b=Object.keys(a),c=null;b.findIndex(function(b,d){c=b;return a[c]&&a[c].menuItems&&a[c].menuItems.length>0});return c}e.exports={adsEngagementSpecsTypesMap:j,engagementDetailsToEngagementSpecs:d,getCurrentEngagementKey:t,getEngagementType:f,getNewEngagementType:s,getNewSpecIndex:p,getPageIDsOfActionTypeFromEngagementSpecs:a,getSelectedMode:r,getTargetingLabel:c,spliceAnEntry:q}}),null);
__d("AdsPromotableEventListBatchBulkErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PROMOTABLE_EVENT.LIST.BATCH_BULK_ERROR";e.exports={actionType:a}}),null);
__d("AdsPromotableEventListBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PROMOTABLE_EVENT.LIST.BATCH_LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsPromotableEventListBatchBulkErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_EVENT.LIST.BATCH_BULK_ERROR");e.exports=a}),null);
__d("AdsPromotableEventListBatchBulkLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_EVENT.LIST.BATCH_BULK_LOADED");e.exports=a}),null);
__d("AdsPromotableEventListBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_EVENT.LIST.BATCH_LOADED");e.exports=a}),null);
__d("AdsPromotableEventListPartialLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_EVENT.LIST.PARTIAL_LOAD");e.exports=a}),null);
__d("AdsPromotableEventListDataManager",["AdsBaseListDataManager","AdsGraphAPI","AdsPromotableEventListBatchBulkErrorDataAction","AdsPromotableEventListBatchBulkLoadedDataAction","AdsPromotableEventListBatchLoadedDataAction","AdsPromotableEventListBatchLoadErrorDataAction","AdsPromotableEventListPartialLoadDataAction","GraphAPIPaging","GraphEdgeName","GraphEventFields","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=[b("GraphEdgeName").PICTURE,b("GraphEventFields").COVER,b("GraphEventFields").DESCRIPTION,b("GraphEventFields").HAS_TICKET_ONSALE_FOR_VIEWER,b("GraphEventFields").ID,b("GraphEventFields").IS_VIEWER_ADMIN,b("GraphEventFields").NAME,b("GraphEventFields").PLACE,b("GraphEventFields").START_TIME,b("GraphEventFields").TICKET_URI,b("GraphEventFields").OWNER];g=babelHelpers.inherits(a,b("AdsBaseListDataManager"));g&&g.prototype;a.prototype.loadFor=function(a){this.$AdsPromotableEventListDataManager1(a,!0),this.$AdsPromotableEventListDataManager1(a,!1)};a.prototype.$AdsPromotableEventListDataManager1=function(a,c){b("promiseDone")(b("AdsGraphAPI").get(e.id+".$AdsPromotableEventListDataManager1").me().edge(b("GraphEdgeName").PROMOTABLE_EVENTS).get({is_page_event:c,fields:h}).then(b("GraphAPIPaging").eachPage(function(c){return b("AdsPromotableEventListPartialLoadDataAction").dispatch({accountID:a,promotableEvents:c.data},{line:"61",module:"AdsPromotableEventListDataManager.js"})})),function(b){return this.__handleSuccess(["load"],a,null,b)}.bind(this),function(b){return this.__handleError(["load"],a,null,b)}.bind(this))};a.prototype.__onBatchLoaded=function(a){b("gkx")("677827")?b("AdsPromotableEventListBatchBulkLoadedDataAction").dispatch({responses:a},{line:"76",module:"AdsPromotableEventListDataManager.js"}):a.forEach(function(a,c){b("AdsPromotableEventListBatchLoadedDataAction").dispatch({accountID:c,promotableEvents:a.data},{line:"79",module:"AdsPromotableEventListDataManager.js"})})};a.prototype.__onBatchLoadError=function(a){b("gkx")("677827")?b("AdsPromotableEventListBatchBulkErrorDataAction").dispatch({responses:a},{line:"89",module:"AdsPromotableEventListDataManager.js"}):a.forEach(function(a,c){b("AdsPromotableEventListBatchLoadErrorDataAction").dispatch({accountID:c},{line:"92",module:"AdsPromotableEventListDataManager.js"})})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPromotableEventListPartialLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PROMOTABLE_EVENT.LIST.PARTIAL_LOAD";e.exports={actionType:a}}),null);
__d("AdsPromotableEventListStore",["AdsBaseConnectionObjectListStore","AdsConnectionObjectUtils","AdsEditorConfig","AdsLoadState_LEGACY","AdsPromotableEventListBatchBulkErrorDataActionFlux","AdsPromotableEventListBatchBulkLoadedDataActionFlux","AdsPromotableEventListBatchLoadedDataActionFlux","AdsPromotableEventListBatchLoadErrorDataActionFlux","AdsPromotableEventListDataManager","AdsPromotableEventListPartialLoadDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("AdsBaseConnectionObjectListStore"));h=g&&g.prototype;a.prototype.getDataManager=function(){return b("AdsPromotableEventListDataManager")};a.prototype.__onDispatch=function(a){__p&&__p();b("AdsEditorConfig").empl_show_all_pages&&h.__onDispatch.call(this,a);a=a.action;switch(a.actionType){case b("AdsPromotableEventListBatchBulkLoadedDataActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,a.data,b("AdsLoadState_LEGACY").LOADED)}.bind(this));break;case b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType:this.__handleDataFor(a.accountID,a.promotableEvents,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsPromotableEventListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.accountID,a.promotableEvents,b("AdsLoadState_LEGACY").LOADING);break;case b("AdsPromotableEventListBatchBulkErrorDataActionFlux").actionType:a.responses.forEach(function(a,c){this.__handleDataFor(c,null,b("AdsLoadState_LEGACY").ERROR)}.bind(this));break;case b("AdsPromotableEventListBatchLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.accountID,null,b("AdsLoadState_LEGACY").ERROR);break}};a.prototype.__filterConnectionObject=function(a){return b("AdsConnectionObjectUtils").isEvent(a)};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("ads-destinationType",["fbt","AdsDestinationTypes"],(function(a,b,c,d,e,f,g){__p&&__p();a={};a[b("AdsDestinationTypes").EXTERNAL_WEBPAGE]=g._("URL");a[b("AdsDestinationTypes").PAGE]=g._("Page");a[b("AdsDestinationTypes").APP]=g._("Application");a[b("AdsDestinationTypes").EVENT]=g._("Event");a[b("AdsDestinationTypes").GROUP]=g._("Group");a[b("AdsDestinationTypes").REVIEW]=g._("Review");a[b("AdsDestinationTypes").PLACE]=g._("Place");a[b("AdsDestinationTypes").DOMAIN]=g._("Domain");a[b("AdsDestinationTypes").SEARCH]=g._("Search");a[b("AdsDestinationTypes").ENTER_URL]=g._("Search by URL");a[b("AdsDestinationTypes").SEARCH_BY_ID]=g._("Search by Destination ID");c={};c[b("AdsDestinationTypes").EXTERNAL_WEBPAGE]=g._("URL");c[b("AdsDestinationTypes").PAGE]=g._("Pages");c[b("AdsDestinationTypes").APP]=g._("Applications");c[b("AdsDestinationTypes").EVENT]=g._("Events");c[b("AdsDestinationTypes").GROUP]=g._("Groups");c[b("AdsDestinationTypes").REVIEW]=g._("Reviews");c[b("AdsDestinationTypes").PLACE]=g._("Places");c[b("AdsDestinationTypes").DOMAIN]=g._("Domains");c[b("AdsDestinationTypes").PAGE_AND_PLACE]=g._("Pages and Places");c[b("AdsDestinationTypes").SEARCH]=g._("Search");c[b("AdsDestinationTypes").ENTER_URL]=g._("Search by URL");c[b("AdsDestinationTypes").SEARCH_BY_ID]=g._("Search by Destination ID");e.exports={DEST_TYPE_TO_NAME:a,DEST_TYPE_TO_NAME_PLURAL:c}}),null);
__d("AdsTargetingConnectionObjectSearchSource",["Promise","AdsDestinationTypes","AdsLoadStateUtils_LEGACY","AdsPageSelectorStore","AdsPromotableAppListStore","AdsPromotableAppStore","AdsPromotableEventListStore","AdsPromotableEventStore","AdsPromotablePageListStore","AdsPromotablePageStore","AdsStaticSearchSource","AdsStoreUtils","ApiPageFields","CurrentUser","GraphEventFields","ads-destinationType","flattenArray","isNumberLike"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Map();a=babelHelpers.inherits(i,b("AdsStaticSearchSource"));g=a&&a.prototype;i.getInstance=function(a,b){var c=i.getInstanceID(a,b);h.has(c)||h.set(c,new i(a,b));return h.get(c)};i.getInstanceID=function(a,b){a=String(a);b&&b.canQueryEvents&&(a+="_canQueryEvents");return a};function i(a,b){var c={getSubtitle:function(a){return a.__typeString||""}};g.constructor.call(this,a,c);c=i.getInstanceID(a,b);h.has(c);b&&(this.$AdsTargetingConnectionObjectSearchSource2=b.canQueryEvents);this.$AdsTargetingConnectionObjectSearchSource1=a}i.prototype.searchImpl=function(a,c,d){__p&&__p();if(!a){c([],a);return}var e=d&&d.searchForTypes;b("Promise").all(this.$AdsTargetingConnectionObjectSearchSource3(a,e)).then(function(e){e=b("flattenArray")(e).filter(function(a){return!!a.name});d=Object.assign(d||{},{searchByID:!0,shouldFilter:!1});e=this.getEntries(e||[],a,d);c(e,a)}.bind(this))["catch"](function(b){c([],a)})};i.prototype.$AdsTargetingConnectionObjectSearchSource3=function(a,c){var d=null;c&&(d=c.map(function(c){switch(c){case b("AdsDestinationTypes").PAGE:return this.$AdsTargetingConnectionObjectSearchSource4(a);case b("AdsDestinationTypes").APP:return this.$AdsTargetingConnectionObjectSearchSource5(a);case b("AdsDestinationTypes").EVENT:return this.$AdsTargetingConnectionObjectSearchSource6(a);default:return null}}.bind(this)).filter(Boolean));return d||[this.$AdsTargetingConnectionObjectSearchSource4(a),this.$AdsTargetingConnectionObjectSearchSource5(a),this.$AdsTargetingConnectionObjectSearchSource6(a)]};i.prototype.$AdsTargetingConnectionObjectSearchSource4=function(a){__p&&__p();return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotablePageListStore"),function(){return b("AdsPromotablePageListStore").getFor(this.$AdsTargetingConnectionObjectSearchSource1)}.bind(this)).then(function(c){var d=[].concat(c.list);b("CurrentUser").isEmployee()&&(d=d.concat(b("AdsPageSelectorStore").getUnownedPageIDs()),b("isNumberLike")(a)&&!d.includes(a)&&d.push(a));return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotablePageStore"),function(){return b("AdsPromotablePageStore").getAllFor(this.$AdsTargetingConnectionObjectSearchSource1,d)}.bind(this))}.bind(this)).then(function(a){return b("AdsLoadStateUtils_LEGACY").getLoadedValues(a).map(function(a){a=babelHelpers["extends"]({},a);a[b("ApiPageFields").NAME]=a[b("ApiPageFields").GLOBAL_BRAND_PAGE_NAME]||a[b("ApiPageFields").NAME];return babelHelpers["extends"]({},a,{__typeString:b("ads-destinationType").DEST_TYPE_TO_NAME[b("AdsDestinationTypes").PAGE]})})})};i.prototype.$AdsTargetingConnectionObjectSearchSource5=function(a){return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotableAppListStore"),function(){return b("AdsPromotableAppListStore").getFor(this.$AdsTargetingConnectionObjectSearchSource1)}.bind(this)).then(function(a){var c=a.list;return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotableAppStore"),function(){return b("AdsPromotableAppStore").getAllFor(this.$AdsTargetingConnectionObjectSearchSource1,c)}.bind(this))}.bind(this)).then(function(a){return b("AdsLoadStateUtils_LEGACY").getLoadedValues(a).map(function(a){return babelHelpers["extends"]({},a,{__typeString:b("ads-destinationType").DEST_TYPE_TO_NAME[b("AdsDestinationTypes").APP]})})})};i.prototype.$AdsTargetingConnectionObjectSearchSource6=function(a){__p&&__p();var c=new Set();return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotableEventListStore"),function(){return b("AdsPromotableEventListStore").getFor(this.$AdsTargetingConnectionObjectSearchSource1)}.bind(this)).then(function(d){var e=[].concat(d.list);c=new Set(e);this.$AdsTargetingConnectionObjectSearchSource2&&b("isNumberLike")(a)&&!e.includes(a)&&e.push(a);return b("AdsStoreUtils").promiseAsyncGetForSyncStore(b("AdsPromotableEventStore"),function(){return b("AdsPromotableEventStore").getAllFor(this.$AdsTargetingConnectionObjectSearchSource1,e)}.bind(this))}.bind(this)).then(function(a){a=b("AdsLoadStateUtils_LEGACY").getLoadedValues(a);return a.filter(function(event){return this.$AdsTargetingConnectionObjectSearchSource7(c,event)}.bind(this)).map(function(a){return babelHelpers["extends"]({},a,{__typeString:b("ads-destinationType").DEST_TYPE_TO_NAME[b("AdsDestinationTypes").EVENT]})})}.bind(this))};i.prototype.$AdsTargetingConnectionObjectSearchSource7=function(a,event){return a.has(event[b("GraphEventFields").ID])||this.$AdsTargetingConnectionObjectSearchSource2&&event[b("GraphEventFields").IS_VIEWER_ADMIN]};e.exports=i}),null);
__d("AdsTargetingEventEngagementComponent.react",["cx","AdsDestinationTypes","AdsEngagementSpecsUIUtils","AdsFIGBasicTokenizer.react","AdsLoadStateUtils_LEGACY","AdsPromotablePageStore","AdsTargetingConnectionObjectSearchSource","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","React","ReactFragment","SearchableEntry","SubscriptionsHandler","XUISelector.react","XUISelectorButton.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsTargetingConnectionsMenuOptions").engagementActions,j=b("AdsTargetingConnectionsMenuOptions").menuOptions,k=b("AdsTargetingConnectionsMenuOptions").optionName,l=b("XUISelector.react").Option;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={secondaryOptionSelected:null},this.$1=function(){var a=j.eventEngagementOptions;if(!a||!a.children||!a.children.length)return null;var c={};a.children.forEach(function(a){c[a.toggleName]=b("React").createElement(l,{key:String(a.toggleName)+"_option",value:a.toggleName},a.name)});return c},this.$2=function(){if(this.state.secondaryOptionSelected)return this.state.secondaryOptionSelected;var a=j.eventEngagementOptions;return!a||!a.children||!a.children.length?"":a.children[0].toggleName}.bind(this),this.$3=function(a){this.setState({secondaryOptionSelected:a.value})}.bind(this),this.$4=function(a){switch(a){case k.pageEventViewers:return this.$7(k.pageEventViewers);case k.pageEventAttendees:return this.$7(k.pageEventAttendees)}return[]}.bind(this),this.$7=function(a){return this.$8(this.props.accountID,this.props.engagementSpecs||[],a)}.bind(this),this.$6=function(a){switch(a){case k.pageEventViewers:return this.$9;case k.pageEventAttendees:return this.$10}}.bind(this),this.$9=function(a){this.$11(a,k.pageEventViewers)}.bind(this),this.$10=function(a){this.$11(a,k.pageEventAttendees)}.bind(this),this.$11=function(a,c){a=a.map(function(a){return{id:a.getUniqueID()}});a=b("AdsEngagementSpecsUIUtils").engagementDetailsToEngagementSpecs(a,c);a=a?a.engagementSpecs:[];var d=this.props.engagementSpecs||[];this.$12(d,a,c)}.bind(this),this.$12=function(a,c,d){d=this.$13(a,c,d);a=d.length!==a.length;c=this.$14(d,c);a=a||!!c.length;d.push.apply(d,c);a&&(this.props.changeEngagements&&this.props.changeEngagements(d,null),this.props.logEventCallback&&this.props.logEventCallback(b("AdsTargetingConnectionsLoggingEvents").UPDATE_ENGAGEMENT_SPECS,{engagementSpecs:d}));return a}.bind(this),this.$13=function(a,c,d){return a.filter(function(a){return b("AdsEngagementSpecsUIUtils").getEngagementType(a)!==d||b("AdsEngagementSpecsUIUtils").getNewSpecIndex(c,a)!==-1})},this.$14=function(a,c){return c.filter(function(c){c=b("AdsEngagementSpecsUIUtils").getNewSpecIndex(a,c);return c===-1})},this.$5=function(a,b){return b.validEntryTypes&&b.validEntryTypes.length&&b.validEntryTypes.indexOf(a.type)===-1?!1:!0},c}a.prototype.UNSAFE_componentWillMount=function(){this.subscriptions=new(b("SubscriptionsHandler"))(),this.subscriptions.addSubscriptions(b("AdsPromotablePageStore").addListener(this.forceUpdate.bind(this,b("emptyFunction"))))};a.prototype.componentWillUnmount=function(){this.subscriptions.release()};a.prototype.render=function(){var a=this.$1();if(!a)return null;var c=this.$2();return b("React").createElement("div",null,b("React").createElement(b("XUISelector.react"),{className:"_3-8x",value:c,onChange:this.$3},b("React").createElement(b("XUISelectorButton.react"),{maxwidth:0,size:this.props.buttonSize}),b("ReactFragment").create(a)),b("React").createElement(b("AdsFIGBasicTokenizer.react"),{entries:this.$4(c),placeholder:b("AdsTargetingConnectionsLabels").addPage,searchSource:b("AdsTargetingConnectionObjectSearchSource").getInstance(this.props.accountID,{}),searchSourceOptions:{shouldFilter:!0,filterEntry:this.$5,validEntryTypes:[b("AdsDestinationTypes").PAGE,b("AdsDestinationTypes").PLACE,b("AdsDestinationTypes").PAGE_AND_PLACE],searchForType:b("AdsDestinationTypes").PAGE},size:this.props.buttonSize,onEntriesChange:this.$6(c)}))};a.prototype.$8=function(a,c,d){__p&&__p();var e=null;switch(d){case k.pageEventViewers:e=i.FBEVENT_VIEW_ACTION;break;case k.pageEventAttendees:e=i.FBEVENT_RESPONSE_ACTION;break}if(!e||!c)return[];d=b("AdsEngagementSpecsUIUtils").getPageIDsOfActionTypeFromEngagementSpecs(c,e);if(d.length===0)return[];c=b("AdsPromotablePageStore").getAllFor(a,d);e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c)||[];return e.map(function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name})})};a.propTypes={accountID:c.string.isRequired,changeEngagements:c.func,engagementSpecs:c.array,logEventCallback:c.func,buttonSize:c.string};a.defaultProps={changeEngagements:b("emptyFunction"),engagementSpecs:[],logEvent:b("emptyFunction"),size:"large"};e.exports=a}),null);
__d("AdsTargetingConnectionsEditorV2.react",["cx","AdsAccountStore_DEPRECATED","AdsCommonTargetingField","AdsCommonTargetingFields","AdsConnectionsUIUtils","AdsDestinationTypes","AdsFIGBasicTokenizer.react","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsInterfacesLogger","AdsLearnMore.react","AdsLoadState_LEGACY","AdsPromotableAppStore","AdsPromotableConnectionTypeStore","AdsPromotableEventStore","AdsPromotablePageStore","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","AdsTargetingConnectionsSectionNUX.react","AdsTargetingEventEngagementComponent.react","AdsTargetingLoadTimeActions","AdsTargetingWebdriverIDs","BUIAdoptionCloseButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSDropdownSelectorSeparator.react","FDSSimplePopover.react","FDSSpinner.react","React","SearchableEntry","SubscriptionsHandler","emptyFunction","performanceNow","setImmediate","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsTargetingConnectionsMenuOptions").connectionStatuses,j=b("AdsTargetingConnectionsMenuOptions").connectionsType,k=b("AdsTargetingConnectionsMenuOptions").menuOptions,l=b("AdsTargetingConnectionsMenuOptions").optionName,m={APP_TARGETING:100,MAIN:101,CUSTOM_CMS_ID:"1819812758298988"};function n(a){return a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name||a.id})})}function o(a){return a.map(function(a){return{id:a.getUniqueID(),name:a.getTitle()}})}c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,c){__p&&__p();h.constructor.call(this,a,c);this.$1=!1;this.$2={includedConnections:null,excludedConnections:null,friendsOfConnections:null};this.$7=function(){var a=this.$5(this.props.accountID,this.props.targetingData,this.state.connectionStatus,{secondaryConnectionsOption:this.state.secondaryOption});this.setState(a)}.bind(this);this.$14=function(a,c){__p&&__p();var d=[],e=[],f=[],g=c.includedConnections.filter(function(a){if(!a.name){d.push(a.id);return!1}return!0}),h=c.friendsOfConnections.filter(function(a){if(!a.name){e.push(a.id);return!1}return!0});c=c.excludedConnections.filter(function(a){if(!a.name){f.push(a.id);return!1}return!0});this.props.changeConnections({includedConnections:g.concat(b("AdsConnectionsUIUtils").loadConnections(a,d)),friendsOfConnections:h.concat(b("AdsConnectionsUIUtils").loadConnections(a,e)),excludedConnections:c.concat(b("AdsConnectionsUIUtils").loadConnections(a,f))})}.bind(this);this.$16=function(a){a=o(a);var c={includedConnections:a,excludedConnections:this.props.targetingData.excludedConnections};a=this.$15(this.props.targetingData.excludedConnections,a);a.length!==this.props.targetingData.excludedConnections.length&&(c.excludedConnections=a);this.$17(b("AdsTargetingConnectionsLoggingEvents").UPDATE_INCLUDED_CONNECTIONS,c);this.props.changeConnections(c)}.bind(this);this.$18=function(a){a=o(a);var c={excludedConnections:a,includedConnections:this.props.targetingData.includedConnections};a=this.$15(this.props.targetingData.includedConnections,a);a.length!==this.props.targetingData.includedConnections.length&&(c.includedConnections=a);this.$17(b("AdsTargetingConnectionsLoggingEvents").UPDATE_EXCLUDED_CONNECTIONS,c);this.props.changeConnections(c)}.bind(this);this.$19=function(a){a=o(a);a={friendsOfConnections:a};this.$17(b("AdsTargetingConnectionsLoggingEvents").UPDATE_FRIENDS_OF_CONNECTIONS,a);this.props.changeConnections(a)}.bind(this);this.$21=function(a){__p&&__p();var c=this.$20(a),d=this.state.connectionStatus;if(c===a&&a!==k.advancedOptions.toggleName)return;if(c===d&&a===this.state.secondaryOption)return;var e=this.$22(c);(d===i.ADVANCED||d===i.APPS||d===i.EVENTS||d===i.PAGES)&&(this.$2={includedConnections:this.props.targetingData.includedConnections,excludedConnections:this.props.targetingData.excludedConnections,friendsOfConnections:this.props.targetingData.friendsOfConnections});(d===i.EVENTS_ENGAGEMENT&&this.props.canSeeEventEngagementOptions||d===i.ADVANCED&&this.$23())&&(this.$3=this.props.targetingData.engagementSpecs||[],this.$4=this.props.targetingData.excludedEngagementSpecs||[]);var f={},g;switch(c){case k.advancedOptions.toggleName:var h=this.$2||{};f={includedConnections:h.includedConnections||[],excludedConnections:h.excludedConnections||[],friendsOfConnections:h.friendsOfConnections||[]};this.$23()&&(h=this.$3||[],g=this.$4||[],this.props.changeEngagements(h,g));break;case k.appOptions.toggleName:case k.eventOptions.toggleName:case k.pageOptions.toggleName:e===d?this.$24(a):f=this.$25();this.$23()&&(this.$3=[],this.$4=[],this.props.changeEngagements([],[]));break;case k.eventEngagementOptions.toggleName:f=this.$25();this.$23()&&(this.$2=f,e!==d&&this.props.changeEngagements([],[]));break;default:return}this.$17(b("AdsTargetingConnectionsLoggingEvents").SELECT_MENU,{menuName:c});this.props.changeConnections(f);var j=c===a?null:a;b("setImmediate")(function(){this.setState({connectionStatus:e,secondaryOption:j,disableNUX:!0})}.bind(this))}.bind(this);this.$26=function(){this.$17(b("AdsTargetingConnectionsLoggingEvents").CLEAR_TARGETING,{connectionStatus:i.ALL}),this.$2={},this.$23()&&(this.$3=[],this.$4=[],this.props.changeEngagements([],[])),this.props.changeConnections(this.$25()),b("setImmediate")(function(){this.setState({connectionStatus:i.ALL,secondaryOption:null,disableNUX:!0})}.bind(this))}.bind(this);this.$24=function(a){__p&&__p();if(b("AdsConnectionsUIUtils").shouldHideOption(this.props.shouldHideExcludedConnections,a)){this.setState({secondaryOption:null});return}b("setImmediate")(function(){this.setState({secondaryOption:a})}.bind(this));var c=this.props.targetingData.includedConnections.concat(this.props.targetingData.excludedConnections,this.props.targetingData.friendsOfConnections),d=this.$25();switch(this.$39(a)){case j.includedConnection:d.includedConnections=c;break;case j.excludedConnection:d.excludedConnections=c;break;case j.friendsOfConnection:d.friendsOfConnections=c;break}this.$17(b("AdsTargetingConnectionsLoggingEvents").CHANGE_TARGETING_TYPE,d);this.props.changeConnections(d)}.bind(this);c=this.$5(a.accountID,a.targetingData,null,{secondaryConnectionsOption:null});c.disableNUX=!1;this.state=c;this.$6(a.onFinishedLoading)}a.prototype.$6=function(a){!this.$1&&!this.state.isLoading&&(this.$1=!0,b("AdsTargetingLoadTimeActions").componentDidFinishLoadingEntries("AdsCommonTargetingConnectionsEditor",b("performanceNow")()),a())};a.prototype.UNSAFE_componentWillMount=function(){this.subscriptions=new(b("SubscriptionsHandler"))();var a=[b("AdsAccountStore_DEPRECATED"),b("AdsPromotableAppStore"),b("AdsPromotableEventStore"),b("AdsPromotablePageStore"),b("AdsPromotableConnectionTypeStore")];a.forEach(function(a){this.subscriptions.addSubscriptions(a.addListener(this.$7))}.bind(this))};a.prototype.componentWillUnmount=function(){this.subscriptions.release()};a.prototype.componentDidUpdate=function(){this.$6(this.props.onFinishedLoading)};a.prototype.$5=function(a,c,d,e){__p&&__p();var f=null,g=b("AdsAccountStore_DEPRECATED").get(a),h=this.$8(c);if(h&&!this.$9(a,c))return{isLoading:!0};e&&(f=e.secondaryConnectionsOption);e=b("AdsConnectionsUIUtils").getConnectionStatus(a,c,d);if(e===b("AdsLoadState_LEGACY").LOADING)return{isLoading:!0};if(g.loadState===b("AdsLoadState_LEGACY").LOADING)return{connectionStatus:e,isLoading:!0};a=null;e!=null&&(a=b("AdsConnectionsUIUtils").getSelectedOption(e,c,f));return{account:g,connectionStatus:e,secondaryOption:a,isLoading:!1,shouldLoadData:h}};a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=this.$10(a)?null:this.state.connectionStatus;a=this.$5(a.accountID,a.targetingData,b,{secondaryConnectionsOption:this.state.secondaryOption});this.setState(a)};a.prototype.$10=function(a){return this.props.selectedCampaignID!==a.selectedCampaignID};a.prototype.$11=function(){return n(this.props.targetingData.includedConnections)};a.prototype.$12=function(){return n(this.props.targetingData.excludedConnections)};a.prototype.$13=function(){return n(this.props.targetingData.friendsOfConnections)};a.prototype.$8=function(a){return(a.includedConnections||[]).concat(a.friendsOfConnections||[]).concat(a.excludedConnections||[]).some(function(a){return!a.name})};a.prototype.$9=function(a,c){c=(c.includedConnections||[]).concat(c.friendsOfConnections||[]).concat(c.excludedConnections||[]).reduce(function(a,b){b.name||a.push(b.id);return a},[]);return b("AdsConnectionsUIUtils").areConnectionsLoaded(a,c)};a.prototype.$15=function(a,b){var c=new Set(b.map(function(a){return a.id}));return a.filter(function(a){return!c.has(a.id)})};a.prototype.$20=function(a){var b=null;k.allOptions.forEach(function(c){c.toggleName&&a===c.toggleName?b=c.toggleName:c.children&&c.children.length&&c.children.forEach(function(d){d.toggleName&&a===d.toggleName&&(b=c.toggleName)})});return b};a.prototype.$25=function(){return{includedConnections:[],excludedConnections:[],friendsOfConnections:[]}};a.prototype.$22=function(a){switch(a){case k.advancedOptions.toggleName:return i.ADVANCED;case k.appOptions.toggleName:return i.APPS;case k.eventOptions.toggleName:return i.EVENTS;case k.eventEngagementOptions.toggleName:return i.EVENTS_ENGAGEMENT;case k.pageOptions.toggleName:return i.PAGES}return i.NONE};a.prototype.$23=function(){return this.props.canSeeEventEngagementOptions};a.prototype.render=function(){__p&&__p();if(this.state.isLoading)return b("React").createElement(b("FDSSpinner.react"),null);this.state.shouldLoadData&&this.$14(this.props.accountID,this.props.targetingData);var a=this.state.connectionStatus,c=this.state.secondaryOption!==l.friendsConnectedToEvent,d=this.props.shouldHideFriendsOfConnections;c&&(d=d||a===i.EVENTS||a===i.EVENTS_ENGAGEMENT);var e={};a!=null&&(e=b("AdsConnectionsUIUtils").getConfig(a,this.props.shouldHideExcludedConnections,d));if(a===i.ADVANCED)var f=b("React").createElement("div",{className:"_3-8w",key:"advanced_options"},this.$27(j.includedConnection),this.$27(j.friendsOfConnection),this.$27(j.excludedConnection),this.$28(a));else if(a===i.APPS||a===i.EVENTS||a===i.PAGES)var g=this.$29(e);else a===i.EVENTS_ENGAGEMENT&&(g=this.$28(a));d=b("AdsConnectionsUIUtils").getMenuOptions({canSeeEventEngagementOptions:this.$30(),objective:this.props.objectiveData.objective,shouldHideExcludedConnections:this.props.shouldHideExcludedConnections,shouldHideFriendsOfConnections:this.props.shouldHideFriendsOfConnections,shouldHideAppConnections:this.props.shouldHideAppConnections,shouldHideEventFriendsOfConnections:c});c=b("React").createElement(b("BUIAdoptionCloseButton.react"),{key:"reset_button",margin:"_3-9a",onClick:this.$26});return b("React").createElement("div",{className:"uiContextualLayerParent _50hk",style:{width:this.props.width}},b("React").createElement(b("AdsInfoTable.react"),{oneColumn:this.props.oneColumn,sectionborders:!0},b("React").createElement(b("AdsInfoTableSection.react"),{key:m.MAIN},b("React").createElement(b("AdsInfoTableRow.react"),{helpLink:b("React").createElement(b("FDSSimplePopover.react"),{content:this.$31(),contentWidthUseSparingly:268,position:"above"}),label:b("AdsTargetingConnectionsLabels").connections,rowRenderer:this.props.rowRenderer},b("React").createElement(b("AdsCommonTargetingField"),{className:"_1p1j","data-testid":b("AdsTargetingWebdriverIDs").TARGETING_CONNECTIONS,id:b("AdsCommonTargetingFields").CONNECTIONS},b("React").createElement(b("FDSDropdownSelector.react"),{canCollapseGroups:!1,label:e.label,value:this.$32(),onChange:this.$21},d.map(function(a){if(a.children&&a.children.length)return this.$33(a);return a.name===l.menuSeparator?b("React").createElement(b("FDSDropdownSelectorSeparator.react"),{key:"menu_separator"}):this.$34(a)}.bind(this))),a===i.ALL?null:c,b("React").createElement(b("AdsTargetingConnectionsSectionNUX.react"),{account:this.state.account,disableNUX:this.state.disableNUX,key:"nux"}),f,g)))))};a.prototype.$33=function(a){return b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{key:a.name,label:a.name},a.children.map(this.$34))};a.prototype.$34=function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.toggleName,value:a.toggleName},a.name)};a.prototype.$32=function(){return this.state.connectionStatus===i.ALL?null:this.state.secondaryOption};a.prototype.$31=function(){return b("React").createElement("div",null,b("AdsTargetingConnectionsLabels").connectionsHelplink," ",b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("AdsLearnMore.react"),{cmsID:m.CUSTOM_CMS_ID,isStandalone:!0})))};a.prototype.$30=function(){if(!this.props.canSeeEventEngagementOptions)return!1;var a=b("AdsTargetingConnectionsMenuOptions").engagementActions;return this.props.targetingData.engagementSpecs.some(function(b){return b["action.type"]===a.FBEVENT_VIEW_ACTION||b["action.type"]===a.FBEVENT_RESPONSE_ACTION})};a.prototype.$28=function(a){return!this.$30()?null:b("React").createElement(b("AdsTargetingEventEngagementComponent.react"),{accountID:this.props.accountID,changeEngagements:this.props.changeEngagements,engagementSpecs:this.props.targetingData.engagementSpecs,key:"events_engagement_options",logEvent:this.$17,size:this.props.size})};a.prototype.$27=function(a){__p&&__p();var c=null;a===j.friendsOfConnection?c=b("AdsTargetingConnectionsLabels").addAppOrPage:this.props.canQueryEvents?c=b("AdsTargetingConnectionsLabels").addAppOrPageOrEventOrEventID:c=b("AdsTargetingConnectionsLabels").addAppOrEventOrPage;var d=null,e=null,f=null,g=null,h=null,i=null;switch(a){case j.includedConnection:f=this.$11();g=this.$16;h=this.$35();d=b("AdsTargetingConnectionsLabels").peopleConnectedTo;e=b("AdsTargetingConnectionsLabels").peopleConnectedToHelpLink;break;case j.excludedConnection:if(this.props.shouldHideExcludedConnections)return null;f=this.$12();g=this.$18;h=this.$35();d=b("AdsTargetingConnectionsLabels").excludePeopleConnectedTo;e=b("AdsTargetingConnectionsLabels").excludePeopleConnectedToHelpLink;break;case j.friendsOfConnection:if(this.props.shouldHideFriendsOfConnections)return null;f=this.$13();g=this.$19;d=b("AdsTargetingConnectionsLabels").friendsOfPeopleConnectedTo;e=b("AdsTargetingConnectionsLabels").friendsOfPeopleConnectedToHelpLink;i={searchForTypes:[b("AdsDestinationTypes").PAGE,b("AdsDestinationTypes").APP]};break;default:return null}return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-94"},d,b("React").createElement(b("FDSSimplePopover.react"),{content:e,contentWidthUseSparingly:268,position:"above"})),b("React").createElement(b("AdsFIGBasicTokenizer.react"),{className:"_1p1k",entries:f,excludedEntries:h,placeholder:c,searchSource:this.props.searchSource,searchSourceOptions:i,shouldShowIDInTitle:!0,size:this.props.size,onEntriesChange:g}))};a.prototype.$29=function(a){var c=a.options||{};if(!c||!c.children||!c.children.length)return null;var d={shouldFilter:!0,filterEntry:this.$36,validEntryTypes:a.searchSourceOptionsValidEntryTypes,searchForTypes:a.searchSourceOptionTypes},e=this.state.secondaryOption;c=b("React").createElement(b("FDSDropdownSelector.react"),{key:"secondary_selector",margin:"_3-8x",value:e,onChange:this.$24},c.children.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.toggleName,value:a.toggleName},a.name)}));var f=this.$37(e);a=!f||f.length===0?a.placeholder:a.secondPlaceholder;return b("React").createElement("div",{key:"secondary_options"},c,b("React").createElement(b("AdsFIGBasicTokenizer.react"),{className:"_1p1k",entries:f,key:"tokenizer",placeholder:a,searchSource:this.props.searchSource,searchSourceOptions:d,shouldShowIDInTitle:!0,size:this.props.size,onEntriesChange:this.$38(e)}))};a.prototype.$39=function(a){switch(a){case l.connectedToApp:case l.connectedToEvent:case l.connectedToPage:return j.includedConnection;case l.excludeConnectedToApp:case l.excludeConnectedToEvent:case l.excludeConnectedToPage:return j.excludedConnection;case l.friendsConnectedToApp:case l.friendsConnectedToEvent:case l.friendsConnectedToPage:return j.friendsOfConnection}return""};a.prototype.$37=function(a){switch(this.$39(a)){case j.includedConnection:return this.$11();case j.excludedConnection:return this.$12();case j.friendsOfConnection:return this.$13()}return[]};a.prototype.$38=function(a){switch(this.$39(a)){case j.includedConnection:return this.$16;case j.excludedConnection:return this.$18;case j.friendsOfConnection:return this.$19}return null};a.prototype.$36=function(a,b){return b.validEntryTypes&&b.validEntryTypes.length&&b.validEntryTypes.indexOf(a.type)===-1?!1:!0};a.prototype.$17=function(a,c){b("AdsInterfacesLogger").log({eventName:a},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.$35=function(){var a=this.props.targetingData.includedConnections,b=this.props.targetingData.excludedConnections;a=a.concat(b);var c={};a.forEach(function(a){c[a.id]=!0});return c};a.defaultProps={canQueryEvents:!1,canSeeEventEngagementOptions:!1,shouldHideFriendsOfConnections:!1,shouldHideExcludedConnections:!1,shouldHideAppConnections:!1,onFinishedLoading:b("emptyFunction")};e.exports=a}),null);