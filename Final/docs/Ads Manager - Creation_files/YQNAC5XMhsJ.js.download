if (self.CavalryLogger) { CavalryLogger.start_js(["HIiYt"]); }

__d("AdsDeliveryTaxRateDisplayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"legacyAccountId",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"legacy_account_id",variableName:"legacyAccountId",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"currency",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"account_business_info",storageKey:null,args:null,concreteType:"AdAccountBusinessInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tax_rate_in_sv_for_local_entity",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"AdsDeliveryTaxRateDisplayQuery",id:"1658582740931502",text:null,metadata:{},fragment:{kind:"Fragment",name:"AdsDeliveryTaxRateDisplayQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"ad_account",storageKey:null,args:b,concreteType:"AdAccount",plural:!1,selections:[c,d]}]},operation:{kind:"Operation",name:"AdsDeliveryTaxRateDisplayQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"ad_account",storageKey:null,args:b,concreteType:"AdAccount",plural:!1,selections:[c,d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("BillingExperiencesEstimatedTax.react",["fbt","AdsCurrencyFormatter","FDSDivider.react","FDSSimplePopover.react","FDSText.react","InlineBlock.react","LeftRight.react","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},b("React").createElement(b("LeftRight.react"),null,(c=a.budgetLabel)!=null?c:g._("Budget"),b("AdsCurrencyFormatter").formatCurrencyWithISO(a.currency,a.budget))),b("React").createElement(b("FDSDivider.react"),{margin:"_3-8n"}),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("InlineBlock.react"),null,(c=a.estimatedTaxLabel)!=null?c:g._("Estimated Tax"),a.enableEstimatedTaxToolTip&&b("React").createElement(b("FDSSimplePopover.react"),{content:"Estimated tax includes Goods and Services Tax (GST) tax only."})),b("AdsCurrencyFormatter").formatCurrencyWithISO(a.currency,a.budget*a.taxRate))),b("React").createElement(b("FDSDivider.react"),{margin:"_3-8n"}),b("React").createElement(b("FDSText.react"),{size:"meta1",weight:"bold"},b("React").createElement(b("LeftRight.react"),null,(c=a.totalLabel)!=null?c:g._("Total Budget"),b("AdsCurrencyFormatter").formatCurrencyWithISO(a.currency,a.budget*(1+a.taxRate)))))};a.defaultProps={enableEstimatedTaxToolTip:!0};e.exports=a}),null);
__d("AdsDeliveryTaxRateDisplay.react",["fbt","AdsAPIAccountPaths","AdsBulkValueUtils","AdsCampaignUtils","AdsDeliveryBudgetModes","AdsDeliveryContainerUtils","AdsDeliveryUIConstants","AdsErrorBoundary.react","BillingExperiencesEstimatedTax.react","BUIFormElement.react","DateConsts","DateTime","FDSSpinner.react","React","RelayFBEnvironment","RelayModern","getByPath","AdsDeliveryTaxRateDisplayQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsDeliveryUIConstants").CampaignScheduleModes;c=b("React").Component;d=b("React").PropTypes;var j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=function(){return b("AdsDeliveryTaxRateDisplayQuery.graphql")};f=babelHelpers.inherits(a,c);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$5=function(a){__p&&__p();var c=a.props;a=a.error;var d=this.$4();if(d==null)return null;if(a)return b("React").createElement("div",null,a.message);else if(c){a=c.ad_account.currency||"";c=c.ad_account.account_business_info;c=c!=null?c.tax_rate_in_sv_for_local_entity!=null?c.tax_rate_in_sv_for_local_entity:0:0;return c===0?null:b("React").createElement(b("BUIFormElement.react"),{helpText:"Total budget is a combination of Ad Budget and Estimated tax (GST)",helpTextPosition:"above",label:"Payment"},b("React").createElement(b("AdsErrorBoundary.react"),null,b("React").createElement("div",{style:{minWidth:"260px"}},b("React").createElement(b("BillingExperiencesEstimatedTax.react"),{budget:d,budgetLabel:g._("Ad Set Budget"),currency:a,enableEstimatedTaxToolTip:!1,taxRate:c}))))}return b("React").createElement("div",null,b("React").createElement(b("FDSSpinner.react"),null))}.bind(this),c}a.prototype.$1=function(a,c){a=a.getTime()-a.getSeconds()*b("DateConsts").MS_PER_SEC-a.getMilliseconds();return b("DateTime").fromLegacyArgs(a,c).toDate()};a.prototype.$2=function(a,c){a=b("AdsDeliveryContainerUtils").getStartDate(a,c);return!a?null:this.$1(a,c)};a.prototype.$3=function(a,c){a=b("AdsDeliveryContainerUtils").getEndDate(a,c);return!a?null:this.$1(a,c)};a.prototype.$4=function(){__p&&__p();var a=this.context.getApiSpec(),c=this.context.getExtraData();c=c.account;var d=b("AdsBulkValueUtils").getUniformValue(b("AdsDeliveryContainerUtils").getBudgetAmount(a),null);if(d==null)return null;var e=b("AdsBulkValueUtils").getUniformValue(b("AdsDeliveryContainerUtils").getBudgetMode(a),null);c=b("getByPath")(c,b("AdsAPIAccountPaths").TIMEZONE_ID);var f=b("AdsDeliveryContainerUtils").getScheduleMode(a,this.props.isNewCampaign);if(e===b("AdsDeliveryBudgetModes").LIFETIME)return d;if(f===i.CONTINUOUSLY)return d*7;e=this.$2(a,c);f=this.$3(a,c);if(!e||!f)return null;a=b("AdsCampaignUtils").getCampaignDayCount(e,f);return d*a};a.prototype.render=function(){var a=this.context.getExtraData();a=a.account;var c=this.context.getApiSpec();a=a.account_id;return b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:k,render:this.$5,variables:{api:c,legacyAccountId:a}})};a.contextTypes={getApiSpec:d.func.isRequired,getExtraData:d.func.isRequired};a.displayName="AdsDeliveryTaxRateDisplay";a.webdriverID="tax_rate_display";a.shouldRender=function(a){return!0};e.exports=a}),null);
__d("AdsUEditorCampaignDeliveryTaxRateDisplayContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"legacyAccountId",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"legacy_account_id",variableName:"legacyAccountId",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"currency",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"account_business_info",storageKey:null,args:null,concreteType:"AdAccountBusinessInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tax_rate_in_sv_for_local_entity",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"AdsUEditorCampaignDeliveryTaxRateDisplayContainerQuery",id:"1698098453628795",text:null,metadata:{},fragment:{kind:"Fragment",name:"AdsUEditorCampaignDeliveryTaxRateDisplayContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"ad_account",storageKey:null,args:b,concreteType:"AdAccount",plural:!1,selections:[c,d]}]},operation:{kind:"Operation",name:"AdsUEditorCampaignDeliveryTaxRateDisplayContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"ad_account",storageKey:null,args:b,concreteType:"AdAccount",plural:!1,selections:[c,d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}}();e.exports=a}),null);
__d("adsUEditorCampaignDeliveryTaxRateDisplaySelector",["AdsAPICampaignPaths","AdsBaseCampaignUtils","AdsBulkValueUtils","AdsCampaignUtils","AdsDeliveryBudgetModes","AdsDeliveryScheduleUtils","AdsDeliveryUIConstants","AdsMixedValue","AdsUEditorCampaignBulkSelectors","DateTime","adsCreateSelector","adsCreateStructuredSelector","adsGetUniformValueSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsDeliveryUIConstants").CampaignScheduleModes;function h(a,c){a=b("AdsBulkValueUtils").getUniformValue(a);a=a!=null?b("DateTime").fromISOString(a,c).toDate():null;return a!=null?b("AdsDeliveryScheduleUtils").getDateToClosestMinute(a,c):null}a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").START_TIME),b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").END_TIME),b("adsGetUniformValueSelector")(b("AdsUEditorCampaignBulkSelectors").selectorByCampaignFn(b("AdsCampaignUtils").getBudgetAmount)),b("adsGetUniformValueSelector")(b("AdsUEditorCampaignBulkSelectors").selectorByCampaignFn(b("AdsCampaignUtils").getBudgetMode))],function(a,c,d,e,f){__p&&__p();a=a.timezone_id;if(e==null)return null;var i=d instanceof b("AdsMixedValue")?g.MIXED:b("AdsBulkValueUtils").getUniformValue(d)==null?g.CONTINUOUSLY:g.SCHEDULED;if(f===b("AdsDeliveryBudgetModes").LIFETIME)return e;if(i===g.CONTINUOUSLY)return e*7;f=h(c,a);i=h(d,a);if(!f||!i)return null;c=b("AdsBaseCampaignUtils").getCampaignDayCountFrom(f,i);return e*c},{name:e.id+".budgetSelector"});c=b("adsCreateSelector")([b("adsUEditorAccountSelector")],function(a){return a.account_id},{name:e.id+".accountIDSelector"});d=b("adsCreateStructuredSelector")({accountID:c,budget:a},e.id+".adsUEditorCampaignDeliveryTaxRateDisplaySelector");e.exports=d}),null);
__d("AdsUEditorCampaignDeliveryTaxRateDisplayContainer.react",["fbt","AdsErrorBoundary.react","AdsFluxContainer","AdsUEditorContextType","BillingExperiencesEstimatedTax.react","BUIFormElement.react","FDSSpinner.react","React","RelayFBEnvironment","RelayModern","adsUEditorCampaignDeliveryTaxRateDisplaySelector","AdsUEditorCampaignDeliveryTaxRateDisplayContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=function(){return b("AdsUEditorCampaignDeliveryTaxRateDisplayContainerQuery.graphql")};c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){__p&&__p();var c=a.props;a=a.error;if(this.state.budget==null)return null;if(a)return b("React").createElement("div",null,a.message);else if(c){a=c.ad_account.currency||"";c=c.ad_account.account_business_info;c=c!=null?c.tax_rate_in_sv_for_local_entity!=null?c.tax_rate_in_sv_for_local_entity:0:0;return c===0?null:b("React").createElement(b("BUIFormElement.react"),{helpText:"Total budget is a combination of Ad Budget and Estimated tax (GST)",helpTextPosition:"above",label:"Payment"},b("React").createElement(b("AdsErrorBoundary.react"),null,b("React").createElement("div",{style:{minWidth:"260px"}},b("React").createElement(b("BillingExperiencesEstimatedTax.react"),{budget:this.state.budget,budgetLabel:g._("Ad Set Budget"),currency:a,enableEstimatedTaxToolTip:!1,taxRate:c}))))}return b("React").createElement("div",null,b("React").createElement(b("FDSSpinner.react"),null))}.bind(this),c}a.getStores=function(a,c){a=c.campaignEditorContext;return b("adsUEditorCampaignDeliveryTaxRateDisplaySelector").getStores(a)};a.calculateState=function(a,c,d){a=d.campaignEditorContext;return b("adsUEditorCampaignDeliveryTaxRateDisplaySelector")(a)};a.prototype.render=function(){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:j,render:this.$1,variables:{legacyAccountId:this.state.accountID}})};a.contextTypes=b("AdsUEditorContextType").campaign;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id+".exports"})}),null);