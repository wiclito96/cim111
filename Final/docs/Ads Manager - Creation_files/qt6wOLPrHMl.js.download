if (self.CavalryLogger) { CavalryLogger.start_js(["F4GVD"]); }

__d("loadObjectComponentWithSpinner",["cx","CenteredContainer.react","FDSSpinner.react","React","ReactDOM","Style","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){__p&&__p();var d;c===void 0&&(c=!0);var e=babelHelpers["extends"]({},a,{loading:function(c,d,e){return c==null?b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("FDSSpinner.react"),null)):b("React").createElement("div",{className:"_1-r2"},b("React").createElement("div",{className:"_1-r4"},a.loaded(c,e)),b("React").createElement("div",{className:"_1-r5"},b("React").createElement(b("FDSSpinner.react"),null)))}});d=babelHelpers.inherits(f,b("React").PureComponent);d&&d.prototype;f.prototype.render=function(){"use strict";return this.props.object.match(e,this.props)};f.prototype.componentDidUpdate=function(a){"use strict";c&&a.object.isLoading()&&a.object.hasValue()&&!this.props.object.isLoading()&&this.$1()};f.prototype.$1=function(){"use strict";var a=b("ReactDOM").findDOMNode(this),c=!1;b("ifRequired")("ScrollableArea",function(b){b=b.getInstance(a);b&&(b.scrollToTop(),c=!0)});if(!c){var d=b("Style").getScrollParent(a);d&&d.scrollIntoView(!0)}};function f(){"use strict";d.apply(this,arguments)}return f}e.exports=a}),null);
__d("AdsCustomAudiencePixelSection.react",["cx","fbt","AdsCCCategory","AdsCCNotificationWrapper.react","CatalogSelectExternalEventSourcesForCatalogDialog.react","Link.react","ProductCatalogActions","React","ReactLayeredComponentMixin_DEPRECATED","SUIBusinessTheme","SUIText.react","URI","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;function i(a){return a.some(function(a){return!a.last_fired_time})}c=b("React").createClass({displayName:"AdsCustomAudiencePixelSection",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{accountID:a.string.isRequired,businessID:a.string,dialogShown:a.bool.isRequired,productCatalogID:a.string.isRequired,selectedPixels:a.arrayOf(a.shape({id:a.string.isRequired,name:a.string.isRequired,last_fired_time:a.string})).isRequired,shouldAssociateEventSource:a.bool.isRequired,onDismissDialog:a.func.isRequired,onOpenDialog:a.func.isRequired},componentDidMount:function(){this.props.dialogShown&&b("ProductCatalogActions").externalEventSourceAssociationDialogAutoOpened(),i(this.props.selectedPixels)&&b("ProductCatalogActions").someExternalEventSourceHasNoSignal()},render:function(){if(this.props.shouldAssociateEventSource)return this._renderNoSourcesSelected();return i(this.props.selectedPixels)?this._renderBrokenPixel():null},renderLayers:function(){return!this.props.dialogShown?{}:{SelectExternalEventSourcesForCatalogDialog:b("React").createElement(b("CatalogSelectExternalEventSourcesForCatalogDialog.react"),{accountID:this.props.accountID,businessID:this.props.businessID,productCatalogID:this.props.productCatalogID,onDismiss:this.props.onDismissDialog})}},_renderNoSourcesSelected:function(){var a=h._("Associate Pixel or App With Your Catalog"),c=h._("A pixel or app is required to retarget your ad."),d=b("React").createElement(b("React").Fragment,null,c," ",b("React").createElement("a",{href:"#",onClick:this.props.onOpenDialog},b("React").createElement(b("SUIText.react"),{color:"blueLink",size:"meta1",theme:b("SUIBusinessTheme")},h._("Associate pixel or app with your catalog"))),".");return b("React").createElement("div",{className:"_5rrj"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{ctaData:[{type:"LINK",data:{text:a,onCallToAction:this.props.onOpenDialog}}],category:b("AdsCCCategory").ERROR,messageID:"custom_audience_pixel_section_error",textData:[{type:"PARAGRAPH",data:{text:c}}]},suiNoticeProps:{type:"error",messageBody:d}}))},_renderBrokenPixel:function(){var a=new(b("URI"))("https://developers.facebook.com/docs/reference/ads-api/dynamic-ads/external-event-sources/"),c=h._("It looks like one or more pixels haven't signaled any events. {Link text to fix Facebook pixel or app}.",[h._param("Link text to fix Facebook pixel or app",b("React").createElement(b("Link.react"),{href:a,target:"_blank"},b("React").createElement(b("SUIText.react"),{color:"blueLink",size:"meta1",theme:b("SUIBusinessTheme")},h._("Fix Facebook pixel or app"))))]),d=h._("It looks like one or more pixels haven't signaled any events."),e=h._("Fix Facebook Pixel or App");return b("React").createElement("div",{className:"_5rrj"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{ctaData:[{type:"LINK",data:{href:a,text:e,onCallToAction:b("emptyFunction")}}],category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"custom_audience_pixel_section_active_feedback",textData:[{type:"PARAGRAPH",data:{text:d}}]},suiNoticeProps:{type:"information",messageBody:c}}))}});e.exports=c}),null);
__d("ProductCatalogExternalEventSourceUIStore",["AdsDataAtom","FluxReduceStore","ProductsActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=b("immutable").Record({hasClosedDialog:void 0,isDialogOpen:void 0});g=babelHelpers.inherits(i,c);g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i({hasClosedDialog:b("immutable").Map(),isDialogOpen:!1})};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("ProductsActionTypes").EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.CLOSE:return a.set("hasClosedDialog",a.hasClosedDialog.set(c.productCatalogID,!0)).set("isDialogOpen",!1);case b("ProductsActionTypes").EXTERNAL_EVENT_SOURCE.ASSOCIATION_DIALOG.OPEN:return a.set("isDialogOpen",!0);default:return a}};a.prototype.hasClosedDialog=function(a){return this.getState().hasClosedDialog.get(a,!1)};a.prototype.isDialogOpen=function(){return this.getState().isDialogOpen};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCustomAudiencePixelSectionContainer.react",["AdsAccountUtils","AdsCustomAudiencePixelSection.react","AdsFluxContainer","AdsLoadStateUtils_LEGACY","AdsPixelStore","ExternalEventSourceListStore","ExternalEventSourceTypes","FDSSpinner.react","ProductCatalogActions","ProductCatalogExpensiveStore","ProductCatalogExternalEventSourceUIStore","ProductCatalogUtils","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={dialogShown:!1,isLoading:!0,selectedPixels:[],shouldAssociateEventSource:!0};c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("ProductCatalogActions").closeExternalEventSourceAssociationDialog(this.props.productCatalogID)}.bind(this),c}a.getStores=function(){return[b("AdsPixelStore"),b("ExternalEventSourceListStore"),b("ProductCatalogExternalEventSourceUIStore"),b("ProductCatalogExpensiveStore")]};a.calculateState=function(a,c){__p&&__p();a=c.productCatalogID;c=b("ProductCatalogExpensiveStore").get(a);if(b("AdsLoadStateUtils_LEGACY").isLoading(c))return h;var d=b("ExternalEventSourceListStore").get(a);if(d.isLoading())return h;var e=[];d.hasValue()&&d.getValueEnforcing().forEach(function(a){a.source_type===b("ExternalEventSourceTypes").PIXEL&&e.push(a.id)});d=b("AdsPixelStore").getPixelsByID(e);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d))return h;d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(d);c=b("ProductCatalogUtils").shouldAssociateEventSource(c);var f=b("ProductCatalogExternalEventSourceUIStore").isDialogOpen();a=b("ProductCatalogExternalEventSourceUIStore").hasClosedDialog(a);f=f||c&&!a;return{dialogShown:f,isLoading:!1,selectedPixels:d,shouldAssociateEventSource:c}};a.prototype.render=function(){if(this.state.isLoading)return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var a=b("AdsAccountUtils").getBusinessInfo(this.props.adAccount);a=a.businessID;return b("React").createElement(b("AdsCustomAudiencePixelSection.react"),{accountID:this.props.adAccount.account_id,businessID:a||void 0,dialogShown:this.state.dialogShown,productCatalogID:this.props.productCatalogID,selectedPixels:this.state.selectedPixels,shouldAssociateEventSource:this.state.shouldAssociateEventSource,onDismissDialog:this.$1,onOpenDialog:this.$2})};a.prototype.$2=function(){b("ProductCatalogActions").openExternalEventSourceAssociationDialog()};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsExpandRetentionForOCPMSimpleTipContainer.react",["csx","fbt","AdsBlueTipTour.react","AdsFluxContainer","AdsSimpleTipHideTipDataAction","AdsSimpleTipStore","AdsSimpleTipTypes","Animation","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","DOM","LayerFadeOnHide","LayerFadeOnShow","React","ge"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=2500;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.getStores=function(){return[b("AdsSimpleTipStore")]};a.calculateState=function(a){var c=b("AdsSimpleTipStore").isVisible(b("AdsSimpleTipTypes").EXPAND_RETENTION_FOR_OCPM);a=a?a.isMounted:!1;return{isMounted:a,isVisible:c}};a.prototype.componentDidMount=function(){this.setState({isMounted:!0}),this.state.isVisible&&this.$1()};a.prototype.componentDidUpdate=function(a,b){!b.isVisible&&this.state.isVisible&&this.$1()};a.prototype.componentWillUnmount=function(){b("AdsSimpleTipHideTipDataAction").dispatch({tip:b("AdsSimpleTipTypes").EXPAND_RETENTION_FOR_OCPM},{line:"74",module:"AdsExpandRetentionForOCPMSimpleTipContainer.react.js"})};a.prototype.render=function(){if(!this.state.isVisible||!this.state.isMounted)return null;var a=b("ge")("ActiveAdsDynamicTargetingCard"),c=b("ge")("ads-editor-primary-btn");return b("React").createElement(b("AdsBlueTipTour.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},highlightContext:!1,steps:[{content:h._("For the best results, increase the length of time people can be in your audience to 14 days. You'll reach more people."),context:a,position:"above",alignment:"right"},{content:h._("When you're finished, review and save your changes here."),context:c,position:"above"}],onComplete:this.$2,onXOut:this.$2})};a.prototype.$2=function(){b("AdsSimpleTipHideTipDataAction").dispatch({tip:b("AdsSimpleTipTypes").EXPAND_RETENTION_FOR_OCPM},{line:"125",module:"AdsExpandRetentionForOCPMSimpleTipContainer.react.js"})};a.prototype.$1=function(){var a=b("DOM").scry(b("ge")("globalContainer"),"._5b9_");a=a[0];var c=b("DOM").scry(b("ge")("globalContainer"),"#ActiveAdsDynamicTargetingCard");c=c[0];c&&a&&new(b("Animation"))(a).to("scrollTop",c.offsetTop).ease(b("Animation").ease.end).duration(j).go()};function a(){i.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);
__d("AdsDynamicProspectingSection.react",["cx","fbt","AdsBulkValuePropTypes","AdsDynamicAdsWebdriverIDs","AdsDynamicTargetingCategories","AdsDynamicTargetingPackageOrderedPluginList","FBRadioSectionSelector.react","FBRadioSectionSelectorItem.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a;a=(a=this.props.bulkExcludedProductAudienceSpecs.getValueForIndex(0))!=null?a:[];var c={bulkPromotedProductSet:this.props.bulkPromotedProductSet,productAudienceSpecs:a,productCatalogID:this.props.productCatalogID,targetingType:this.props.targetingType,onProductAudienceFieldsChange:b("emptyFunction"),onExcludedProductAudienceFieldsChange:this.props.onExcludedProductAudienceFieldsChange,onProductSetChange:b("emptyFunction")};a=b("AdsDynamicTargetingPackageOrderedPluginList").withShape({targetingCategory:b("AdsDynamicTargetingCategories").PROSPECTING}).filter(function(a){return a.shouldRender(c)}).getArray().map(function(a){return b("React").createElement(b("FBRadioSectionSelectorItem.react"),{key:a.key,value:a.key},a.renderCard(c))});return b("React").createElement("div",{className:"_3n6g"},b("React").createElement("div",{className:"_4gmf"},h._("Refine this audience by excluding people less likely to take action:")),b("React").createElement(b("FBRadioSectionSelector.react"),{"data-testid":b("AdsDynamicAdsWebdriverIDs").PROSPECTING_PACKAGES_SECTION,value:this.props.targetingType,onSelect:this.props.onTargetingTypeChange},a))};function a(){i.apply(this,arguments)}a.propTypes={bulkExcludedProductAudienceSpecs:b("AdsBulkValuePropTypes").bulkValue.isRequired,productCatalogID:c.string.isRequired,targetingType:c.string.isRequired,onExcludedProductAudienceFieldsChange:c.func.isRequired,onTargetingTypeChange:c.func.isRequired};e.exports=a}),null);
__d("AdsDynamicRetargetingSection.react",["cx","AdsDynamicAdsWebdriverIDs","AdsDynamicTargetingCategories","AdsDynamicTargetingPackageOrderedPluginList","AdsExpandRetentionForOCPMSimpleTipContainer.react","FBRadioSectionSelector.react","FBRadioSectionSelectorItem.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.onProductAudienceFieldsChange({product_set_id:a})}.bind(this),b}a.prototype.render=function(){var a;a=(a=this.props.bulkProductAudienceSpecs.getValueForIndex(0))!=null?a:[];var c={account:this.props.account,bulkPromotedProductSet:this.props.bulkPromotedProductSet,productAudienceSpecs:a,productCatalogID:this.props.productCatalogID,targetingType:this.props.retargetingType,onProductAudienceFieldsChange:this.props.onProductAudienceFieldsChange,onExcludedProductAudienceFieldsChange:b("emptyFunction"),onProductSetChange:this.$1};a=b("AdsDynamicTargetingPackageOrderedPluginList").withShape({targetingCategory:b("AdsDynamicTargetingCategories").RETARGETING}).filter(function(a){return a.shouldRender(c)}).getArray().map(function(a){return b("React").createElement(b("FBRadioSectionSelectorItem.react"),{key:a.key,value:a.key},a.renderCard(c))});return b("React").createElement("div",{className:"_3n6g"},b("React").createElement(b("FBRadioSectionSelector.react"),{"data-testid":b("AdsDynamicAdsWebdriverIDs").RETARGETING_PACKAGES_SECTION,value:this.props.retargetingType,onSelect:this.props.onRetargetingTypeChange},a),b("React").createElement(b("AdsExpandRetentionForOCPMSimpleTipContainer.react"),null))};e.exports=a}),null);
__d("AdsProductAudienceTargetingSection.react",["cx","AdsAdvancedFieldsToggler.react","AdsCustomAudiencePixelSectionContainer.react","AdsDynamicCommerceTargetingPlugin","AdsDynamicProspectingSection.react","AdsDynamicRetargetingSection.react","AdsDynamicTargetingCategories","AdsDynamicTargetingTypeRadio.react","AdsProductAudienceSpecsUtils","AdsTestIDs","AdsUniformValue","CatalogVertical","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){this.props.onToggleAdvancedFields&&this.props.onToggleAdvancedFields(a)}.bind(this),b}a.prototype.render=function(){var a;b("React").Children.count(this.props.children)===0?a=this.$1():this.$2()?a=b("React").createElement(b("React").Fragment,null,this.$1(),b("React").createElement(b("AdsAdvancedFieldsToggler.react"),{className:"_4pqm",dataTestid:b("AdsTestIDs").ADS_TARGETING_SECTION_ADVANCED_TOGGLE,expandFieldsAbove:!0,initialCollapsed:this.props.initialHideAdvancedFields,onToggle:this.$3},this.props.children)):a=b("React").createElement(b("React").Fragment,null,this.props.children,b("React").createElement(b("AdsAdvancedFieldsToggler.react"),{className:"_4pqm",dataTestid:b("AdsTestIDs").ADS_TARGETING_SECTION_ADVANCED_TOGGLE,expandFieldsAbove:!0,initialCollapsed:this.props.initialHideAdvancedFields,onToggle:this.$3},this.$1()));return b("React").createElement("div",null,b("React").createElement(b("AdsCustomAudiencePixelSectionContainer.react"),{adAccount:this.props.account,productCatalogID:this.props.productCatalogID}),b("React").createElement(b("AdsDynamicTargetingTypeRadio.react"),{bulkValue:new(b("AdsUniformValue"))(b("AdsProductAudienceSpecsUtils").getTargetingCategory(this.props.targetingType)),catalogSegmentOwnerName:this.props.productCatalogOwnerBusinessName,isCatalogSegmentPromoted:this.props.isCatalogSegmentPromoted,targetingPlugin:b("AdsDynamicCommerceTargetingPlugin"),onSelect:this.props.onTargetingCategoryChange}),b("React").createElement("hr",{className:"_oke"}),a)};a.prototype.$2=function(){return b("AdsProductAudienceSpecsUtils").getTargetingCategory(this.props.targetingType)===b("AdsDynamicTargetingCategories").RETARGETING};a.prototype.$1=function(){if(this.$2())return b("React").createElement(b("AdsDynamicRetargetingSection.react"),{account:this.props.account,bulkProductAudienceSpecs:this.props.bulkProductAudienceSpecs,bulkPromotedProductSet:this.props.bulkPromotedProductSet,productCatalogID:this.props.productCatalogID,retargetingType:this.props.targetingType,onProductAudienceFieldsChange:this.props.onProductAudienceFieldsChange,onRetargetingTypeChange:this.props.onTargetingTypeChange});else return b("React").createElement(b("AdsDynamicProspectingSection.react"),{bulkExcludedProductAudienceSpecs:this.props.bulkExcludedProductAudienceSpecs,bulkPromotedProductSet:this.props.bulkPromotedProductSet,productCatalogID:this.props.productCatalogID,targetingType:this.props.targetingType,onExcludedProductAudienceFieldsChange:this.props.onExcludedProductAudienceFieldsChange,onTargetingTypeChange:this.props.onTargetingTypeChange})};a.defaultProps={initialHideAdvancedFields:!0,isCatalogSegmentPromoted:!1};e.exports=a}),null);