if (self.CavalryLogger) { CavalryLogger.start_js(["+oBVf"]); }

__d("AdsCatalogBasedTargetingLocationEditorSelector.react",["cx","fbt","AdsCCCategory","AdsInfoTable.react","AdsInfoTableRow.react","AdsIntelligentNotificationContainer.react","AdsTargetingLocationTypeStrings","CatalogBasedLocationConstants","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=h._("Locations"),d=[b("CatalogBasedLocationConstants").TYPE_EVERYONE_IN,b("CatalogBasedLocationConstants").TYPE_HOME,b("CatalogBasedLocationConstants").TYPE_TRAVELING_IN];d=d.map(function(a){return l(a)});return b("React").createElement("div",null,b("React").createElement(b("AdsInfoTable.react"),{oneColumn:a.oneColumn},b("React").createElement(b("AdsInfoTableRow.react"),{className:"_79bd",label:c,rowRenderer:a.rowRenderer},b("React").createElement(b("FDSDropdownSelector.react"),{value:a.selectedValue,onChange:a.onItemChange},d),i())))}function i(){return b("React").createElement("div",{className:"_79be"},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"ad_catalog_based_location",textData:[{type:"PARAGRAPH",data:{text:h._("Location targeting is based on the fields you use in your catalog. You can update those attributes there.")}}]}}))}function j(a){switch(a){case b("CatalogBasedLocationConstants").TYPE_EVERYONE_IN:return b("AdsTargetingLocationTypeStrings").TYPE_ALL_LABEL;case b("CatalogBasedLocationConstants").TYPE_HOME:return b("AdsTargetingLocationTypeStrings").TYPE_HOME_LABEL;case b("CatalogBasedLocationConstants").TYPE_TRAVELING_IN:return b("AdsTargetingLocationTypeStrings").TYPE_TRAVELING_LABEL;default:return""}}function k(a){switch(a){case b("CatalogBasedLocationConstants").TYPE_EVERYONE_IN:return b("AdsTargetingLocationTypeStrings").TYPE_ALL_TOOLTIP;case b("CatalogBasedLocationConstants").TYPE_HOME:return b("AdsTargetingLocationTypeStrings").TYPE_HOME_TOOLTIP;case b("CatalogBasedLocationConstants").TYPE_TRAVELING_IN:return b("AdsTargetingLocationTypeStrings").TYPE_TRAVELING_TOOLTIP;default:return""}}function l(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:"option_"+a,tooltip:k(a),value:a},j(a))}e.exports=a}),null);
__d("AdsCatalogBasedTargetingLocationEditorSelectorContainer.react",["AdsCatalogBasedTargetingLocationEditorSelector.react","AdsCommonTargetingActions","AdsUEditorCampaignCatalogBasedTargetingSelectors","AdsUEditorContextType","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsUEditorCampaignCatalogBasedTargetingSelectors").adsUEditorCampaignCatalogBasedTargetingLocationTypeSelector;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(a,b){a=b.campaignEditorContext;return h.getStores(a)};a.calculateState=function(a,b,c){a=c.campaignEditorContext;return{locationType:h(a)}};a.prototype.render=function(){return b("React").createElement(b("AdsCatalogBasedTargetingLocationEditorSelector.react"),{oneColumn:this.props.oneColumn,rowRenderer:this.props.rowRenderer,selectedValue:this.state.locationType,onItemChange:this.$1})};a.prototype.$1=function(a){b("AdsCommonTargetingActions").changeCatalogBasedTargeting({geo_targeting_type:a})};function a(){g.apply(this,arguments)}a.contextTypes=b("AdsUEditorContextType").campaign;e.exports=b("FluxContainer").create(a,{withContext:!0})}),null);
__d("AdsCatalogBasedTargetingLocationEditor.react",["AdsCatalogBasedTargetingLocationEditorSelectorContainer.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("AdsCatalogBasedTargetingLocationEditorSelectorContainer.react"),{oneColumn:this.props.oneColumn,rowRenderer:this.props.rowRenderer})};function a(){g.apply(this,arguments)}a.targetingSpecFields={catalogBasedTargeting:!0,geoLocations:!0};e.exports=a}),null);
__d("AdsCommonTargetingAppTargetEditor",["AdsAPITargetAppInstallState","AdsCommonTargetingActions","AdsCommonTargetingSectionMixin","Bootloader","React","TargetingActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"AdsCommonTargetingAppTargetEditor",propTypes:{rowRenderer:a.func,extraData:a.object},statics:{targetingSpecFields:{appInstallState:!0}},getDefaultProps:function(){return{extraData:{}}},mixins:[b("AdsCommonTargetingSectionMixin")],componentDidMount:function(){b("Bootloader").loadModules(["AdsTargetingAppTargetEditor.react"],this.updateSectionEditor,"AdsCommonTargetingAppTargetEditor")},renderSectionEditor:function(){var a=this.getSectionEditor(),c=this.getTargetingSpecValue("appInstallState")||b("AdsAPITargetAppInstallState").NONE;return b("React").createElement(a,{changeAppTarget:this._changeAppTarget,checked:c===b("AdsAPITargetAppInstallState").INSTALLED,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,size:this.props.size,width:this.getDefaultWidth()})},_changeAppTarget:function(a){var c=this.props.config;b("TargetingActions").resetMixedStateComponent(c.component);c=a?b("AdsAPITargetAppInstallState").INSTALLED:null;b("AdsCommonTargetingActions").changeAppInstallState(c)}});e.exports=c}),null);
__d("AdsCommonTargetingAudienceEditor",["invariant","AdsAccountCapabilities","AdsAccountUtils","AdsAPIOptimizationGoals","AdsAPIPromotedObjectFields","AdsBulkValueUtils","AdsCommonTargetingActions","AdsCommonTargetingUtils","AdsDaoGraph","AdsDataFileCustomAudienceUsageTypes","AdsMixedValue","AdsTargetingCountryUtils","AdsTargetingLoadTimeActions","JSResource","TargetingBulkSpecUtils","TargetingCommonEditor","TargetingContainerMode","curry","getByPath","keyMirror","parseCustomProperties","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("keyMirror")({customAudiences:null,excludedCustomAudiences:null,prospectingAudience:null});a=babelHelpers.inherits(j,b("TargetingCommonEditor"));h=a&&a.prototype;function j(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$AdsCommonTargetingAudienceEditor12=function(){b("AdsTargetingLoadTimeActions").componentDidFinishLoadingEntries(j.displayName,b("performanceNow")()),this.context.registerLoadEnd()}.bind(this),this.$AdsCommonTargetingAudienceEditor2=function(a,c,d,e){b("AdsCommonTargetingActions").changeCustomAudiences(c,e,this.$AdsCommonTargetingAudienceEditor1(),a)}.bind(this),this.$AdsCommonTargetingAudienceEditor3=function(a,c,d,e){b("AdsCommonTargetingActions").changeProspectingAudience(c,e,this.$AdsCommonTargetingAudienceEditor1(),a)}.bind(this),this.$AdsCommonTargetingAudienceEditor4=function(a,c,d){b("AdsCommonTargetingActions").changeExcludedAudiences(a,d,this.$AdsCommonTargetingAudienceEditor1())}.bind(this),this.$AdsCommonTargetingAudienceEditor6=function(a,c,d,e,f){a=f?a[f]:a[0];e===!0?b("AdsCommonTargetingActions").includeProspectingAudience(a.prospectingAudience!=null&&Object.keys(a.prospectingAudience).length!==0?a.prospectingAudience.sources:[],a.excludedCustomAudiences||[],d,f,this.$AdsCommonTargetingAudienceEditor1(),c,this.props.extraData.accountID):b("AdsCommonTargetingActions").includeAudience(a.customAudiences||[],a.excludedCustomAudiences||[],d,f,this.$AdsCommonTargetingAudienceEditor1(),c,this.props.extraData.accountID)}.bind(this),this.$AdsCommonTargetingAudienceEditor5=function(a,c,d){a=d?a[d]:a[0];b("AdsCommonTargetingActions").excludeAudience(a.customAudiences||[],a.excludedCustomAudiences||[],c,d,this.$AdsCommonTargetingAudienceEditor1(),this.props.extraData.accountID)}.bind(this),this.$AdsCommonTargetingAudienceEditor7=function(a,c,d,e,f,g){a=g?a[g]:a[0];f?b("AdsCommonTargetingActions").removeProspectingAudience(a.prospectingAudience!=null&&Object.keys(a.prospectingAudience).length!==0?a.prospectingAudience.sources:[],a.excludedCustomAudiences||[],e,g,this.$AdsCommonTargetingAudienceEditor1(),c,d,f):b("AdsCommonTargetingActions").removeAudience(a.customAudiences||[],a.excludedCustomAudiences||[],e,g,this.$AdsCommonTargetingAudienceEditor1(),c,d,f)}.bind(this),this.$AdsCommonTargetingAudienceEditor8=function(a,c,d,e,f){a=f?a[f]:a[0];b("AdsCommonTargetingActions").removeAudiences(a.customAudiences||[],a.excludedCustomAudiences||[],e,f,this.$AdsCommonTargetingAudienceEditor1(),c,d)}.bind(this),this.$AdsCommonTargetingAudienceEditor9=function(a){b("AdsCommonTargetingActions").resetAllAudiences(a,this.$AdsCommonTargetingAudienceEditor1())}.bind(this),this.$AdsCommonTargetingAudienceEditor1=function(){return!b("AdsAccountUtils").hasCapabilityFromList(this.props.extraData.capabilities,b("AdsAccountCapabilities").CAN_USE_PROSPECTING_AUDIENCE)&&!!this.props.extraData.supportBulkEdit&&this.props.extraData.targetingSpecStore.getTargetingMode()===b("TargetingContainerMode").BULK}.bind(this),c}j.prototype.__getEditorJSResource=function(){if(this.props.extraData.shouldUseAudienceEditorV2)return b("JSResource")("AdsTargetingAudienceEditorSectionV2.react").__setRef("AdsCommonTargetingAudienceEditor");else return b("JSResource")("AdsTargetingAudienceEditorSection.react").__setRef("AdsCommonTargetingAudienceEditor")};j.prototype.__getEditorProps=function(){__p&&__p();var a=this.props.extraData;a.accountID||g(0,347);var c=b("parseCustomProperties")(this.props.config,{accountCountry:null,accountInfo:null,campaignEndTimestamp:0,currentReachFrequencyCampaignStartIn48Hours:!1,dataFileCustomAudienceUsageType:b("AdsDataFileCustomAudienceUsageTypes").AD_SET_MUTATION,defaultMobileApp:null,disableAudienceCreation:!1,disableExcludeCustomAudiences:!1,directSales:!1,shouldUseSnapshotForDynamicCA:!1,showUntrustedAccountUsingDFCABanner:!1,supportSetLocationCountriesToLookalikeCountries:!1,optimizationGoal:b("AdsAPIOptimizationGoals").NONE}),d=c.accountCountry,e=c.accountInfo,f=c.campaignEndTimestamp,h=c.currentReachFrequencyCampaignStartIn48Hours,j=c.dataFileCustomAudienceUsageType,k=c.defaultMobileApp,l=c.disableAudienceCreation,m=c.disableExcludeCustomAudiences,n=c.shouldUseSnapshotForDynamicCA,o=c.showUntrustedAccountUsingDFCABanner,p=c.directSales,q=c.supportSetLocationCountriesToLookalikeCountries;c=c.optimizationGoal;var r=b("getByPath")(a,["pageTypes"],[]),s=b("getByPath")(a,["promotedObject",b("AdsAPIPromotedObjectFields").PAGE_ID]);s=b("AdsBulkValueUtils").getUniformValue(s);var t,u,v=!1,w=!1,x=a.bulkCampaignID?a.bulkCampaignID.getValues().length:1;if(this.$AdsCommonTargetingAudienceEditor1()){var y,z=a.targetingSpecStore;z=z.getBulkSpec();var A=z[i.customAudiences];z=z[i.excludedCustomAudiences];var B=b("TargetingBulkSpecUtils").getAllSelectedCustomAudiencesFromBulkSpec(A),C=b("TargetingBulkSpecUtils").getAllSelectedCustomAudiencesFromBulkSpec(z);B=[(y={},y[i.customAudiences]=B,y[i.excludedCustomAudiences]=C,y)];t=b("TargetingBulkSpecUtils").getCustomAudienceToCampaignsInfoMap(A,a.bulkCampaignID,a.bulkCampaignName);u=b("TargetingBulkSpecUtils").getCustomAudienceToCampaignsInfoMap(z,a.bulkCampaignID,a.bulkCampaignName);v=A instanceof b("AdsMixedValue");w=z instanceof b("AdsMixedValue")}else{y=(C={},C[i.customAudiences]=[],C[i.excludedCustomAudiences]=[],C[i.prospectingAudience]={},C);B=b("AdsCommonTargetingUtils").getFlatPermutationFragmentsFromStore(this.context.targetingMode,this.props.extraData.targetingSpecStore,y)}return{accountID:a.accountID,accountInfo:e,addPermutationVariantTooltip:a.addPermutationVariantTooltip,callbackActions:{changeCustomAudiences:b("curry")(this.$AdsCommonTargetingAudienceEditor2,q),changeProspectingAudience:b("curry")(this.$AdsCommonTargetingAudienceEditor3,q),changeExcludedAudiences:this.$AdsCommonTargetingAudienceEditor4,excludeAudience:b("curry")(this.$AdsCommonTargetingAudienceEditor5,B),includeAudience:b("curry")(this.$AdsCommonTargetingAudienceEditor6,B,q),removeAudience:b("curry")(this.$AdsCommonTargetingAudienceEditor7,B,q,d),removeAudiences:b("curry")(this.$AdsCommonTargetingAudienceEditor8,B,q,d),resetAllAudiences:this.$AdsCommonTargetingAudienceEditor9},capabilities:a.capabilities,campaignEndTimestamp:f,currentReachFrequencyCampaignStartIn48Hours:h,customAudiencesToCampaignsInfoMap:t,dao:b("AdsDaoGraph"),dataFileCustomAudienceUsageType:j,defaultMobileApp:k,directSales:p,disableAddPermutationVariant:a.disableAddPermutationVariant,disableAudienceCreation:l,disableExcludeCustomAudiences:m,excludedCustomAudiencesToCampaignsInfoMap:u,isCustomAudiencesMixedValue:v,isExcludedCustomAudiencesMixedValue:w,lookalikePrefillCountry:this.$AdsCommonTargetingAudienceEditor10(),numCampaigns:x,oneColumn:a.oneColumn,pageID:s,pageName:b("getByPath")(a,["promotedObject","page_name"]),pageTypes:r,placementAPISpec:a.placementAPISpec||{},rowRenderer:this.props.rowRenderer,shouldUseSnapshotForDynamicCA:n,showUntrustedAccountUsingDFCABanner:o,targetingDataVariants:B,targetingMode:this.context.targetingMode,tosAccepted:a.tosAccepted||{},width:a.defaultWidth,optimizationGoal:c,onAddVariant:this.$AdsCommonTargetingAudienceEditor11,onFinishedLoading:this.$AdsCommonTargetingAudienceEditor12,onRemoveVariant:this.$AdsCommonTargetingAudienceEditor13}};j.prototype.$AdsCommonTargetingAudienceEditor10=function(){var a=this.context.targetingMode===b("TargetingContainerMode").PERMUTATION?this.props.extraData.targetingSpecStore.getValue("geoLocations")[0]:this.props.extraData.targetingSpecStore.getValue("geoLocations");a=b("AdsTargetingCountryUtils").getUniqueCountries(a||{},!1);return a.length?a[0]:void 0};j.prototype.$AdsCommonTargetingAudienceEditor11=function(){b("AdsCommonTargetingActions").addTargetingPermutationVariant(Object.keys(i))};j.prototype.$AdsCommonTargetingAudienceEditor13=function(a){b("AdsCommonTargetingActions").removeTargetingPermutationVariant(Object.keys(i),a)};j.displayName="AdsCommonTargetingAudienceEditor";j.shouldDeferLoadEnd=!0;j.targetingSpecFields={customAudiences:!0,excludedCustomAudiences:!0};e.exports=j}),null);
__d("AdsCommonTargetingConnectionsEditor",["invariant","AdsCommonTargetingActions","AdsCommonTargetingSectionMixin","AdsDaoGraph","AdsTargetingConnectionObjectSearchSource","Bootloader","React","WaitTimeArea.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"AdsCommonTargetingConnectionsEditor",mixins:[b("AdsCommonTargetingSectionMixin")],shouldDeferLoadEnd:!0,statics:{targetingSpecFields:{connections:!0,excludedConnections:!0,friendsOfConnections:!0,engagementSpecs:!0,excludedEngagementSpecs:!0}},propTypes:{config:a.object,extraData:a.object.isRequired,rowRenderer:a.func},getDefaultProps:function(){return{extraData:{}}},componentDidMount:function(){b("Bootloader").loadModules(["AdsTargetingConnectionsEditorV2.react"],this.updateSectionEditor,"AdsCommonTargetingConnectionsEditor")},renderSectionEditor:function(){var a=this.getSectionEditor();this.props.extraData.accountID||g(0,1954);this.props.extraData.destinationData||g(0,1955);this.props.extraData.objectiveData||g(0,1956);var c=this.props.config.customProperties&&this.props.config.customProperties.canSeeVideoOptions;return b("React").createElement(b("WaitTimeArea.react"),{name:"AdsTargetingConnectionsEditor",owner:"admarket_targeting_oncalls"},b("React").createElement(a,{accountID:this.props.extraData.accountID,canQueryEvents:this.getConfigValue(this.props.config.customProperties,"canQueryEvents",!1),canSeeEventEngagementOptions:this.getConfigValue(this.props.config.customProperties,"canSeeEventEngagementOptions",!1),canSeeVideoOptions:c,changeConnections:b("AdsCommonTargetingActions").changeConnections,changeEngagements:b("AdsCommonTargetingActions").changeEngagements,dao:b("AdsDaoGraph"),destinationData:this.props.extraData.destinationData,objectiveData:this.props.extraData.objectiveData,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,searchSource:b("AdsTargetingConnectionObjectSearchSource").getInstance(this.props.extraData.accountID,{canQueryEvents:this.getConfigValue(this.props.config.customProperties,"canQueryEvents",!1)}),selectedCampaignID:this.props.extraData.selectedCampaignID,shouldHideAppConnections:this.getConfigValue(this.props.config.customProperties,"shouldHideAppConnections",!1),shouldHideExcludedConnections:this.getConfigValue(this.props.config.customProperties,"shouldHideExcludedConnections",!1),shouldHideFriendsOfConnections:this.getConfigValue(this.props.config.customProperties,"shouldHideFriendsOfConnections",!1),size:this.props.size,targetingData:{includedConnections:this.getTargetingSpecValue("connections")||[],excludedConnections:this.getTargetingSpecValue("excludedConnections")||[],friendsOfConnections:this.getTargetingSpecValue("friendsOfConnections")||[],engagementSpecs:this.getTargetingSpecValue("engagementSpecs")||[],excludedEngagementSpecs:this.getTargetingSpecValue("excludedEngagementSpecs")||[]},width:this.getDefaultWidth(),onFinishedLoading:this.context.registerLoadEnd}))}});e.exports=c}),null);
__d("AdsCommonTargetingLanguagesEditor",["AdsBulkValuePropTypes","AdsCommonTargetingActions","AdsCommonTargetingSectionMixin","AdsDaoGraph","AdsMixedValue","Bootloader","React","TargetingBulkSpecUtils","TargetingContainerMode","WaitTimeArea.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g="locales";c=b("React").createClass({displayName:"AdsCommonTargetingLanguagesEditor",mixins:[b("AdsCommonTargetingSectionMixin")],statics:{targetingSpecFields:{locales:!0}},propTypes:{config:a.object,extraData:a.shape({accountID:a.string,bulkCampaignID:b("AdsBulkValuePropTypes").bulkValue,bulkCampaignName:b("AdsBulkValuePropTypes").bulkValue,insightsLink:a.object,oneColumn:a.bool,supportBulkEdit:a.object,targetingSpecStore:a.object.isRequired}).isRequired,rowRenderer:a.func},getDefaultProps:function(){return{extraData:{}}},componentDidMount:function(){b("Bootloader").loadModules(["AdsTargetingLanguagesEditor.react"],this.updateSectionEditor,"AdsCommonTargetingLanguagesEditor")},renderSectionEditor:function(){var a=this.getSectionEditor(),c=!1,d;if(this._allowMixedStateBulkEditing()){var e,f=this.getTargetingBulkSpec(g);d=b("TargetingBulkSpecUtils").getLocaleToCampaignsInfoMap(f,(e=this.props)!=null?(e=e.extraData)!=null?e.bulkCampaignID:e:e,(e=this.props)!=null?(e=e.extraData)!=null?e.bulkCampaignName:e:e);e=b("TargetingBulkSpecUtils").getAllSelectedLocalesFromBulkSpec(f);c=f instanceof b("AdsMixedValue")}else e=this.getTargetingSpecValue(g)||[];return b("React").createElement(b("WaitTimeArea.react"),{name:"AdsTargetingLanguagesEditor",owner:"admarket_targeting_oncalls"},b("React").createElement(a,{dao:b("AdsDaoGraph"),insightsLink:this.props.extraData.insightsLink,isMixedValue:c,localeToCampaignsInfoMap:d,locales:e,numCampaigns:this.getNumCampaigns(),oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,width:this.getDefaultWidth(),onChangeLanguages:this._onChangeLanguages}))},_allowMixedStateBulkEditing:function(){return this.props.extraData.targetingSpecStore.getTargetingMode()===b("TargetingContainerMode").BULK},_onChangeLanguages:function(a){b("AdsCommonTargetingActions").changeLanguages(a,!!this.props.extraData.supportBulkEdit)}});e.exports=c}),null);
__d("AdsCommonTargetingLocationUnavailableEditorLayout",["cx","fbt","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsTargetingWebdriverIDs","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;d=b("React").PropTypes;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){var a="_3lmq uiContextualLayerParent";return b("React").createElement(b("AdsInfoTable.react"),{oneColumn:this.props.oneColumn,sectionborders:!1},b("React").createElement(b("AdsInfoTableSection.react"),{className:"_5w17"},b("React").createElement(b("AdsInfoTableRow.react"),{className:"_2x2o",label:h._("Locations"),noUIContextualLayerParent:!0,rowRenderer:this.props.rowRenderer,useColon:!1},b("React").createElement("div",{className:a,"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_LOCATION_UNAVAILABLE_EDITOR},this.props.children))))};function a(){i.apply(this,arguments)}a.propTypes={oneColumn:d.bool,rowRenderer:d.func};e.exports=a}),null);
__d("AdsCommonTargetingLocationUnavailableEditor",["fbt","AdsCCCategory","AdsCommonTargetingLocationUnavailableEditorLayout","AdsIntelligentNotificationContainer.react","AdsStrings","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").Component;d=b("React").PropTypes;var i=g._("Targeting area defined by your selected business locations.");h=babelHelpers.inherits(a,c);h&&h.prototype;a.prototype.render=function(){var a;a=((a=this.props.config)==null?void 0:(a=a.customProperties)==null?void 0:a.showCustomMessage)?i:b("AdsStrings").MixedFormatEditWarning;return b("React").createElement(b("AdsCommonTargetingLocationUnavailableEditorLayout"),{oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"targeting_location_unavailable_notice",textData:[{type:"PARAGRAPH",data:{text:a}}]}}))};function a(){h.apply(this,arguments)}a.displayName="AdsCommonTargetingLocationUnavailableEditor";a.targetingSpecFields={};a.propTypes={config:d.object,extraData:d.object,rowRenderer:d.func};e.exports=a}),null);
__d("AdsCommonTargetingLocationUnavailableMixedStateEditor",["AdsCCCategory","AdsCommonTargetingLocationUnavailableEditorLayout","AdsIntelligentNotificationContainer.react","AdsStrings","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;d=b("React").PropTypes;g=babelHelpers.inherits(a,c);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("AdsCommonTargetingLocationUnavailableEditorLayout"),{oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"targeting_location_unavailable_notice",textData:[{type:"PARAGRAPH",data:{text:b("AdsStrings").MixedFormatEditWarning}}]}}))};function a(){g.apply(this,arguments)}a.targetingSpecFields={};a.propTypes={extraData:d.object,rowRenderer:d.func};e.exports=a}),null);
__d("AdsUEditorCampaignUpdateLocationEditorSpecDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_CAMPAIGN_UPDATE_LOCATION_EDITOR_SPEC");e.exports=a}),null);
__d("XSVDefaultTargetingRadiusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/store_visits/default_targeting_radius/",{parent_page_id:{type:"FBID",required:!0},country_code:{type:"String"},distance_unit:{type:"String"}})}),null);
__d("AdsDefaultTargetingRadiusProviderPlugin",["LoadObjectMap","LocationConstants","XSVDefaultTargetingRadiusController","mapSet","promiseAsyncRequest","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a(function(a){return a.merge(b("mapSet")(c,function(b){return[b,a.get(b).loading()]}))})}function h(a){return b("promiseLoadObjectsFromKeys")(a,function(a){a=b("XSVDefaultTargetingRadiusController").getURIBuilder().setFBID("parent_page_id",a.parentPageID).setString("country_code",a.countryCode).setString("distance_unit",b("LocationConstants").RadiusInfo.getLocalizedUnit()).getURI();return b("promiseAsyncRequest")(a,{isReadOnly:!0,method:"GET"}).then(function(a){return{radius:a.payload.default_radius,distanceUnit:a.payload.distance_unit}},function(a){return{radius:b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),distanceUnit:b("LocationConstants").RadiusInfo.getLocalizedUnit()}})})}a={initialState:function(a){return b("LoadObjectMap").createKeyed(function(c){g(a,c),b("promiseDone")(h(c),function(b){a(function(a){return a.merge(b)})})},function(a){return JSON.stringify(a)})}};e.exports=a}),null);
__d("AdsDefaultTargetingRadiusProvider",["AdsDefaultTargetingRadiusProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsDefaultTargetingRadiusProviderPlugin"),"AdsDefaultTargetingRadiusProviderPlugin")}),null);
__d("AdsDefaultTargetingRadiusProviderKey",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({countryCode:void 0,parentPageID:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsNewLocationTargetingDialogStep",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;default:return 0}}function a(a){return a+1>3?a:g(a+1)}function b(a){return a-1<0?a:g(a-1)}e.exports=Object.freeze({STEP_1:0,STEP_2:1,STEP_3:2,PAGESET_CREATION_STEP:3,getNextStep:a,getPreviousStep:b})}),null);
__d("AdsNewLocationTargetingEditorState",["AdsNewLocationTargetingDialogStep","AdsNewLocationTargetingInteractionLoggingUtils","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({bulkAddStoreNumberList:void 0,countryCode:void 0,currentPageSetID:void 0,currentStep:b("AdsNewLocationTargetingDialogStep").STEP_1,elementFocused:"none",interactionLoggerKey:b("AdsNewLocationTargetingInteractionLoggingUtils").getNewInteractionLoggerKey(0),interactionLoggerKeySeqNo:0,isEditing:!1,isPageSetNameInputEnabled:!0,isSelectedLocationsTreeDisabled:!1,isUnmeasurableLocationsModalVisible:!1,lastBulkUpdateErrors:void 0,loadingSource:void 0,location:void 0,parentPageID:null,queryString:"",showDialog:!1,source:void 0,treeKey:void 0,typeaheadHasResults:!1,unmeasurableLocationsNUXisHidden:!1});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsNewLocationTargetingEditorStateKey",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({bulkCampaignID:void 0,countryCode:void 0,pageID:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsNewLocationTargetingPageSetsUtils",["fbt","AdsLoadObjectUtils","AdsLocationMeta","AdsLocationMetaConstant","AdsLocationMetaUtils","GraphAdPlacePageSetPagesSelection","LoadObject","formatDate","immutable","parseISODate","timeString"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsLocationMetaUtils").getSelectedRadiusType,i=80;function j(a){return a.sortBy(function(a){return a.creation_time!=null&&a.creation_time!==""?b("parseISODate")(a.creation_time):-1}).reverse()}function k(a,b){return a.find(function(a){return a.ancestor_id===b.ancestor_id})}function l(a){return a.name!=null&&a.name.trim()!=""}function a(a,c,d){d===void 0&&(d=100);return a.map(function(a){return j(a).reduce(function(a,e){e=n(e);if(e.id!==c&&(k(a,e)!=null||e.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT&&a.find(function(a){return a.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT})||!l(e)))return a;e=o(e,a,d);return e?a.push(p(e)):a},b("immutable").List())})}function m(a,b){return b.has(a.id)?b.get(a.id):null}function c(a,c){return j(a).reduce(function(a,b){b=n(b);return k(a,b)!=null&&!m(b,c)||!l(b)?a:a.push(b)},b("immutable").List())}function n(a){var c=null;a.metadata!=null&&(c=b("AdsLocationMetaUtils").parseExtraData(a.metadata.extra_data));return a.set("ancestor_id",c!=null&&c.ancestorID!=null&&c.ancestorID!==""?c.ancestorID:a.id)}function o(a,c,d){if(c.size>=d||a.pages_selection===b("GraphAdPlacePageSetPagesSelection").OUTDATED_COUNTRY_DEFAULT)return null;if(a.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT)return a.set("label",g._("All Locations"));return a.name!=null&&a.name!==""&&a.name.length<i?a.set("label",g._("{pageSetName}",[g._param("pageSetName",a.name)])):a.set("label",g._("Location Set {pageSetID}",[g._param("pageSetID",a.id)]))}function p(a){if(a.creation_time==null||a.creation_time==="")return a;var c=b("parseISODate")(a.creation_time);return a.set("time_label",a.pages_selection===b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT?g._("Updated {update date}",[g._param("update date",b("timeString")(c))]):g._("Created {creation date}",[g._param("creation date",b("formatDate")(c,"M d, Y g:ia"))]))}function d(a,b){a=a.filter(function(a){return a.metadata!=null});return!b?a:a.filter(function(a){return a.label!=null&&a.label!==""&&a.label.toLowerCase().includes(b.toLowerCase())})}function f(a){return a.creation_time!=null&&a.creation_time!==""?b("formatDate")(b("parseISODate")(a.creation_time),"M d, Y g:ia"):g._("Unavailable")}function q(a){return a&&a.location_type==="country"?a.location_name:g._("Unavailable")}function r(a,b){a=a.pages_count;return a!=null&&a!==0?g._("{pageSetPagesCount} {pagePagesToken}",[g._param("pageSetPagesCount",a),g._param("pagePagesToken",b&&b.num_pages>=a?g._("of {pageSetPagesCount}",[g._param("pageSetPagesCount",b.num_pages)]):null)]):g._("Unavailable")}function s(a,b){var c=g._("We couldn't retrieve the details of this location set, but you can still use it to run this campaign.");return b.match({error:function(){return c},loading:function(){return null},loaded:function(b){return b==null||a.pages_count==null||a.creation_time==null||a.creation_time===""?c:null}})}function t(a,c){return a.match({empty:function(){return b("LoadObject").empty()},loading:function(){return b("LoadObject").loading()},error:function(a){return b("LoadObject").withError(a)},loaded:function(a){return b("AdsLoadObjectUtils").allByKey(a.map(function(a){return c(a.id).map(function(a){return a[0]})}))}})}function u(a,c){return b("AdsLoadObjectUtils").all([a,c]).map(function(a){var b=a[0],c=a[1];return b.map(function(a,b){b=null;a!=null&&(b=c.find(function(b){return b.location_id===a.location_id}));return b!=null?b:a})})}function v(a){var c;a=new(b("AdsLocationMeta"))().setIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH,a.targeted_area_type?h(a.metadata?!!a.metadata.audience:null,a.targeted_area_type):null).setIn(b("AdsLocationMetaConstant").DISTANCE_UNIT_PATH,((c=a.metadata)==null?void 0:c.audience)?(c=a.metadata)==null?void 0:(c=c.audience)==null?void 0:(c=c.max_radius)==null?void 0:c.distance_unit:(c=a.metadata)==null?void 0:(c=c.fixed_radius)==null?void 0:c.distance_unit).setIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH,(c=a.metadata)==null?void 0:(c=c.fixed_radius)==null?void 0:c.value).setIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH,(c=a.metadata)==null?void 0:(c=c.audience)==null?void 0:c.size).setIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH,!!((c=a.metadata)==null?void 0:(c=c.audience)==null?void 0:c.max_radius)).setIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH,(c=a.metadata)==null?void 0:(a=c.audience)==null?void 0:(c=a.max_radius)==null?void 0:c.value);return a}e.exports={filter:d,getAllPageSetsForDropdown:a,getAllPageSetsForTable:c,getCountryLabel:q,getCreatedAtLabel:f,getLocationCountLabel:r,getMissingInformationsLabel:s,getPageSetsCountry:t,getPageSetsPageLevelCountries:u,getLocationMetadata:v,hasCampaignRunning:m}}),null);
__d("AdsPlacePageSetStore",["AdsDataAtom","AdsPlacePageSetDataManager","AdsPlacePageSetPageSetsLoadErrorDataActionFlux","AdsPlacePageSetPageSetsLoadSuccessDataActionFlux","FluxLoadObjectStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return h?[b("AdsPlacePageSetPageSetsLoadErrorDataActionFlux").actionType,b("AdsPlacePageSetPageSetsLoadSuccessDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPlacePageSetPageSetsLoadSuccessDataActionFlux").actionType:return this.__handleOne(a,c.key,c.pageSets);case b("AdsPlacePageSetPageSetsLoadErrorDataActionFlux").actionType:return this.__handleOne(a,c.key,c.error);default:return a}};a.prototype.__load=function(a){b("AdsPlacePageSetDataManager").fetchPageSetList(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPlacePageSetStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({accountID:void 0,limit:100,minPagesCount:1,pageID:void 0,pageSetID:void 0,pagesSelection:void 0,since:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("adsNewLocationTargetingParentPageIDsSelector",["AdsAPICampaignGroupPaths","AdsLoadObjectUtils","AdsUEditorCampaignGroupBulkSelectors","LoadObject","adsCreateSelector","adsSharedLocationPageSelector","intersectArrays"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID),b("adsSharedLocationPageSelector")],function(a,c){return b("AdsLoadObjectUtils").all(a.getValues().map(function(a){return a!=null?c(a):b("LoadObject").empty()}).map(function(a){return a.map(function(a){return a.map(function(a){return a.id})})})).map(function(c){return b("intersectArrays").apply(void 0,c).sort(function(b,c){return a.getValues().includes(c)?1:0})})},{name:e.id+".adsNewLocationTargetingParentPageIDsSelector"});e.exports=a}),null);
__d("AdsNewLocationTargetingSelectors",["AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsBulkValueUtils","AdsDefaultTargetingRadiusProvider","AdsDefaultTargetingRadiusProviderKey","AdsEmptyValue","AdsLoadObjectUtils","AdsLocationBreakdownStore","AdsLocationMetaStore","AdsLocationMetaStoreKey","AdsLocationTreeStore","AdsLocationTreeStoreKey","AdsNewLocationTargetingEditorProvider","AdsNewLocationTargetingEditorState","AdsNewLocationTargetingEditorStateKey","AdsNewLocationTargetingPageSetsUtils","AdsPlacePageSet","AdsPlacePageSetInfoStore","AdsPlacePageSetStore","AdsPlacePageSetStoreKey","AdsUEditorCampaignBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUniformValue","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","adsNewLocationTargetingParentPageIDsSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedCampaignsSelector","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map,h=b("immutable").OrderedMap,i=100,j=function(a,c,d){return new(b("AdsPlacePageSetStoreKey"))({accountID:c,limit:1e3,minPagesCount:1,pageID:a,pageSetID:d})};a=b("adsCreateStoreThunkSelector")(b("AdsPlacePageSetStore"),function(a){return b("AdsPlacePageSetStore").get(a)});c=b("adsCreateStoreThunkSelector")(b("AdsLocationBreakdownStore"),function(a){return b("AdsLocationBreakdownStore").getCountries(a,"place_page_set")});d=b("adsCreateStoreThunkSelector")(b("AdsLocationBreakdownStore"),function(a){return b("AdsLocationBreakdownStore").getCountries(a,"page")});f=b("adsCreateStoreThunkSelector")(b("AdsLocationTreeStore"),function(a){return b("AdsLocationTreeStore").getSavingProgress(a)});var k=b("adsCreateStoreThunkSelector")(b("AdsLocationTreeStore"),function(a,c,d,e){return b("AdsLocationTreeStore").getTree(a,c,d,e)}),l=b("adsCreateStoreThunkSelector")(b("AdsLocationMetaStore"),function(a,c){return b("AdsLocationMetaStore").getLocationMeta(a,c)}),m=b("adsCreateStoreThunkSelector")(b("AdsLocationMetaStore"),function(a,c,d){return b("AdsLocationMetaStore").getLocationMetaWithDefaultRadius(a,c,d)}),n=b("AdsNewLocationTargetingEditorProvider").toFluxSelector(),o=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").TARGETING.PLACE_PAGE_SET_IDS)],function(a){return b("AdsBulkValueUtils").mapBulkValue(a,function(a){return a!=null?a.first():void 0})},{name:e.id+".adsCampaignBulkTargetingPlacePageSetIDSelector"}),p=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID)],function(a){return b("AdsBulkValueUtils").mapBulkValue(a,function(a){return a!=null?a:void 0})},{name:e.id+".adsCampaignBulkPromotedPlacePageSetIDSelector"}),q=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID)],function(a,c){c=b("AdsBulkValueUtils").getUniformValue(c);return c==null?null:new(b("AdsNewLocationTargetingEditorStateKey"))({pageID:c,bulkCampaignID:a})},{name:e.id+".adsActiveLocationTargetingEditorKeySelector"}),r=b("adsCreateSelector")([q,n],function(a,c){return a==null?new(b("AdsNewLocationTargetingEditorState"))():c.get(a,new(b("AdsNewLocationTargetingEditorState"))())},{name:e.id+".adsActiveLocationTargetingEditorSelector"});p=b("adsCreateSelector")([b("adsNewLocationTargetingParentPageIDsSelector"),p,b("AdsPlacePageSetInfoStore").getAllSelector],function(a,c,d){c=b("filterNulls")(c.getValues());return b("AdsLoadObjectUtils").all(Array.from(d(c).values())).map(function(c){c=b("AdsBulkValueUtils").aggregate(c.map(function(a){return a.parent_page_id}));return!(c instanceof b("AdsEmptyValue"))?c:a.map(function(a){a=a[0];return a!=null?new(b("AdsUniformValue"))(a):b("AdsEmptyValue").instance()})})},{name:e.id+".adsPageSetLoadObjectBulkParentPageIDSelector"});var s=b("adsCreateSelector")([p],function(a){return a.getValue()||b("AdsEmptyValue").instance()},{name:e.id+".adsPageSetBulkParentPageIDSelector"}),t=b("adsCreateSelector")([b("adsUEditorAccountSelector"),s,o,a],function(a,c,d,e){c=b("AdsBulkValueUtils").getUniformValue(c);var f=b("AdsBulkValueUtils").getUniformValue(d);d=a.account_id;return c==null?b("LoadObject").empty():b("AdsNewLocationTargetingPageSetsUtils").getAllPageSetsForDropdown(e(j(c,d,f)),f,i).map(function(a){return f!=null&&!a.find(function(a){return a.id===f})?a.push(new(b("AdsPlacePageSet"))({id:f})):a}).map(function(a){return h(a.map(function(a){return[a.id,a]}))})},{name:e.id+".adsPageSetsSelector"}),u=b("adsCreateSelector")([s,d],function(a,c){a=b("AdsBulkValueUtils").getUniformValue(a);return a!=null?c(a):b("LoadObject").empty()},{name:e.id+".adsAllPageCountriesSelector"}),v=b("adsCreateSelector")([t,c],b("AdsNewLocationTargetingPageSetsUtils").getPageSetsCountry,{name:e.id+".adsPageSetsCountrySelector"}),w=b("adsCreateSelector")([o,c],function(a,c){a=b("AdsBulkValueUtils").getUniformValue(a);return a!=null?c(a).map(function(a){return a[0]}):b("LoadObject").empty()},{name:e.id+".adsPageSetCountrySelector"}),x=b("adsCreateSelector")([o,t],function(a,c){var d=b("AdsBulkValueUtils").getUniformValue(a);return d!=null?c.map(function(a){return a.get(d)}):b("LoadObject").empty()},{name:e.id+".adsPageSetSelector"}),y=b("adsCreateSelector")([s,r,c,d],function(a,c,d,e){if(c.countryCode!=null)return b("LoadObject").withValue(c.countryCode);a=b("AdsBulkValueUtils").getUniformValue(a);var f=b("LoadObject").empty();c.currentPageSetID!=null?f=d(c.currentPageSetID):a!=null&&(f=e(a));return f.map(function(a){a=a.sort(function(a,b){return b.num_pages-a.num_pages})[0];return a?a.location_id:null})},{name:e.id+".adsActiveLocationTargetingCountryCodeSelector"}),z=b("adsCreateSelector")([b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),s,r,y],function(a,c,d,e){var f=d.currentPageSetID,g=b("AdsBulkValueUtils").getUniformValue(c);return e.mapValue(function(c){return{allLocationsKey:new(b("AdsLocationTreeStoreKey"))({campaignIDs:a,pageID:g,pageSetID:f,countryCode:c,type:"all"}),selectedLocationsKey:new(b("AdsLocationTreeStoreKey"))({campaignIDs:a,pageID:g,pageSetID:f,countryCode:c,type:"selected"})}})},{name:e.id+".adsNewLocationTargetingTreeKeySelector"}),A=b("adsCreateSelector")([s,r,z,k],function(a,c,d,e){c=c.currentPageSetID;a=b("AdsBulkValueUtils").getUniformValue(a);if(d.isLoading())return b("LoadObject").empty();d=d.getValue();return a==null||d==null?b("LoadObject").empty():b("LoadObject").withValue(e(a,c,d.selectedLocationsKey,{shouldNotPopulateWhenInitialized:!0}))},{name:e.id+".adsSelectedLocationsTreeSelector"}),B=b("adsCreateSelector")([v,u],b("AdsNewLocationTargetingPageSetsUtils").getPageSetsPageLevelCountries,{name:e.id+".adsPageSetPageLevelCountriesSelector"}),C=b("adsCreateSelector")([r,b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),l],function(a,c,d){a=a.currentPageSetID;return d(new(b("AdsLocationMetaStoreKey"))({campaignIDs:c,pageSetID:a}),a!=null?a:void 0)},{name:e.id+".adsLocationMetadataSelector"}),D=b("adsCreateSelector")([y,s,b("AdsDefaultTargetingRadiusProvider").toFluxSelector()],function(a,c,d){c=b("AdsBulkValueUtils").getUniformValue(c);return c!=null?d.get(new(b("AdsDefaultTargetingRadiusProviderKey"))({countryCode:a.getValue(),parentPageID:c})):b("LoadObject").empty()},{name:e.id+".adsDefaultTargetingRadiusSelector"});D=b("adsCreateSelector")([r,b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),D,C,m],function(a,c,d,e,f){var g=a.currentPageSetID;return d.isEmpty()?e:d.map(function(a){return f(new(b("AdsLocationMetaStoreKey"))({campaignIDs:c,pageSetID:g}),g!=null?g:void 0,a)})},{name:e.id+".adsLocationMetadataWithDefaultRadiusSelector"});var E=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedCampaignsSelector")],function(a){return g(a.map(function(a){a=a.campaign;return[a.id,a.targeting.toJS()]}))},{name:e.id+".adsTargetingSpecSelector"}),F=b("adsCreateSelector")([w,u],function(a,c){return b("AdsLoadObjectUtils").all([a,c]).mapValue(function(a){var c=a[0];a=a[1];return c!=null?a.find(function(a){return a.location_id===c.location_id}):b("LoadObject").empty()})},{name:e.id+".adsPageSetCountryLocationSelector"});e.exports={adsActiveLocationTargetingCountryCodeSelector:y,adsActiveLocationTargetingEditorKeySelector:q,adsActiveLocationTargetingEditorSelector:r,adsAllPageCountriesSelector:u,adsCampaignBulkTargetingPlacePageSetIDSelector:o,adsLocationMetadataSelector:C,adsLocationMetadataStoreSelector:l,adsLocationMetadataWithDefaultRadiusSelector:D,adsLocationMetadataWithDefaultRadiusStoreSelector:m,adsLocationTreeStoreSelector:k,adsNewLocationTargetingEditorSelector:n,adsNewLocationTargetingTreeKeySelector:z,adsPageCountryStoreSelector:d,adsPageSetBulkParentPageIDSelector:s,adsPageSetCountryLocationSelector:F,adsPageSetCountrySelector:w,adsPageSetCountryStoreSelector:c,adsPageSetCreationProgressStoreSelector:f,adsPageSetLoadObjectBulkParentPageIDSelector:p,adsPageSetPageLevelCountriesSelector:B,adsPageSetsCountrySelector:v,adsPageSetSelector:x,adsPageSetsSelector:t,adsPageSetStoreSelector:a,adsSelectedLocationsTreeSelector:A,adsTargetingSpecSelector:E,getPageSetKey:j}}),null);
__d("AdsTargetingLocationEditorPluginSelectors",["AdsBulkValueUtils","AdsTargetingLocationEditorSwitchStore","AdsTargetingLocationEditorType","AdsTargetingLocationEditorTypePluginResolver","AdsTargetingLocationEditorTypePluginSelectors","AdsUEditorCampaignAdObjectsUtils","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedCampaignsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsTargetingLocationEditorTypePluginResolver").resolve;a=b("AdsTargetingLocationEditorTypePluginSelectors").adsTargetingLocationEditorTypePluginSelector;var h=b("immutable").Map;c=b("adsCreateStoreThunkSelector")(b("AdsTargetingLocationEditorSwitchStore"),function(a,c,d,e){return b("AdsTargetingLocationEditorSwitchStore").getRecord(a,c,d,e)});d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedCampaignsSelector")],function(a){return h(a.map(function(a){var c=a.campaignGroup.objective;return[a.campaign.id,g({objective:c,promotedObjectType:b("AdsUEditorCampaignAdObjectsUtils").getPromotedObjectType(a)})]}))},{name:e.id+".adsTargetingLocationEditorPluginSelector"});f=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorAdObjectsForSelectedCampaignsSelector"),a,c],function(a,b,c,d){return h(b.map(function(b){var e=b.campaign.targeting,f=c.get(b.campaign.id).getDefaultLocationEditorType();return[b.campaign.id,d(a,b.campaign.id,e,f)]}))},{name:e.id+".adsTargetingLocationEditorRecordSelector"});a=b("adsCreateSelector")([f],function(a){return b("AdsBulkValueUtils").aggregate(a.valueSeq().map(function(a){return a.getEditorType()}).toArray())},{name:e.id+".adsTargetingLocationEditorTypeSelector"});c=b("adsCreateSelector")([f],function(a){return a.every(function(a){return a.getEditorType()===b("AdsTargetingLocationEditorType").PAGE_SET})},{name:e.id+".areAllCampaignsUsingLocationSetSelector"});var i=b("adsCreateSelector")([d],function(a){return a.every(function(a){return a.enablePageLocationTargeting()})},{name:e.id+".areAllCampaignsEnablePageLocationTargetingSelector"}),j=b("adsCreateSelector")([d],function(a){return a.every(function(a){return a.enableCountryGroupsTargeting()})},{name:e.id+".areAllCampaignsEnableCountryGroupsTargetingSelector"});d=b("adsCreateSelector")([d],function(a){return a.every(function(a){return a.enableLocationBrowser()})},{name:e.id+".areAllCampaignsEnableLocationBrowserSelector"});e.exports={adsTargetingLocationEditorRecordSelector:f,adsTargetingLocationEditorTypeSelector:a,areAllCampaignsEnableCountryGroupsTargetingSelector:j,areAllCampaignsEnableLocationBrowserSelector:d,areAllCampaignsEnablePageLocationTargetingSelector:i,areAllCampaignsUsingLocationSetSelector:c}}),null);
__d("adsTargetingFlatPageSetIDsSelector",["AdsAPICampaignGroupPaths","AdsBulkValueUtils","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsPageSetStore","AdsPageStore","AdsPageUtils","AdsUEditorCampaignGroupBulkSelectors","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateStoreThunkSelector")(b("AdsPageSetStore"),function(a,c){return b("AdsPageSetStore").getFlatPageSetForPage(a,c)});c=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID),a,b("AdsPageStore").getSelector],function(a,c,d,e){c=b("AdsBulkValueUtils").getUniformValue(c);return c==null?b("LoadObject").empty():b("AdsLoadStateUtils_LEGACY").toLoadObject(e(c)).map(function(c){var e=[].concat(b("AdsPageUtils").hasLocations(c)?[c.id]:[],b("AdsPageUtils").getSharedParentPageIDs(c));return b("AdsLoadObjectUtils").all(e.map(function(b){return d(b,a.account_id)})).map(function(a){return b("immutable").OrderedMap(a.map(function(a,b){return[e[b],a]}))})})},{name:e.id+".adsTargetingFlatPageSetIDsSelector"});e.exports=c}),null);
__d("adsCampaignLocationSetSectionStateSelector",["AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsBulkValueUtils","AdsEmptyValue","AdsNewLocationTargetingSelectors","AdsTargetingLocationEditorPluginSelectors","AdsUEditorCampaignBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUniformValue","adsCreateSelector","adsTargetingFlatPageSetIDsSelector","adsUEditorAccountSelector","adsUEditorSelectedCampaignIDsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsNewLocationTargetingSelectors").adsTargetingSpecSelector;c=b("AdsNewLocationTargetingSelectors").adsPageSetLoadObjectBulkParentPageIDSelector;d=b("AdsTargetingLocationEditorPluginSelectors").adsTargetingLocationEditorRecordSelector;f=b("AdsTargetingLocationEditorPluginSelectors").adsTargetingLocationEditorTypeSelector;b("immutable").Map;b("immutable").OrderedMap;var g=b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").SAVED_AUDIENCE.ID);g=b("adsCreateSelector")([b("adsUEditorSelectedCampaignIDsSelector"),g,b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID),b("adsTargetingFlatPageSetIDsSelector"),d,f,a,b("adsUEditorAccountSelector"),c],function(a,c,d,e,f,g,h,i,j){return{account:i,areAllUsingTheSamePromotedPageID:d instanceof b("AdsUniformValue"),areAllUsingTheSameLocationEditorType:g instanceof b("AdsUniformValue"),bulkParentPageID:j,isAnyUsingSavedAudience:!(c instanceof b("AdsEmptyValue")),campaignIDs:a,loadObjectFlatPageSetIDMap:e,locationEditorType:b("AdsBulkValueUtils").getUniformValue(g),mapLocationEditorRecord:f,mapTargetingSpec:h}},{name:e.id+".adsCampaignLocationSetSectionStateSelector"});e.exports=g}),null);
__d("AdsCommonTargetingLocationUnavailablePageSetEditor",["fbt","AdsBulkValueUtils","AdsCommonTargetingLocationUnavailableEditorLayout","AdsLoadObjectUtils","AdsSelectorUtils","AdsTargetingLocationEditorType","AdsTargetingWebdriverIDs","AdsUEditorCampaignUpdateLocationEditorSpecDataAction","AdsUEditorContextType","FDSLink.react","FDSSpinner.react","FDSText.react","FluxContainer","React","adsCampaignLocationSetSectionStateSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").Component;d=b("React").PropTypes;f=babelHelpers.inherits(a,c);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=this.state.loadObjectFlatPageSetIDMap.getValue(),c=this.state.bulkParentPageID.getValue();if(a==null||c==null)return;c=b("AdsBulkValueUtils").getUniformValue(c);if(c==null)return;b("AdsUEditorCampaignUpdateLocationEditorSpecDataAction").dispatch({account:this.state.account,campaignIDs:this.state.campaignIDs,currentEditorType:b("AdsTargetingLocationEditorType").PAGE_SET,flatPageSetID:a.get(c),hostID:this.context.campaignEditorContext.hostID,mapLocationEditorRecord:this.state.mapLocationEditorRecord,mapTargetingSpec:this.state.mapTargetingSpec,newEditorType:b("AdsTargetingLocationEditorType").LOCATION},{line:"88",module:"AdsCommonTargetingLocationUnavailablePageSetEditor.js"})}.bind(this),c}a.getStores=function(a,c){a=c.campaignEditorContext;return[].concat(b("AdsSelectorUtils").getStores([b("adsCampaignLocationSetSectionStateSelector")],a))};a.calculateState=function(a,c,d){a=d.campaignEditorContext;return b("adsCampaignLocationSetSectionStateSelector")(a)};a.prototype.$2=function(){return b("AdsLoadObjectUtils").all([this.state.loadObjectFlatPageSetIDMap,this.state.bulkParentPageID]).match({loading:function(){return b("React").createElement(b("FDSSpinner.react"),{center:!0,size:"small"})},loaded:function(){return b("React").createElement(b("FDSLink.react"),{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_NEW_PAGE_SET_DISABLE_LINK,onClick:this.$1},g._("Target a geographical area instead"))}.bind(this),error:function(){return null}})};a.prototype.render=function(){return b("React").createElement(b("AdsCommonTargetingLocationUnavailableEditorLayout"),{oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},g._("You're targeting a group of stores.")," ",this.$2()))};a.targetingSpecFields={};a.contextTypes=b("AdsUEditorContextType").campaign;a.propTypes={extraData:d.object,rowRenderer:d.func};e.exports=b("FluxContainer").create(a,{withProps:!0,withContext:!0})}),null);
__d("XAdsetSavedAudienceDissociationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/targeting/adset_saved_audience_dissociated/",{ids:{type:"FBIDVector",required:!0}})}),null);
__d("AdsTargetingSavedAudienceDissociationNotice.react",["fbt","AsyncRequest","React","SUIBusinessTheme","SUINotice.react","XAdsetSavedAudienceDissociationController","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={savedAudienceID:null,savedAudienceName:null},b}a.prototype.componentDidMount=function(){this.$1=this.$2(this.props.adsetIDs)};a.prototype.componentWillUnmount=function(){this.$1!=null&&this.$1.abandon()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){b("shallowEqual")(this.props.adsetIDs,a.adsetIDs)||this.$2(a.adsetIDs)};a.prototype.render=function(){return this.state.savedAudienceID==null||this.state.savedAudienceID===""||this.state.savedAudienceName==null||this.state.savedAudienceName===""?null:b("React").createElement(b("SUINotice.react"),{theme:b("SUIBusinessTheme")},g._("We couldn't update this ad set with the changes you made to saved audience {saved audience name}({saved audience id}). Either our system made an error, or one or more of your entries was invalid. Please try again.",[g._param("saved audience name",this.state.savedAudienceName),g._param("saved audience id",this.state.savedAudienceID)]))};a.prototype.$2=function(a){__p&&__p();if(a.length===0){this.setState({savedAudienceID:null,savedAudienceName:null});return null}a=b("XAdsetSavedAudienceDissociationController").getURIBuilder().setFBIDVector("ids",a).getURI();a=new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a&&a.payload;var b=a.id;a=a.name;this.setState({savedAudienceID:b,savedAudienceName:a})}.bind(this)).setErrorHandler(function(a){});a.send();return a};e.exports=a}),null);
__d("AdsEditorMixedStateLoggingTargetingBulkEditLinkMountDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"TARGETING_BULK_EDIT_LINK_MOUNT");e.exports=a}),null);
__d("adsUEditorCampaignTargetingEditorCustomPropertiesSelector",["AdsAccountCapabilities","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsAutoFixTargetingStore","AdsCFCampaignTargetingPluginResolver","AdsConnectionsUIUtils","AdsEmptyValue","AdsLookalikeLocationStore","AdsMixedValue","AdsPromotedObjectTypes","AdsStoreUtils","AdsTargetingLocationEditorPluginSelectors","AdsUEditorCampaignBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUEditorHostIDs","adsCreateSelector","adsCreateStructuredSelector","adsGetQEForCurrentUserSelector","adsGetUniformValueSelector","adsTargetingHintsObjectiveCheck","adsUEditorAccountSelector","adsUEditorCampaignDerivedPromotedObjectTypeSelector","adsUEditorCampaignErrorsForSelectedCampaignsSelector","adsUEditorCampaignPublishStatusSelector","adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorAccountSelector")],function(a){return a.capabilities},{name:e.id+".capabilitiesSelector"});c=b("adsCreateSelector")([b("adsUEditorCampaignPublishStatusSelector")],function(a){return a.every(function(a){a=a.isNew;return a})},{name:e.id+".isReadOnlySelector"});d=b("adsGetUniformValueSelector")(b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),b("AdsAPIObjectives").NONE);f=b("adsGetUniformValueSelector")(b("adsUEditorCampaignDerivedPromotedObjectTypeSelector"),b("AdsPromotedObjectTypes").NONE);var g=b("adsCreateSelector")([d,f],function(a,c){return b("AdsCFCampaignTargetingPluginResolver").resolve({objective:a,promotedObjectType:c})},{name:e.id+".targetingPluginSelector"}),h=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("AdsLookalikeLocationStore")),b("adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"),g],function(a,c,d){a=!a.get("disableLookalikeLocationView");return a&&(c===b("AdsUEditorHostIDs").EDITING||d.supportsLookalikeLocationView())},{name:e.id+".enableLookalikeLocationViewSelector"});g=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID)),a,b("AdsAutoFixTargetingStore").getSelector,g],function(a,b,c,d){return{ageMinLimit:d.getAgeMinLimit(b||[]),mixedStateEditableInDialog:!0,targetingFixStatus:a!=null?c(a):void 0,tooltip:d.getAgeTooltip()}},{name:e.id+".ageEditorSelector"});var i=b("adsCreateSelector")([b("adsUEditorAccountSelector"),a,h,b("adsGetUniformValueSelector")(b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL),b("AdsAPIOptimizationGoals").NONE)],function(a,c,d,e){return{accountCountry:a.business_country_code,accountInfo:a,directSales:c.includes(b("AdsAccountCapabilities").DIRECT_SALES),mixedStateEditable:!0,supportSetLocationCountriesToLookalikeCountries:d,optimizationGoal:e}},{name:e.id+".audienceEditorSelector"});a=b("adsCreateSelector")([a,b("adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"),d,f],function(a,c,d,e){c=c===b("AdsUEditorHostIDs").EDITING;return b("AdsConnectionsUIUtils").getConnectionsProperties(a,d,{showAdEngagementOption:c},e)},{name:e.id+".connectionsEditorSelector"});h=b("adsCreateSelector")([b("AdsTargetingLocationEditorPluginSelectors").areAllCampaignsEnableCountryGroupsTargetingSelector,b("AdsTargetingLocationEditorPluginSelectors").areAllCampaignsEnableLocationBrowserSelector,h,b("AdsTargetingLocationEditorPluginSelectors").areAllCampaignsEnablePageLocationTargetingSelector,b("adsUEditorCampaignErrorsForSelectedCampaignsSelector"),b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.LOCATION_SET_IDS),b("adsGetQEForCurrentUserSelector")("ads_urban_areas_targeting")],function(a,c,d,e,f,g,h){h=h!=null&&h.hasValue()&&h.getValueEnforcing().getParamBool("enabled");return{disableGeoLocationTargetingEditor:!(g instanceof b("AdsEmptyValue")),enableCountryGroupsTargeting:a,enableLocationBrowser:c,enableLookalikeLocationView:d,enableMultiCityExclusion:!0,enableMultiCityTargeting:h,enablePageLocationTargeting:e,errors:f}},{name:e.id+".locationEditorSelector"});var j=b("adsCreateSelector")([b("AdsTargetingLocationEditorPluginSelectors").adsTargetingLocationEditorTypeSelector],function(a){return{showCustomMessage:!(a instanceof b("AdsMixedValue"))}},{name:e.id+".locationUnavailableEditorSelector"});c=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").BID_STRATEGY)),b("adsGetUniformValueSelector")(b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").BID_STRATEGY)),b("adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"),c,d,f],function(a,c,d,e,f,g){a=a!=null?a:c;c=b("adsTargetingHintsObjectiveCheck")(f,g);f=d===b("AdsUEditorHostIDs").CREATION&&e;e=d===b("AdsUEditorHostIDs").CREATION;return{bidStrategy:a,defaultHint:c,mixedStateEditable:!0,promotedObjectType:g,retrievePrefillSuggestions:f,shouldRemoveUnsupportedHint:!0,shouldSetDefaultHint:e}},{name:e.id+".flexibleTargetingEditorSelector"});d=b("adsCreateStructuredSelector")({ageEditorCustomProperties:g,audienceEditorCustomProperties:i,connectionsEditorCustomProperties:a,flexibleTargetingEditorCustomProperties:c,locationEditorCustomProperties:h,locationUnavailableEditorCustomProperties:j},e.id+".adsUEditorCampaignTargetingEditorCustomPropertiesSelector");e.exports=d}),null);
__d("adsUEditorCampaignTargetingEditorVisibilitySelector",["AdsAccountCapabilities","AdsAccountUtils","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsAppUtils","AdsCFCampaignTargetingPluginResolver","AdsMixedValue","AdsPromotedObjectTypes","AdsTargetingLocationEditorPluginSelectors","AdsUEditorCampaignCatalogBasedTargetingSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUEditorCampaignMessengerSelectors","AdsUEditorHostIDs","adsCreateSelector","adsCreateStructuredSelector","adsGetUniformValueSelector","adsUEditorAccountSelector","adsUEditorCampaignDerivedPromotedObjectTypeSelector","adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING","adsUEditorSelectedCampaignsSelector","firstx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorCampaignCatalogBasedTargetingSelectors").adsUEditorCampaignSomeUsingCatalogBasedTargetingSelector;c=b("adsCreateSelector")([b("adsUEditorSelectedCampaignsSelector")],function(a){return b("firstx")(a)},{name:e.id+".firstCampaignSelector"});d=b("adsGetUniformValueSelector")(b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),b("AdsAPIObjectives").NONE);f=b("adsGetUniformValueSelector")(b("adsUEditorCampaignDerivedPromotedObjectTypeSelector"),b("AdsPromotedObjectTypes").NONE);var g=b("adsCreateSelector")([d,f],function(a,c){return b("AdsCFCampaignTargetingPluginResolver").resolve({objective:a,promotedObjectType:c})},{name:e.id+".targetingPluginSelector"});c=b("adsCreateSelector")([c,b("adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"),d,f,g],function(a,c,d,e,f){return c===b("AdsUEditorHostIDs").CREATION?f.shouldRenderAppTargetEditor(a):b("AdsAppUtils").isAppEngagementObjective(d,e)},{name:e.id+".shouldRenderAppTargetEditorSelector"});d=b("adsCreateSelector")([b("AdsUEditorCampaignMessengerSelectors").allHaveMessengerThreadPosition,b("adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"),b("AdsUEditorCampaignMessengerSelectors").someHaveMessengerThreadPosition],function(a,c,d){return c===b("AdsUEditorHostIDs").CREATION||a||!d},{name:e.id+".shouldRenderAudienceEditorSelector"});f=b("adsCreateSelector")([b("adsUEditorAccountSelector")],function(a){return b("AdsAccountUtils").hasCapability(a,b("AdsAccountCapabilities").CAN_USE_ADS_CONTEXTUAL_TARGETING)},{name:e.id+".shouldRenderContentConsumptionEditorSelector"});g=b("adsCreateSelector")([b("adsUEditorAccountSelector")],function(a){return b("AdsAccountUtils").hasCapability(a,b("AdsAccountCapabilities").ENABLE_ADACCOUNT_OR_BUSINESS_GK_BASED_TARGETING)},{name:e.id+".shouldRenderGatekeepersEditorSelector"});var h=b("adsCreateSelector")([b("AdsTargetingLocationEditorPluginSelectors").adsTargetingLocationEditorTypeSelector],function(a){return a instanceof b("AdsMixedValue")},{name:e.id+".shouldRenderLocationUnavailableMixedStateEditorSelector"}),i=b("AdsTargetingLocationEditorPluginSelectors").areAllCampaignsUsingLocationSetSelector,j=b("adsCreateSelector")([h,i],function(a,b){return a||b},{name:e.id+".shouldRenderLocationUnavailableEditorSelector"});a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),a],function(a,c){return b("AdsAccountUtils").hasCapability(a,b("AdsAccountCapabilities").SHOW_IN_DESTINATION_SELECTOR)&&c},{name:e.id+".shouldRenderCatalogBasedLocationEditorSelector"});c=b("adsCreateStructuredSelector")({shouldRenderAppTargetEditor:c,shouldRenderAudienceEditor:d,shouldRenderCatalogBasedLocationEditor:a,shouldRenderContentConsumptionEditor:f,shouldRenderGatekeepersEditor:g,shouldRenderLocationUnavailableEditor:j,shouldRenderLocationUnavailableMixedStateEditor:h,shouldRenderLocationUnavailablePageSetEditor:i},e.id+".adsUEditorCampaignTargetingEditorVisibilitySelector");e.exports=c}),null);
__d("AdsUEditorCampaignTargetingContainerConfigUtils",["AdsBulkEditDialogTypes","AdsBulkEditOpenFieldsDialogDataAction","AdsBulkEditSources","adsUEditorCampaignTargetingEditorCustomPropertiesSelector","adsUEditorCampaignTargetingEditorVisibilitySelector","gkx","AdsCommonTargetingAudienceEditor","TargetingSectionDivider.react","AdsCommonTargetingLocationUnavailableMixedStateEditor","AdsCommonTargetingLocationUnavailablePageSetEditor","AdsCommonTargetingLocationUnavailableEditor","AdsCatalogBasedTargetingLocationEditor.react","AdsCommonTargetingLocationEditorV2","AdsCommonTargetingAgeEditor","AdsCommonTargetingGenderEditor","AdsCommonTargetingLanguagesEditor","AdsUnifiedFlexibleTargetingEditor","AdsCommonTargetingAppTargetEditor","AdsCommonTargetingConnectionsEditor","AdsTargetingGatekeepersEditor.react","AdsTargetingContentConsumptionEditor.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){return g(a,b).filter(function(a){return a.shouldRender!==!1}).map(function(a){return{component:a.component,customProperties:a.customProperties}})};var g=function(a,c){return[{component:b("AdsCommonTargetingAudienceEditor"),customProperties:a.audienceEditorCustomProperties,shouldRender:c.shouldRenderAudienceEditor},{component:b("TargetingSectionDivider.react"),shouldRender:c.shouldRenderAudienceEditor},{component:b("AdsCommonTargetingLocationUnavailableMixedStateEditor"),shouldRender:b("gkx")("717313")&&c.shouldRenderLocationUnavailableMixedStateEditor},{component:b("AdsCommonTargetingLocationUnavailablePageSetEditor"),shouldRender:b("gkx")("717313")&&c.shouldRenderLocationUnavailablePageSetEditor},{component:b("AdsCommonTargetingLocationUnavailableEditor"),customProperties:a.locationUnavailableEditorCustomProperties,shouldRender:!b("gkx")("717313")&&c.shouldRenderLocationUnavailableEditor},{component:b("AdsCatalogBasedTargetingLocationEditor.react"),shouldRender:c.shouldRenderCatalogBasedLocationEditor},{component:b("AdsCommonTargetingLocationEditorV2"),customProperties:a.locationEditorCustomProperties,shouldRender:!c.shouldRenderLocationUnavailableEditor&&!c.shouldRenderCatalogBasedLocationEditor},{component:b("AdsCommonTargetingAgeEditor"),customProperties:babelHelpers["extends"]({bulkEditAction:h,bulkEditDialogType:b("AdsBulkEditDialogTypes").AGE,bulkEditSource:b("AdsBulkEditSources").EDIT_SHEET},a.ageEditorCustomProperties)},{component:b("AdsCommonTargetingGenderEditor"),customProperties:{bulkEditAction:h,bulkEditDialogType:b("AdsBulkEditDialogTypes").GENDER,bulkEditSource:b("AdsBulkEditSources").EDIT_SHEET,mixedStateEditableInDialog:!0}},{component:b("AdsCommonTargetingLanguagesEditor"),customProperties:{mixedStateEditable:!0}},{component:b("TargetingSectionDivider.react")},{component:b("AdsUnifiedFlexibleTargetingEditor"),customProperties:a.flexibleTargetingEditorCustomProperties},{component:b("TargetingSectionDivider.react")},{component:b("AdsCommonTargetingAppTargetEditor"),shouldRender:c.shouldRenderAppTargetEditor},{component:b("TargetingSectionDivider.react"),shouldRender:c.shouldRenderAppTargetEditor},{component:b("AdsCommonTargetingConnectionsEditor"),customProperties:a.connectionsEditorCustomProperties},{component:b("TargetingSectionDivider.react")},{component:b("AdsTargetingGatekeepersEditor.react"),shouldRender:c.shouldRenderGatekeepersEditor},{component:b("TargetingSectionDivider.react"),shouldRender:c.shouldRenderGatekeepersEditor},{component:b("AdsTargetingContentConsumptionEditor.react"),shouldRender:c.shouldRenderContentConsumptionEditor},{component:b("TargetingSectionDivider.react"),shouldRender:c.shouldRenderContentConsumptionEditor}]},h=function(a,c,d){b("AdsBulkEditOpenFieldsDialogDataAction").dispatch({dialogType:a,level:c,source:d},{line:"160",module:"AdsUEditorCampaignTargetingContainerConfigUtils.js"})};c={getConfig:a};e.exports=c}),null);
__d("adsUEditorCampaignTargetingContainerExtraDataSelector",["AdsAccountCapabilities","AdsAccountUtils","AdsAPIAdCampaignFields","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPITargetFields","AdsBulkValueUtils","AdsFlexibleTargetingConstants","AdsPlacementSchema","AdsUEditorCampaignBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUEditorCampaignSelectors","AdsUEditorHostIDs","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAccountSelector","adsUEditorCampaignDerivedPromotedObjectTypeSelector","adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING","adsUEditorSelectedCampaignIDsSelector","adsUEditorSelectedCampaignsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").ID),b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").NAME),b("AdsUEditorCampaignBulkSelectors").selectorByPath(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID),b("adsUEditorSelectedCampaignIDsSelector"),b("adsUEditorSelectedCampaignsSelector"),b("adsGetUniformValueSelector")(b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath([b("AdsAPIAdCampaignFields").TARGETING,b("AdsAPITargetFields").CONNECTIONS])),b("AdsUEditorCampaignSelectors").eligibilityInformation,b("adsUEditorHostIDSelector_ASK_ACE_TEAM_BEFORE_USING"),b("adsGetUniformValueSelector")(b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE)),b("adsUEditorCampaignDerivedPromotedObjectTypeSelector")],function(a,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m;if(j===b("AdsUEditorHostIDs").CREATION)m=b("AdsBulkValueUtils").getUniformValue(e,void 0);else if(h&&h.size===1){h=h.get(0);m=h?h.get("id"):void 0}h=j===b("AdsUEditorHostIDs").EDITING?560:void 0;var n=b("AdsBulkValueUtils").getUniformValue(c,void 0),o={age:j===b("AdsUEditorHostIDs").EDITING,gender:j===b("AdsUEditorHostIDs").EDITING};j=j===b("AdsUEditorHostIDs").CREATION?b("AdsPlacementSchema"):void 0;var p=b("AdsAccountUtils").hasCapability(a,b("AdsAccountCapabilities").CAN_USE_PROSPECTING_AUDIENCE)&&(k===b("AdsAPIObjectives").LEAD_GENERATION||k===b("AdsAPIObjectives").APP_INSTALLS||k===b("AdsAPIObjectives").CONVERSIONS);return{accountID:a.account_id,apiTransformerBehaviors:b("AdsFlexibleTargetingConstants").FLEXIBLE_API_BEHAVIORS,bulkCampaignID:c,bulkCampaignName:d,campaignIDs:f,capabilities:a.capabilities,campaigns:g,defaultWidth:h,destinationData:{destinationID:m},eligibilityInformation:i,objectiveData:{objective:k},placementAPISpec:i.spec,promotedObject:{page_id:e},promotedObjectType:l,selectedCampaignID:n,selectionSize:f.length,shouldUseAudienceEditorV2:p,supportBulkEdit:o,targetingSpecBlacklist:j,tosAccepted:a.tos_accepted}},{name:e.id+".adsUEditorCampaignTargetingContainerExtraDataSelector"});e.exports=a}),null);
__d("adsUEditorCampaignTargetingEditorSelector",["AdsAPICampaignPaths","AdsCampaignSchema","AdsUEditorCampaignBulkSelectors","adsCreateStructuredSelector","adsUEditorCampaignTargetingContainerExtraDataSelector","adsUEditorCampaignTargetingEditorCustomPropertiesSelector","adsUEditorCampaignTargetingEditorVisibilitySelector","adsUEditorSelectedCampaignIDsSelector","getByPath","mapObject"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAPICampaignPaths").TARGETING;a=Object.keys(g).reduce(function(a,b){if(b!=="path"){b=b==="GEO_LOCATIONS"||b==="EXCLUDED_GEO_LOCATIONS"||b==="CATALOG_BASED_TARGETING"?g[b].path:g[b];var c=b[b.length-1];a[c]=b}return a},{});c=b("adsCreateStructuredSelector")(b("mapObject")(a,function(a){return b("AdsUEditorCampaignBulkSelectors").selectorByPathToJS(a,b("getByPath")(b("AdsCampaignSchema"),a))}),e.id+".targetingBulkSpecSelector");d=b("adsCreateStructuredSelector")({campaignIDs:b("adsUEditorSelectedCampaignIDsSelector"),customProperties:b("adsUEditorCampaignTargetingEditorCustomPropertiesSelector"),extraData:b("adsUEditorCampaignTargetingContainerExtraDataSelector"),targetingBulkSpec:c,visibility:b("adsUEditorCampaignTargetingEditorVisibilitySelector")},e.id+".adsUEditorCampaignTargetingEditorSelector");e.exports=d}),null);
__d("AdsUEditorCampaignTargetingEditorContainer.react",["AdsBulkEditLoggingUtils","AdsCommonTargetingUtils","AdsEditorMixedStateLoggingMixedStateComponentMountDataAction","AdsEditorMixedStateLoggingTargetingBulkEditLinkMountDataAction","AdsFlexibleTargetingConstants","AdsFluxContainer","AdsUEditorCampaignOnFinishedLoadingTargetingContainerAction","AdsUEditorCampaignSetTargetingSpecAction","AdsUEditorCampaignTargetingContainerConfigUtils","AdsUEditorContextType","AdsUEditorHostIDs","React","TargetingBulkSpecUtils","TargetingContainer.react","adsUEditorCampaignTargetingEditorSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$3=function(){b("AdsUEditorCampaignOnFinishedLoadingTargetingContainerAction").dispatch({hostID:this.context.campaignEditorContext.hostID},{line:"126",module:"AdsUEditorCampaignTargetingEditorContainer.react.js"})}.bind(this),this.$4=function(a,c){a=this.state.targetingBulkSpec;var d;b("AdsCommonTargetingUtils").hasBulkSpecChanged(a,c,b("AdsFlexibleTargetingConstants").SUPPORT_TARGETING_TYPES)&&(d=b("AdsCommonTargetingUtils").getBulkSpecDiff(b("TargetingBulkSpecUtils").transformAdsBulkValueToSpec(a),b("TargetingBulkSpecUtils").transformAdsBulkValueToSpec(c)));b("AdsUEditorCampaignSetTargetingSpecAction").dispatch({campaignIDs:this.state.campaignIDs,hostID:this.context.campaignEditorContext.hostID,targetingBulkSpec:c,targetingSpecDiff:d},{line:"152",module:"AdsUEditorCampaignTargetingEditorContainer.react.js"})}.bind(this),c}a.getStores=function(a,c){a=c.campaignEditorContext;return b("adsUEditorCampaignTargetingEditorSelector").getStores(a)};a.calculateState=function(a,c,d){a=d.campaignEditorContext;return b("adsUEditorCampaignTargetingEditorSelector")(a)};a.prototype.componentDidMount=function(){if(this.context.campaignEditorContext.hostID===b("AdsUEditorHostIDs").CREATION)return;var a=b("AdsBulkEditLoggingUtils").getMixedStatesFromBulkSpec(this.state.targetingBulkSpec);b("AdsEditorMixedStateLoggingMixedStateComponentMountDataAction").dispatch({mixedStateFields:a},{line:"78",module:"AdsUEditorCampaignTargetingEditorContainer.react.js"});a=this.$1(a,this.state.extraData.supportBulkEdit);b("AdsEditorMixedStateLoggingTargetingBulkEditLinkMountDataAction").dispatch({bulkEditFields:a},{line:"86",module:"AdsUEditorCampaignTargetingEditorContainer.react.js"})};a.prototype.render=function(){return b("React").createElement(b("TargetingContainer.react"),{config:this.$2(),defaultApiSpec:this.state.targetingBulkSpec,extraData:babelHelpers["extends"]({},this.state.extraData),onFinishedLoading:this.$3,onTargetingSpecChange:this.$4})};a.prototype.$1=function(a,c){return Object.keys(c).filter(function(c){var d=b("AdsCommonTargetingUtils").convertBulkEditFieldKeyToSpecKeys(c);return!!a.find(function(a){return Object.prototype.hasOwnProperty.call(d,a)})})};a.prototype.$2=function(){return b("AdsUEditorCampaignTargetingContainerConfigUtils").getConfig(this.state.customProperties,this.state.visibility)};a.contextTypes=b("AdsUEditorContextType").campaign;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id+".exports"})}),null);
__d("AdsEditorTargetingForm.react",["cx","fbt","AdsAPIAdAccountFields","AdsAPIObjectives","AdsBulkValueUtils","AdsInfoTable.react","AdsInfoTableRow.react","AdsTargetingLocationEditorType","AdsTargetingSavedAudienceSaveButton.react","AdsUEditorCampaignTargetingEditorContainer.react","React","TargetingBulkSpecUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){this.props.onSavedAudienceChange(this.props.campaign.id.getValues(),a)}.bind(this),b}a.prototype.render=function(){return b("React").createElement("div",{className:"_4j4b"},b("React").createElement(b("AdsUEditorCampaignTargetingEditorContainer.react"),null),b("React").createElement("div",null,this.$1()))};a.prototype.$2=function(){var a=this.props.campaign.targeting;a=b("TargetingBulkSpecUtils").hasMixedValue(a);var c=b("AdsBulkValueUtils").getUniformValue(this.props.campaignGroup.objective);c=c===b("AdsAPIObjectives").PRODUCT_CATALOG_SALES;var d=b("AdsBulkValueUtils").getUniformValue(this.props.locationEditorType)===b("AdsTargetingLocationEditorType").LOCATION;return a||!d||c};a.prototype.$1=function(){if(this.$2())return null;var a=this.props.account[b("AdsAPIAdAccountFields").NAME]||h._("Saved Audience"),c=b("TargetingBulkSpecUtils").separateBulkValueSpecToFlatAndMixed(this.props.campaign.targeting);c=c.flatSpec;return b("React").createElement("div",null,b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),null,b("React").createElement(b("AdsTargetingSavedAudienceSaveButton.react"),{accountID:this.props.account[b("AdsAPIAdAccountFields").ACCOUNT_ID],defaultName:a,targetingAPISpec:c,onSaveAudience:this.$3}))))};a.propTypes={account:c.object.isRequired,campaign:c.object.isRequired,campaignGroup:c.object.isRequired,locationEditorType:c.object,onSavedAudienceChange:c.func.isRequired};e.exports=a}),null);
__d("AdsEditorTargetingFormContainer.react",["cx","AdCampaignDestination","AdsAPICampaignPaths","AdsAutoFixTargetingStore","AdsCampaignBulkStore","AdsCampaignGroupBulkStore","AdsCampaignValidationStore","AdsEditingCampaignEditorContext","AdsEditorTargetingForm.react","AdsEmptyValue","AdsFluxContainer","AdsForceExpandedTargetingForWhatsAppCTANotice.react","AdsLookalikeLocationStore","AdsQEStore","AdsSelectedAccountGetter","AdsSelectorUtils","AdsTargetingGrayAreaSegmentsMTCNoticeContainer.react","AdsTargetingLocationEditorPluginSelectors","AdsTargetingSavedAudienceDissociationNotice.react","AdsUEditorCampaignSetSavedAudienceAction","AdsUEditorHostIDs","React","getByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsTargetingLocationEditorPluginSelectors").adsTargetingLocationEditorTypeSelector;c=b("React").Component;h=babelHelpers.inherits(a,c);h&&h.prototype;a.getStores=function(){return[].concat(b("AdsSelectorUtils").getStores([i],b("AdsEditingCampaignEditorContext")),b("AdsSelectedAccountGetter").getStores(),[b("AdsAutoFixTargetingStore"),b("AdsCampaignBulkStore"),b("AdsCampaignGroupBulkStore"),b("AdsCampaignValidationStore"),b("AdsLookalikeLocationStore"),b("AdsQEStore")])};a.calculateState=function(){var a=b("AdsSelectedAccountGetter").get({}),c=b("AdsCampaignBulkStore").getBulkSpec(),d=b("AdsCampaignGroupBulkStore").getBulkSpec(),e=i(b("AdsEditingCampaignEditorContext"));return{account:a,campaign:c,campaignGroup:d,locationEditorType:e}};a.prototype.render=function(){var a=null;this.state.account&&this.state.account.account_id&&(a=b("React").createElement(b("AdsTargetingGrayAreaSegmentsMTCNoticeContainer.react"),{adAccountID:this.state.account.account_id,className:"_2pid _2pin"}));var c=null;this.state.campaign.id&&(c=b("React").createElement(b("AdsTargetingSavedAudienceDissociationNotice.react"),{adsetIDs:this.state.campaign.id.getValues()}));var d=b("getByPath")(this.state.campaign,b("AdsAPICampaignPaths").DESTINATION_TYPE,b("AdsEmptyValue").instance()).getValues().some(function(a){return a===b("AdCampaignDestination").WHATSAPP});return b("React").createElement("div",null,a,b("React").createElement(b("AdsForceExpandedTargetingForWhatsAppCTANotice.react"),{hostID:b("AdsUEditorHostIDs").EDITING,showExpandedTargetingHints:d}),c,b("React").createElement(b("AdsEditorTargetingForm.react"),{account:this.state.account,campaign:this.state.campaign,campaignGroup:this.state.campaignGroup,locationEditorType:this.state.locationEditorType,onSavedAudienceChange:this.$1}))};a.prototype.$1=function(a,c){b("AdsUEditorCampaignSetSavedAudienceAction").dispatch({campaignIDs:a,hostID:b("AdsUEditorHostIDs").EDITING,savedAudienceID:c.id,savedAudienceName:c.name,targetingSpec:c.targeting},{line:"138",module:"AdsEditorTargetingFormContainer.react.js"})};function a(){h.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);