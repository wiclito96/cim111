if (self.CavalryLogger) { CavalryLogger.start_js(["pq2JW"]); }

__d("ArtilleryLoggerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRELIMINARY_UPLOAD:"preliminary",FULL_UPLOAD:"full_upload"})}),null);
__d("ExpiringLockable",["EventEmitter","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$ExpiringLockable1=0,b}a.prototype.addUnlockListener=function(a,b){this.once("unlock",a,b)};a.prototype.$ExpiringLockable2=function(){this.$ExpiringLockable1+=1;var a=!1;return function(){if(a)return;a=!0;this.$ExpiringLockable1-=1;this.$ExpiringLockable1===0&&this.emit("unlock")}.bind(this)};a.prototype.getLock=function(){return{unlock:this.$ExpiringLockable2()}};a.prototype.getLockWithTimeout=function(a){var c=this.$ExpiringLockable2(),d,e=function(){d!=null&&(b("clearTimeout")(d),d=null),c()};d=b("setTimeoutAcrossTransitions")(function(){return e()},a);return{unlock:e}};a.prototype.destroy=function(){this.removeAllListeners("unlock")};e.exports=a}),null);
__d("ArtilleryProfilingHandleManager",["ExpiringLockable"],(function(a,b,c,d,e,f){"use strict";var g=new(b("ExpiringLockable"))();a={reset:function(){g.destroy(),g=new(b("ExpiringLockable"))()},subscribeToAllHandlesClosed:function(a){g.addUnlockListener(a)},getProfilingHandle:function(a,b){b===void 0&&(b=6e4);a=g.getLockWithTimeout(b);return{finish:a.unlock}}};e.exports=a}),null);
__d("ArtillerySWDataCollector",["Promise","ArtillerySWConfig","ClientServiceWorkerMessage","ServiceWorkerRegistration","pageLoadedViaSWCache","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=5e3,h=null;function i(a){__p&&__p();var c=!1,d=new(b("ClientServiceWorkerMessage"))("asw-pageTraceDataRequest",{fullSWEFLog:b("ArtillerySWConfig").shouldLogEFRsrcs},function(b){__p&&__p();b=b.data;var d=b.command;b=b.data;if(c)return;c=!0;if(d==="trace"&&b.workerPerf){var e;b.workerPerf.annotations.stringProps&&b.workerPerf.annotations.stringProps.fullCacheHitData&&(e=b.workerPerf.annotations.stringProps.fullCacheHitData,delete b.workerPerf.annotations.stringProps.fullCacheHitData);a({workerPerf:b.workerPerf,fullCacheHitData:e});return}});d.sendViaController()}a={collect:function(){__p&&__p();if(h!==null)return h;h=new(b("Promise"))(function(a,c){b("pageLoadedViaSWCache")()||b("ServiceWorkerRegistration").isAWorkerActivated().then(function(c){if(c)b("setTimeoutAcrossTransitions")(function(){a()},g);else{a();return}})["catch"](a),i(a)});return h}};e.exports=a}),null);
__d("BrowserProfiler",[],(function(a,b,c,d,e,f){a={isEnabled:function(){return this.isAvailable()},isAvailable:function(){return!!window.facebookLowLevelProfiler},getProfile:function(a){window.facebookLowLevelProfiler.getData(function(b){a(b)})},notifyTracePosted:function(a,b){window.facebookLowLevelProfiler.notifyTracePosted(a,b)}};e.exports=a}),null);
__d("sourceMetaToString",[],(function(a,b,c,d,e,f){function a(a,b){var c;a.name?(c=a.name,a.module&&(c=a.module+"."+c)):a.module&&(c=a.module+".<anonymous>");b&&a.line&&(c=(c?c:"<anonymous>")+":"+a.line,a.column&&(c+=":"+a.column));return c}e.exports=a}),null);
__d("TimeSliceHelper",["LogBuffer","ProfilingCounters","ProfilingCountersStore","sourceMetaToString"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a,b){return Math.round((a-b)*1e3)},h={counterFunction:function(a){return b("ProfilingCountersStore").getNestedTotals(a)}};function i(a,c,d,e){__p&&__p();c=c.counterFunction;if(d.guard){var f=b("sourceMetaToString")(d),g=d.guard.toString();f=f?g+" at "+f:g}else f=d.desc;g=e!=null?c(e):null;c={begin:d.begin,end:d.end,name:f,id:d.id,counters:g,isEdgeContinuation:d.isEdgeContinuation};d.parentID&&d.parentID!==d.id&&(c.parentID=d.parentID);a.push(c)}function j(a,c,d){c=c.counterFunction;c={begin:d.begin,end:d.end,name:"JS["+d.count+"]",counters:c(b("ProfilingCounters").wrapInSingleContext(d.contextsToBeMerged))};a.push(c)}function k(a,b){var c=b.indirectParentID,d=b.id;b=b.isEdgeContinuation;if(c!=null){var e=a.get(c);b=b;e!=null?e={indirectParentID:e.indirectParentID,isEdgeContinuation:b&&e.isEdgeContinuation}:e={indirectParentID:c,isEdgeContinuation:b};a.set(d,e)}}function l(a,b){var c=b.indirectParentID,d=b.isEdgeContinuation,e=b.id;if(c!=null&&c!==e){e=a.get(c);e!=null&&(c=e.indirectParentID,d=e.isEdgeContinuation&&d);return babelHelpers["extends"]({},b,{parentID:c,isEdgeContinuation:d})}return b}a={formatMetricsForTransport:function(a){__p&&__p();var b=[],c=[],d=[],e=new Map(),f=new Map(),h=0,i=function(a,b,c){var d;b.has(a)?d=b.get(a):(d=c.length,b.set(a,d),c.push(a));return d},j=[];a!=null&&a.forEach(function(a){__p&&__p();var k=a.begin,l=a.end,m=a.name,n=a.id,o=a.counters,p=a.parentID;a=a.isEdgeContinuation;var q=g(k,h);k=g(l,k);h=l;l=i(m,e,b);m=[q,k,l];var r=o||{};q=Object.keys(r).filter(function(a){return r[a]!==0}).sort();if(q.length>0){k=q.join();l=i(k,f,d);o=q.map(function(a){return r[a]});o.unshift(l)}else o=[];n&&m.push(n);p&&(m.push(p),m.push(a));j.push(m);c.push(o)});return{version:"compact",items:j,names:b,counters:c,counterSchemas:d}},getMetrics:function(a,b,c,d,e,f,g){var h=function(a,b){var e=b.end-b.begin<c;b=a&&b.begin-a.end<d&&e;return{shouldMergeIntoCurrentMerge:b,shouldFlushCurrentThenNewMerge:e}};return this.getCustomMergeMetrics(a,b,h,e,f,g)},getCustomMergeMetrics:function(a,c,d,e,f,g){__p&&__p();g==null?g=h:g=babelHelpers["extends"]({},h,g);var m=function(a){a=a.id;return a&&f[a]?f[a]:null},n=[],o=i.bind(void 0,n,g),p=j.bind(void 0,n,g);g=b("LogBuffer").read("time_slice_heartbeat");if(e.length>0){var q=Math.max.apply(null,e.map(function(a){return a.id}));g.forEach(function(a){return a.id+=q})}e=e.concat(g);var r;g=new Map();var s=k.bind(void 0,g),t=l.bind(void 0,g),u=function(){r&&(r.count>1?p(r):o(t(r.first),m(r.first))),r=null};g=e.sort(function(a,b){if(a.begin!==b.begin)return a.begin-b.begin;else if(a.end!==b.end)return a.end-b.end;else return 0}).filter(function(b){return(a==null||b.end>=a)&&(c==null||b.begin<=c)});if(g.length>0&&!g[0].representsExecution&&g[0].begin<a){e=g[0];g[0]=babelHelpers["extends"]({},e,{begin:a})}g.forEach(function(a){__p&&__p();var b=d(r,a),c=b.shouldMergeIntoCurrentMerge;b=b.shouldFlushCurrentThenNewMerge;var e=m(a);if(r&&c)r.end=a.end,r.count++,e&&r.contextsToBeMerged.push(e),r.count===2&&s(r.first),s(a);else if(b){u();c=[];e&&c.push(e);r={begin:a.begin,end:a.end,count:1,first:a,contextsToBeMerged:c}}else b||(u(),o(t(a),e))});u();return n}};e.exports=a}),null);
__d("getFirstPaint",["performance"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){var a;if(b("performance")&&b("performance").timing)if(window.chrome&&window.chrome.loadTimes){var c=window.chrome.loadTimes();a=parseInt(c.firstPaintTime*1e3,10)}else typeof b("performance").timing.msFirstPaint==="number"&&(a=b("performance").timing.msFirstPaint);return a||null}e.exports=a}),null);
__d("incognito",["regeneratorRuntime","Promise","UserAgent","WebStorage","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:a=window.RequestFileSystem||window.webkitRequestFileSystem;if(!a){c.next=3;break}return c.abrupt("return",new(b("Promise"))(function(b){return a(window.TEMPORARY,10,function(){return b(!1)},function(){return b(!0)})}));case 3:if(!(b("UserAgent").isBrowser("IE >= 10")||b("UserAgent").isBrowser("Edge"))){c.next=5;break}return c.abrupt("return",!window.indexedDB);case 5:if(!b("UserAgent").isBrowser("Firefox >= 16")){c.next=7;break}return c.abrupt("return",new(b("Promise"))(function(a){var b=window.indexedDB.open("__test__");b.onsuccess=function(){return a(!1)};b.onerror=function(b){b.preventDefault(),a(!0)}}));case 7:if(!(b("gkx")("676917")&&(b("UserAgent").isPlatform("iOS")&&b("UserAgent").isBrowser("Safari >= 10.3")||b("UserAgent").isPlatform("Mac OS X")&&b("UserAgent").isBrowser("Safari >= 11.1")))){c.next=18;break}c.prev=8;window.openDatabase("sid","1.0","",0);c.next=16;break;case 12:c.prev=12;c.t0=c["catch"](8);if(!(c.t0.name==="SecurityError")){c.next=16;break}return c.abrupt("return",!0);case 16:c.next=20;break;case 18:if(!b("UserAgent").isBrowser("Safari")){c.next=20;break}return c.abrupt("return",!b("WebStorage").getLocalStorage());case 20:return c.abrupt("return",!1);case 21:case"end":return c.stop()}},null,this,[[8,12]])}e.exports=a}),null);
__d("ArtilleryLogger",["Arbiter","ArtilleryExperiments","ArtilleryLoggerType","ArtilleryOnUntilOffLogging","ArtilleryProfilingHandleManager","ArtilleryRequestDataCollection","ArtillerySWDataCollector","Banzai","BigPipe","BigPipeExperiments","BrowserProfiler","ImageTimingHelper","NavigationMetrics","NavigationTimingHelper","PageletEventsHelper","ProfilingCountersStore","ResourceTimingBootloaderHelper","SnappyCompressUtil","TimeSliceHelper","TimeSliceInteraction","VisibilityListener","forEachObject","getFirstPaint","gkx","incognito","pageLoadedViaSWCache","performance","performanceAbsoluteNow","promiseDone","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("AsyncProfiler",function(a){g=a});var h=b("BigPipeExperiments").link_images_to_pagelets,i=b("gkx")("676831")&&b("ArtilleryExperiments").artillery_profiler_on,j=b("gkx")("676832")&&b("ArtilleryExperiments").artillery_profiler_on,k=b("gkx")("676833")&&b("ArtilleryExperiments").artillery_profiler_on,l=b("ArtilleryExperiments").artillery_merge_max_distance_sec,m=b("ArtilleryExperiments").artillery_merge_max_duration_sec,n="generation_time",o="__user_annotations",p="serviceworker",q="first_paint",r="sampler_profile",s="user_timing_profile",t="artillery_logger_data",u="artillery_browser_perf_data",v=new Map(),w=new Map(),x=!1,y=new Map(),z=new Map(),A,B,C,D=null;function E(){return b("performance")&&b("performance").timing&&b("performance").timing.navigationStart}function F(a){v.has(a)||v.set(a,{})}function G(a){a.subscribe(b("BigPipe").Events.tti,function(a,c){a=c.ts;var d=c.lid;c=c.metrics;F(d);var e=v.get(d);e.t_bigpipe_tti=a;b("forEachObject")(c,function(a,b){e[b]=a})})}function H(a){a.subscribe(b("BigPipe").Events.displayed,function(a,c){a=c.ts;var d=c.lid;F(d);v.get(d).t_marker_all_pagelets_displayed=a;b("promiseDone")(b("ArtillerySWDataCollector").collect(),function(a){a&&z.set(d,a)})})}function I(a){a.subscribe(b("BigPipe").Events.loaded,function(a,b){a=b.ts;b=b.lid;F(b);v.get(b).t_marker_bigpipe_e2e=a})}function J(a,c){if(!a)return;if(c.profile){var d=b("SnappyCompressUtil").compressStringToSnappy(c.profile);d!==null&&(c.profile=d,c.snappy=!0)}d={clientData:a,browserPerfData:c,traceType:"pageload"};b("Banzai").post(u,d,b("Banzai").VITAL);b("BrowserProfiler").notifyTracePosted(d.clientData.traceID,d.traceType)}function K(a,c,d){var e=d;if(b("BrowserProfiler").isEnabled()&&w.has(e)){var f=w.get(e);window.requestIdleCallback(function(){b("BrowserProfiler").getProfile(function(a){J(f,a)})})}L(a,c,d)}function L(a,c,d){__p&&__p();var e=b("performanceAbsoluteNow")(),f=d,k=v.get(f),r=w.get(f);if(!r||!k)return;k.uploadType=b("ArtilleryLoggerType").FULL_UPLOAD;U(k);V(k,f);P();var t=b("performanceAbsoluteNow")(),u=null;switch(a){case"normal":u=0;k.navigation_timing=b("NavigationTimingHelper").getNavTimings();break;case"quickling":case"ajax":if(b("performance").getEntriesByName){var x=b("performance").getEntriesByName(c);k.navigation_timing=b("NavigationTimingHelper").getAsyncRequestTimings(c);x.length&&(u=x[0].startTime)}break}c=M(a,d);x=c.sampleRecorder;d=c.profilingCountersData;var A=c.userTimingProfilerData;c=c.timeSliceData;if(u!=null&&E()){u=u+b("performance").timing.navigationStart;k.resource_timing_bootloader=b("ResourceTimingBootloaderHelper").getMetrics(u,h,f,null,!0).data;c=b("TimeSliceHelper").getMetrics(u,k.t_onload,m,l,c,b("ProfilingCountersStore").toMap(d));j?k.time_slice=b("TimeSliceHelper").formatMetricsForTransport(c):k.time_slice=c;k.extra_points=b("TimeSliceInteraction").getPageLoadPoints(u,t);k.interaction_ids=b("TimeSliceInteraction").getInteractionIDsBetween(u,t)}k.pagelet_events=b("PageletEventsHelper").getMetrics(f);!i&&k.pagelet_events&&(k.pagelet_events.display_resources&&delete k.pagelet_events.display_resources,k.pagelet_events.all_resources&&delete k.pagelet_events.all_resources);k.t_pagelet_start_early_resources&&k.t_pagelet_cssload_early_resources&&k.pagelet_events&&k.pagelet_events.pagelets&&(k.pagelet_events.pagelets.early_resources={css:k.t_pagelet_start_early_resources,css_load:k.t_pagelet_cssload_early_resources});X(f);W(k,f);var B=babelHelpers["extends"]({},k,r.data,{policies:Array.from(r.policies)});d=z.get(f);a==="normal"&&d!=null&&(B[p]=d.workerPerf);a==="normal"&&(B[q]=b("getFirstPaint")());y.size&&(B[o]={},y.forEach(function(a,b){B[o][b]=a}));w["delete"](f);v["delete"](f);A&&E()&&(B[s]=A);B[n]=b("performanceAbsoluteNow")()-e;c=g!=null&&x!=null?g.stopRecording(x):null;c!=null?c.then(function(a){return N(B,a)},function(a){throw a}):N(B)}function M(a,c){switch(a){case"normal":case"quickling":return b("ArtilleryOnUntilOffLogging").finish();case"ajax":return b("ArtilleryRequestDataCollection").finish(c)}return{sampleRecorder:null,profilingCountersData:[],userTimingProfilerData:null,timeSliceData:[]}}function N(a,c){c!=null&&(a[r]=c);c=b("performanceAbsoluteNow")();O(a);a[n]+=b("performanceAbsoluteNow")()-c;b("Banzai").post(t,a,b("Banzai").VITAL)}function O(a){__p&&__p();var c={};if(k){var d=["resource_timing_bootloader","pagelet_events"];d.forEach(function(d){var e=a[d];if(e==null)return;e=JSON.stringify(e);e=b("SnappyCompressUtil").compressStringToSnappy(e);e!==null&&(c[d]=e,delete a[d])})}d=[s];d.forEach(function(d){var e=a[d];if(e==null)return;e=b("SnappyCompressUtil").compressUint8ArrayToSnappy(a[d]);e!==null&&(c[d]=e,delete a[d])});Array.from(Object.keys(c)).length>0&&(a.miny=c)}function P(){__p&&__p();Y.recordUserAnnotation("is_incognito",C!=null?C.toString():"unknown");var a=navigator&&navigator.hardwareConcurrency;Y.recordUserAnnotation("num_cores",a!=null?a.toString():"unknown");navigator&&navigator.deviceMemory&&typeof navigator.deviceMemory==="number"&&Y.recordUserAnnotation("ram_gb",navigator.deviceMemory.toString());navigator&&navigator.connection&&(typeof navigator.connection.downlink==="number"&&Y.recordUserAnnotation("browser_downlink_megabits",navigator.connection.downlink.toString()),typeof navigator.connection.rtt==="number"&&Y.recordUserAnnotation("browser_rtt_ms",navigator.connection.rtt.toString()),typeof navigator.connection.effectiveType==="string"&&Y.recordUserAnnotation("browser_effective_connection_type",navigator.connection.effectiveType));Y.recordUserAnnotation("client_pixel_ratio_10x",((window.devicePixelRatio||1)*10).toString());Y.recordUserAnnotation("is_sw_page_loaded_via_cache",b("pageLoadedViaSWCache")()?"1":"0");b("performance")&&b("performance").navigation&&Y.recordUserAnnotation("nav_type",Q(b("performance").navigation.type));try{a=b("VisibilityListener").getHiddenTime(0,Infinity);a&&Y.recordUserAnnotation("is_tab_hidden",a>0?"1":"0")}catch(a){}}function Q(a){switch(a){case 0:return"TYPE_NAVIGATE";case 1:return"TYPE_RELOAD";case 2:return"TYPE_BACK_FORWARD";case 255:return"TYPE_RESERVED";default:return"unknown navigation type"}}function R(){if(D==null)return;var a=D,b=a.pageType,c=a.pageURI;a=a.serverLID;K(b,c,a)}function S(a){a=a.serverLID;return w.has(a)&&v.has(a)}function T(){var a=function(a,b){S(b)&&(D=b,A!=null&&(A.finish(),A=null))};b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,a)}function U(a){if(!D)return;!a.t_bigpipe_tti&&D.tti&&(a.t_bigpipe_tti=D.tti);!a.t_tti&&D.tti&&(a.t_tti=D.tti);!a.t_marker_bigpipe_e2e&&D.e2e&&(a.t_marker_bigpipe_e2e=D.e2e);!a.t_onload&&D.e2e&&(a.t_onload=D.e2e)}function V(a,b){if(window.CavalryLogger){var c=window.CavalryLogger.getInstance(b);b=["t_domcontent","t_pagelet_start_early_resources","t_pagelet_cssload_early_resources","t_tti","t_onload"];b.forEach(function(b){Object.prototype.hasOwnProperty.call(c.values,b)?a[b]=c.values[b]:window[b]!=void 0&&(a[b]=window[b])})}}function W(a,c){if(window.CavalryLogger){c=window.CavalryLogger.getInstance(c);b("ResourceTimingBootloaderHelper").mergeBootloaderMetricsAndResourceTimings(a.resource_timing_bootloader,c.bootloader_metrics,!0)}}function X(a){__p&&__p();var c=v.get(a);if(E()){var d=b("performance").timing.navigationStart,e=c.t_bigpipe_tti,f=c.t_marker_bigpipe_e2e;a=b("ImageTimingHelper").getImageTimings(a);e=b("ResourceTimingBootloaderHelper").getLastTTIAndE2EImageResponseEnds(e,f,a);f=e.TTI;a=e.E2E;!isNaN(f)&&f!==d&&(c.t_tti_with_images=f);!isNaN(a)&&a!==d&&(c.t_marker_bigpipe_e2e_with_images=a)}}var Y={enableProfilingWithClientData:function(a,c,d,e){__p&&__p();F(a);w.set(a,{traceID:c,data:d,policies:e});(A!=null||B!=null)&&(b("ArtilleryProfilingHandleManager").reset(),A=null,B=null);A=b("ArtilleryProfilingHandleManager").getProfilingHandle(b("NavigationMetrics").Events.NAVIGATION_DONE,300*1e3);B=b("ArtilleryProfilingHandleManager").getProfilingHandle("IncognitoHandle");b("promiseDone")(b("incognito")(),function(a){C=a,B!=null&&(B.finish(),B=null)});b("ArtilleryProfilingHandleManager").subscribeToAllHandlesClosed(R);if(x)return;x=!0;b("PageletEventsHelper").init();b("Arbiter").subscribe(b("BigPipe").Events.init,function(a,b){a=b.arbiter;a&&(G(a),H(a),I(a))});T()},recordUserAnnotation:function(a,b,c){c===void 0&&(c=!0);if(!c&&y.has(a))return!1;y.set(a,b);return!0}};e.exports=Y}),null);