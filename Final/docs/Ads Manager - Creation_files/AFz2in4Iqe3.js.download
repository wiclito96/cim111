if (self.CavalryLogger) { CavalryLogger.start_js(["CAgr5"]); }

__d("SignalsAppEventStatsSignalsAppEventStatsFailAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SIGNALS_APP_EVENT_STATS_FAIL");e.exports=a}),null);
__d("SignalsAppEventStatsSignalsAppEventStatsLoadingAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SIGNALS_APP_EVENT_STATS_LOADING");e.exports=a}),null);
__d("SignalsAppEventStatsSignalsAppEventStatsSuccessAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SIGNALS_APP_EVENT_STATS_SUCCESS");e.exports=a}),null);
__d("SignalsPager.react",["ix","cx","fbt","React","SUIButton.react","SUIButtonGroup.react","SUIGlyphIcon.react","SUITextInput.react","asset","fbglyph","joinClasses","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PureComponent;var k=i._("First"),l=i._("Previous"),m=i._("Next"),n=i._("Last"),o={"default":g("407580"),disabled:g("407579")},p={"default":g("123705"),disabled:g("125307")},q={"default":g("407687"),disabled:g("407685")},r={"default":g("406930"),disabled:g("406929")},s=1,t=i._("Invalid Input");d=babelHelpers.inherits(a,c);j=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={invalidInput:!1,pageInput:String(s)},this.$1=function(a){__p&&__p();if(a!==""){var b=this.props,c=b.startIndex;b=b.pageCount;var d=Number(a);c=Math.min(Math.max(c,d),b);c===d?this.$2(c):this.setState(function(b){return{invalidInput:!0,pageInput:a}})}else this.setState(function(b){return{pageInput:a,invalidInput:!1}})}.bind(this),this.$3=function(){var a=this.state.pageInput,b=this.props.activeIndex;a===""&&this.setState(function(a){return{pageInput:String(b),invalidInput:!1}})}.bind(this),this.$4=function(){this.$2(this.props.startIndex)}.bind(this),this.$5=function(){this.$2(this.props.pageCount)}.bind(this),this.$6=function(){this.$2(this.props.activeIndex+1)}.bind(this),this.$7=function(){this.$2(this.props.activeIndex-1)}.bind(this),b}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState(function(b){return{pageInput:String(a.activeIndex)}})};a.prototype.$2=function(a){var b=this.props,c=b.activeIndex,d=b.startIndex,e=b.pageCount;b=b.onChangeActiveIndex;var f=Math.min(Math.max(d,a),e);this.setState(function(a){return{pageInput:String(f),invalidInput:!1}});c!==f&&b(f)};a.prototype.render=function(){var a=this.props,c=a.activeIndex,d=a.pageCount,e=a.startIndex;a=a.className;var f=this.state,g=f.pageInput;f=f.invalidInput;e=c<=e;c=c>=d;return b("React").createElement("div",{className:b("joinClasses")("_3ceg",a)},i._("Page {input of active page index} of {Page count}",[i._param("input of active page index",b("React").createElement("div",{className:"_3ceh"},b("React").createElement(b("SUITextInput.react"),{errorMessage:f?t:null,value:g,onBlur:this.$3,onChange:this.$1}))),i._param("Page count",d)]),b("React").createElement(b("SUIButtonGroup.react"),{margin:"_3-9c"},b("React").createElement(b("SUIButton.react"),{disabled:e,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:e?o.disabled:o["default"]}),label:k,labelIsHidden:!0,size:"small",onClick:this.$4}),b("React").createElement(b("SUIButton.react"),{disabled:e,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:e?p.disabled:p["default"]}),label:l,labelIsHidden:!0,size:"small",onClick:this.$7}),b("React").createElement(b("SUIButton.react"),{disabled:c,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:c?q.disabled:q["default"]}),label:m,labelIsHidden:!0,size:"small",onClick:this.$6}),b("React").createElement(b("SUIButton.react"),{disabled:c,icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:c?r.disabled:r["default"]}),label:n,labelIsHidden:!0,size:"small",onClick:this.$5})))};a.defaultProps={startIndex:s,activeIndex:s};e.exports=a}),null);
__d("SignalsAppEventInspectorDateRangePicker.react",["BUIDateRangePicker.react","React","SignalsAppInspectorTimelineChartConstants","SignalsTimelineUtils","nullthrows","signalsNormalizeTimeToHour"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsAppInspectorTimelineChartConstants").LOCAL_TIMEZONE_ID,i=b("SignalsAppInspectorTimelineChartConstants").LOCAL_TIMEZONE_NAME;c=b("SignalsAppInspectorTimelineChartConstants").MAX_START;d=b("React").PureComponent;var j=b("SignalsTimelineUtils").getDateRangeFromInstants;f=b("SignalsTimelineUtils").getOptionsForDatePicker;var k=f(c,h);f=babelHelpers.inherits(a,d);g=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var c=a.preset,d=a.includeToday,e=b("nullthrows")(a.interval).start.toInstant(h);a=b("nullthrows")(a.interval).end.toInstant(h);this.props.onUpdateTimeRange(b("signalsNormalizeTimeToHour")({start:e,end:a}),c,d)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.start,d=a.end;a=a.dateRestraints;return b("React").createElement(b("BUIDateRangePicker.react"),{dateRestraints:a,defaultIncludeToday:!0,limitPagerToRestraints:!0,options:k,timezoneID:h,timezoneLabel:i,value:j(c,d),verbose:"custom",onChange:this.$1})};e.exports=a}),null);
__d("SignalsAppEventsDeviceOSDescription.react",["fbt","SignalsAppDeviceOS"],(function(a,b,c,d,e,f,g){"use strict";a=[{id:b("SignalsAppDeviceOS").ALL,label:g._("All Device OS")},{id:b("SignalsAppDeviceOS").IOS,label:g._("iOS")},{id:b("SignalsAppDeviceOS").ANDROID,label:g._("Android")},{id:b("SignalsAppDeviceOS").WINDOWS,label:g._("Windows")},{id:b("SignalsAppDeviceOS").WINDOWS_PHONE,label:g._("Windows Phone")},{id:b("SignalsAppDeviceOS").LINUX,label:g._("Linux")},{id:b("SignalsAppDeviceOS").MAC,label:g._("Mac OS")},{id:b("SignalsAppDeviceOS").OTHER,label:g._("Others")}];e.exports={SignalsAppEventsDeviceOSDescription:a}}),null);
__d("SignalsAppEventsTableHeaderDescriptions",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=[{id:"name",label:g._("Event Category"),tooltipMessage:g._("The type of event received, including any standard event categories or custom events."),widthWeight:1.2},{id:"status",label:g._("Status"),widthWeight:1},{id:"eventVolume",label:g._("Events Received"),tooltipMessage:g._("The total number of events received for this event category."),widthWeight:1}];e.exports=a}),null);
__d("SignalsAppLogger",["SignalsEventsManagerLogger","SignalsLoggingScopesEnum"],(function(a,b,c,d,e,f){"use strict";a=b("SignalsEventsManagerLogger").scope(b("SignalsLoggingScopesEnum").APP_INSPECTOR);e.exports=a}),null);
__d("SignalsPagingEventsTable.react",["cx","React","SignalsEventsTable.react","SignalsPager.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PureComponent;var i=350;d=20;var j=1;f=babelHelpers.inherits(a,c);h=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$3=function(a){var b=this.props,c=b.pageSize;b=b.onChangeActivePage;a=c*(a-1);b!=null&&b({start:a,end:a+c-1})}.bind(this),b}a.prototype.$1=function(){var a=this.props,b=a.items,c=a.pageSize,d=a.isPartialData;a=a.itemsCount;if(!d&&b.size===0)return 1;d=d&&a!=null?a:b.size;return Math.ceil(d/c)};a.prototype.$2=function(){var a=this.props,b=a.items,c=a.pageSize,d=a.isPartialData;a=a.activePageIndex;if(d)return b.slice(0,c);d=c*(a-1);a=b.slice(d,d+c);return a};a.prototype.render=function(){var a=this.props,c=a.activePageIndex,d=a.borders,e=a.canSeeLeftNav,f=a.columns,g=a.isLoading,h=a.rowHeight;a=a.tableClassName;return b("React").createElement("div",{className:"_23wt"},b("React").createElement("div",{className:e?"_7bgm":""},b("React").createElement(b("SignalsEventsTable.react"),{borders:d,chartWidth:i,className:a,columns:f,isLoading:g,items:this.$2(),rowHeight:h})),b("React").createElement("div",{className:"_23wu"},b("React").createElement(b("SignalsPager.react"),{activeIndex:c,className:"_23x5",pageCount:this.$1(),startIndex:j,onChangeActiveIndex:this.$3})))};a.defaultProps={isPartialData:!1,pageSize:d};e.exports=a}),null);
__d("SignalsAppEventsTable.react",["ix","cx","fbt","Image.react","Link.react","React","SignalsAppDeviceOS","SignalsAppEventsDeviceOSDescription.react","SignalsAppEventsTableHeaderDescriptions","SignalsAppLogger","SignalsAppRelabelingEventsTableView","SignalsAppScreenActions","SignalsEventsCell.react","SignalsHomeAppEventsUtils","SignalsPagingEventsTable.react","SignalsPixelAspectTitle.react","SignalsPixelEventAspects","SignalsTable.react","SUIAtlasTheme","SUIButton.react","SUIButtonGroup.react","SUISearchInput.react","SUISelector.react","SUISelectorOption.react","SUIStatusIndicator.react","SUIText.react","SUITooltip.react","asset","immutable","signalsNow","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b("SignalsAppEventsDeviceOSDescription.react").SignalsAppEventsDeviceOSDescription,m=b("SignalsEventsCell.react").EventStatusCell,n=b("SignalsTable.react").SignalsTableCell;c=b("React").PureComponent;var o=b("immutable").List,p=i._("Search events"),q=i._("Custom Events"),r=i._("Standard Events"),s=1,t=60,u=[2,1,1.2],v=b("signalsNow").asLocalDateTime().subtractDays(29).startOfDay().instant;d=b("SignalsAppLogger").scope("EventsTable.deviceOSSelector").std();var w=d.fn.actions.select,x=i._("Needs Review"),y=i._("See Event Categories");function z(event,a){return b("React").createElement("div",{className:event.isMasked?"_3rhr":""},b("React").createElement(n,{className:"_2wjk",style:{lineHeight:"16px"}},b("React").createElement("div",null,b("React").createElement(b("SUIStatusIndicator.react"),{margin:"_3-90",status:"warning",theme:b("SUIAtlasTheme")}),b("React").createElement(b("SUIText.react"),{shade:"medium",size:"meta1",weight:"bold"},x),b("React").createElement("div",{className:"_2wjj"},b("React").createElement(b("Link.react"),{onClick:a},y)))))}f=babelHelpers.inherits(A,c);j=f&&f.prototype;function A(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(){var a=this.props,event=a.event;a=a.onInspectAppEvent;a&&a(event.name)}.bind(this),b}A.prototype.render=function(){var a=this.props,c=a.editable,event=a.event,d=a.view;a=a.onOpenDialog;var e=null;c&&(d===b("SignalsAppRelabelingEventsTableView").STANDARD?e=i._("This event includes one or more custom events that have had a standard event category applied."):d===b("SignalsAppRelabelingEventsTableView").CUSTOM&&(e=event.isMasked?i._("{custom app event name in tooltip} events are being categorized and tracked as standard event {standard app event name in tooltip}. Click Standard Events to see all {standard app event name} events received.",[i._param("custom app event name in tooltip",event.name),i._param("standard app event name in tooltip",event.standardEventName||""),i._param("standard app event name",event.standardEventName||"")]):i._("This custom event is similar to one of Facebook's standard event categories. By applying this category, you'll be able to use this event for ad optimization, audiences and reporting. Click Edit for more details.")));d=c?b("React").createElement(b("Link.react"),{className:"_648y _648s",onClick:a},b("React").createElement(b("Image.react"),{src:g("363753"),style:{marginLeft:4,marginRight:4}}),i._("Edit")):null;a=c?b("React").createElement(b("SUITooltip.react"),{display:"inline",tooltip:e},b("React").createElement("div",{className:"_648r"},b("React").createElement(b("Image.react"),{src:g("429289")}))):null;return b("React").createElement("div",{className:(event.isMasked?"_3rhr":"")+" _648q"},b("React").createElement("div",{className:"_648r _3l5t"},b("React").createElement("div",{className:"_3b6d"},b("SignalsHomeAppEventsUtils").getFriendlyEventName(event.name||"")),b("React").createElement("div",{className:"_648r _3l61"},b("React").createElement(b("Link.react"),{className:"_648y",onClick:this.$1},b("React").createElement(b("Image.react"),{src:g("412121"),style:{marginRight:4}}),i._("View Detail")),d)),a)};h=babelHelpers.inherits(a,c);k=h&&h.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={activePageIndex:s},this.getAppEventStatusCell=function(event){return event.errorMessage!=null||event.status==="-"?b("React").createElement("div",null):event.needsReview?z(event,this.props.onOpenDialog):m(event.status,event.isMasked)}.bind(this),this.getAppEventNameCell=function(event){var a=this.props,c=a.view,d=a.onInspectAppEvent;a=a.onOpenDialog;return b("React").createElement(A,{editable:!!event.isHoverable,event:event,view:c,onInspectAppEvent:d,onOpenDialog:a})}.bind(this),this.$1=function(a){var b=this.props,c=b.pageSize;b=b.onChangeActivePage;this.setState(function(b){return{activePageIndex:a.start/c+1}});b(a)}.bind(this),this.$2=function(a){this.setState(function(a){return{activePageIndex:s}}),this.props.onChangeFilter(a)}.bind(this),this.$3=w(function(a){b("SignalsAppScreenActions").updateAppDeviceOS(a)}).scope(function(a){return a}),this.$4=function(){b("SignalsAppScreenActions").updateAppEventsTableView(b("SignalsAppRelabelingEventsTableView").STANDARD)},this.$5=function(){b("SignalsAppScreenActions").updateAppEventsTableView(b("SignalsAppRelabelingEventsTableView").CUSTOM)},c}a.prototype.getColumns=function(){var a=b("SignalsAppEventsTableHeaderDescriptions").map(function(a,b){a.widthWeight=u[b];return a});a=a.map(function(a){switch(a.id){case"status":return Object.assign({},a,{renderCustomContent:this.getAppEventStatusCell});case"name":return Object.assign({},a,{renderCustomContent:this.getAppEventNameCell});default:return a}}.bind(this));return o(a)};a.prototype.getTableData=function(){__p&&__p();var a=this.props,c=a.eventStats,d=a.deviceOS,e=a.timeRange,f=a.statuses;a=c.map(function(event){__p&&__p();if(event.error!=null)return{name:event.eventName,status:"-",eventVolume:"",activity:[],errorMessage:event.error&&event.error.getMessage()};var a=b("SignalsHomeAppEventsUtils").timeFilterEventStatsRes(event,e.start,e.end),c=a.timelineItems,g=a.totalCount,h=a.breakDownTimelineItems;a=a.breakDownTotalCount;c=d===b("SignalsAppDeviceOS").ALL?{activity:c,eventVolume:g}:{activity:h!=null&&Object.prototype.hasOwnProperty.call(h,d)?h[d]:[],eventVolume:a!=null&&Object.prototype.hasOwnProperty.call(a,d)?a[d]:0};g=c.activity;h=c.eventVolume;a=f.get(event.eventName);c=a.size>0?a.first().timestamp:d===b("SignalsAppDeviceOS").ALL?v:-1;return{activity:g,name:event.eventName,status:c,eventVolume:h}});a=b("SignalsHomeAppEventsUtils").sortEventNames(a,function(event){return event&&event.name});return o(a)};a.prototype.render=function(){var a=this.props,c=a.canSeeLeftNav,d=a.deviceOS,e=a.enableRelabeling,f=a.isLoading,g=a.items,h=a.itemsCount,i=a.inputValue,j=a.pageSize,k=a.timeRange;a=a.view;var m=this.state.activePageIndex;e=e?b("React").createElement(b("SUIButtonGroup.react"),{margin:"_3-91"},b("React").createElement(b("SUIButton.react"),{isDepressed:a===b("SignalsAppRelabelingEventsTableView").STANDARD,label:r,onClick:this.$4}),b("React").createElement(b("SUIButton.react"),{isDepressed:a===b("SignalsAppRelabelingEventsTableView").CUSTOM,label:q,onClick:this.$5})):null;return b("React").createElement("div",{className:c?"_3-8t":""},b("React").createElement("div",{className:"_ozv"+(c?"":" _7bj2")},b("React").createElement(b("SignalsPixelAspectTitle.react"),{aspectType:b("SignalsPixelEventAspects").EVENT,size:"medium",timeRange:k}),b("React").createElement("div",{className:"_2ooo"},e,b("React").createElement(b("SUISearchInput.react"),{hasTooltip:!1,inputClassName:"_gf2",placeholder:p,value:i,onChange:this.$2}),b("React").createElement(b("SUISelector.react"),{style:{marginLeft:12},value:d,width:130,onChange:this.$3},l.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{key:a.id,value:a.id},a.label)})))),b("React").createElement(b("SignalsPagingEventsTable.react"),{activePageIndex:m,borders:["top","inner"],canSeeLeftNav:c,columns:this.getColumns(),isLoading:f,isPartialData:!0,items:g!=null?o(g):this.getTableData(),itemsCount:h,pageSize:j,rowHeight:t,tableClassName:"_62lf",onChangeActivePage:this.$1}))};a.defaultProps={inputValue:""};e.exports=a}),null);
__d("SignalsAppEventsRelabelUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("SignalsUIStateStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{isModalDialogOpen:!1}};a.prototype.__getName=function(){return e.id};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsAppEventStatsActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SIGNALS_APP_EVENT_STATS_SUCCESS:null,SIGNALS_APP_EVENT_STATS_FAIL:null,SIGNALS_APP_EVENT_STATS_LOADING:null});e.exports=a}),null);
__d("SignalsAppEventStatsStore",["AdsDataAtom","AnalyticsQueryAggregationMethod","AnalyticsQueryApi","AnalyticsQueryBuilder","FluxReduceStore","LoadObject","SignalsAppEventStatsActionTypes","SignalsAppEventStatsSignalsAppEventStatsFailAction","SignalsAppEventStatsSignalsAppEventStatsLoadingAction","SignalsAppEventStatsSignalsAppEventStatsSuccessAction","SignalsHomeAppEventsUtils","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsHomeAppEventsUtils").APP_DEVICE_OS,i="$fb.device_os_type",j=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").Map()};a.prototype.__getActionTypes=function(){return j?[b("SignalsAppEventStatsActionTypes").SIGNALS_APP_EVENT_STATS_FAIL,b("SignalsAppEventStatsActionTypes").SIGNALS_APP_EVENT_STATS_LOADING,b("SignalsAppEventStatsActionTypes").SIGNALS_APP_EVENT_STATS_SUCCESS]:null};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;var d=c.type;switch(d){case b("SignalsAppEventStatsActionTypes").SIGNALS_APP_EVENT_STATS_LOADING:var e=c.keys;return a.withMutations(function(d){__p&&__p();for(var f=e,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var c=a.get(i)||b("LoadObject").empty();d.set(i,c.loading())}});case b("SignalsAppEventStatsActionTypes").SIGNALS_APP_EVENT_STATS_SUCCESS:d=c.key;var f=c.data,g=c.eventName,h=a.get(d);return a.set(d,h.setValue(this.convertToRes(f,g)));case b("SignalsAppEventStatsActionTypes").SIGNALS_APP_EVENT_STATS_FAIL:d=c.key;h=c.data;f=c.eventName;g=a.get(d);return a.set(d,g.setValue(this.convertErrorToRes(h,f)));default:return a}};a.prototype.getQuery=function(a){var c=JSON.parse(a),d=c.since,e=c.until,f=c.eventName,g=c.appID,h=c.aggregations,j=c.intervalsToAggr,k=c.aggrPeriod;c=c.breakdownByOS;g=new(b("AnalyticsQueryBuilder"))().setAnalyticsEntityID(g).setEventName(f).setAggregations([h||b("AnalyticsQueryAggregationMethod").COUNT]).setIntervalsToAggregate(j).setSince(d).setUntil(e).setOnSuccess(function(c){b("SignalsAppEventStatsSignalsAppEventStatsSuccessAction").dispatch({data:c,key:a,eventName:f},{line:"123",module:"SignalsAppEventStatsStore.js"})}).setOnError(function(c){b("SignalsAppEventStatsSignalsAppEventStatsFailAction").dispatch({key:a,data:c,eventName:f},{line:"130",module:"SignalsAppEventStatsStore.js"})}).setSection("events_manager");k&&g.setAggregationPeriod(k);c&&g.setBreakdowns([i]);return g.getQuery()};a.prototype.get=function(a){return this.getAll([a]).get(a)};a.prototype.getAll=function(a){__p&&__p();var c=a.filter(function(a){return(this.getState().get(a)||b("LoadObject").empty()).isEmpty()}.bind(this)),d=c.map(function(a){return this.getQuery(a)}.bind(this));c.length>0&&(b("SignalsAppEventStatsSignalsAppEventStatsLoadingAction").dispatch({keys:c},{line:"158",module:"SignalsAppEventStatsStore.js"}),b("AnalyticsQueryApi").queryAppEventData(d));c=b("immutable").Map().withMutations(function(b){__p&&__p();for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b.set(f,this.getState().get(f))}}.bind(this));return c};a.prototype.convertToRes=function(a,b){var c=a.getResultAsRows();a=a.getColumnNames();return a.size===2?this.convertToRegRes(c,b):this.convertToBreakdownRes(c,b)};a.prototype.convertToRegRes=function(a,b){__p&&__p();var c=[],d=0;for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g.size===2&&(c.push({time:Number(g.get(0)),count:Number(g.get(1))}),d+=Number(g.get(1)))}return{timelineItems:c,totalCount:d,eventName:b}};a.prototype.convertToBreakdownRes=function(a,c){__p&&__p();var d={},e={},f={},g=0;for(var i=h,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;d[l]={};e[l]=0}for(var l=a,k=Array.isArray(l),j=0,l=k?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(j>=l.length)break;i=l[j++]}else{j=l.next();if(j.done)break;i=j.value}a=i;if(a.size===3){i=b("SignalsHomeAppEventsUtils").getDeviceOS(a.get(1));var m=Number(a.get(0));a=Number(a.get(2));d[i][m]=a+(d[i][m]||0);e[i]+=a;f[m]=a+(f[m]||0);g+=a}}i={};for(var m=h,a=Array.isArray(m),j=0,m=a?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(j>=m.length)break;k=m[j++]}else{j=m.next();if(j.done)break;k=j.value}l=k;i[l]=b("SignalsHomeAppEventsUtils").convertTimelineMapToArray(d[l])}k=b("SignalsHomeAppEventsUtils").convertTimelineMapToArray(f);return{timelineItems:k,totalCount:g,eventName:c,breakDownTimelineItems:i,breakDownTotalCount:e}};a.prototype.convertErrorToRes=function(a,b){return{timelineItems:[],totalCount:-1,eventName:b,error:a}};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("SignalsHomeAppEventsTableSelectors",["AdsStoreUtils","SignalAppRawFiresStore","SignalsAppEventStatsStore","SignalsAppInspectorTimelineChartConstants","SignalsAppScreenStore","SignalsHomeAppEventsUtils","SignalsHomeStateStore","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsAppInspectorTimelineChartConstants").DEFAULT_TIME_RANGE,h=b("SignalsHomeAppEventsUtils").ALL_VERSION_ENTRY,i=b("adsCreateStoreSelector")([b("SignalsAppScreenStore")],function(){return b("SignalsAppScreenStore").getSelectedAppTimelineChartTimeRange()||g},e.id+".timeRangeSelector"),j=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().appID},e.id+".appIDSelector");d=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().eventName},e.id+".selectedEventNameSelector");f=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().accountID},e.id+".adAccountIDSelector");var k=b("adsCreateStoreSelector")([b("SignalsHomeStateStore")],function(){return b("SignalsHomeStateStore").getState().businessID},e.id+".businessIDSelector");function a(a){a=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsAppEventStatsStore")),j,a,i],function(a,c,d,e){return b("SignalsAppEventStatsStore").getAll(d.map(function(a){return JSON.stringify({since:e.start,until:e.end,eventName:a,appID:c,intervalsToAggr:0,breakdownByOS:!0})}))},{name:e.id+".eventStatsSelector"});return a}function c(a){__p&&__p();a=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalAppRawFiresStore")),j,a,b("SignalsAppScreenStore").getSelectedDeviceOS],function(a,c,d,e){__p&&__p();a=b("immutable").Map().withMutations(function(a){__p&&__p();for(var f=d,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;a.set(j,b("SignalAppRawFiresStore").getVal(c||"0",j,e,h.getUniqueID(),1))}});return a},{name:e.id+".statusSelector"});return a}e.exports={adAccountIDSelector:f,appIDSelector:j,businessIDSelector:k,getEventStatsSelector:a,getStatusSelector:c,selectedEventNameSelector:d,timeRangeSelector:i}}),null);
__d("SignalsHomeAppEventsTableUtils",["SignalsAppDeviceOS","SignalsHomeAppEventsUtils","immutable","signalsNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;var g=b("signalsNow").asLocalDateTime().subtractDays(29).startOfDay().instant,h={getLatestTimestamp:function(a,c){return a&&a.size>0?a.first().timestamp:c===b("SignalsAppDeviceOS").ALL?g:-1},getCustomTableData:function(a,c,d,e,f,h){__p&&__p();var i=b("immutable").Map();f.forEach(function(event){var a=event.event_name,b=event.mappings;b.forEach(function(b){var c=b.custom_event_name;b=b.is_opted_in;i=i.set(c,{standardEvent:a,isOptedIn:b})})});return c.map(function(event){__p&&__p();var c=event.error,f=event.eventName;if(c!=null)return{name:f,status:"-",eventVolume:"",activity:[],errorMessage:c.getMessage()};f=b("SignalsHomeAppEventsUtils").timeFilterEventStatsRes(event,d.start,d.end);c=f.timelineItems;var j=f.totalCount,k=f.breakDownTimelineItems;f=f.breakDownTotalCount;c=a===b("SignalsAppDeviceOS").ALL?{activity:c,eventVolume:j}:{activity:k!=null&&Object.prototype.hasOwnProperty.call(k,a)?k[a]:[],eventVolume:f!=null&&Object.prototype.hasOwnProperty.call(f,a)?f[a]:0};j=c.activity;k=c.eventVolume;f=e.get(event.eventName);c=f.size>0?f.first().timestamp:a===b("SignalsAppDeviceOS").ALL?g:-1;f=i.has(event.eventName);var l=i.get(event.eventName),m=l!=null?l.isOptedIn:!1;l=l!=null?b("SignalsHomeAppEventsUtils").getFriendlyEventName(l.standardEvent):null;return{activity:j,name:event.eventName,status:c,eventVolume:k,isHoverable:f,isMasked:f&&m,standardEventName:l,needsReview:f&&!m&&h}})},convertToTableData:function(a,c,d,e,f,g){__p&&__p();if(e!=null)return{name:a,status:null,eventVolume:"",activity:[],errorMessage:e};e=b("SignalsHomeAppEventsUtils").getSumEventStats(c,a);c=e.timelineItems;var h=e.totalCount,i=e.breakDownTimelineItems;e=e.breakDownTotalCount;c=f===b("SignalsAppDeviceOS").ALL?{activity:c,eventVolume:h}:{activity:i!=null&&Object.prototype.hasOwnProperty.call(i,f)?i[f]:[],eventVolume:e!=null&&Object.prototype.hasOwnProperty.call(e,f)?e[f]:0};h=c.activity;i=c.eventVolume;return{activity:h,name:a,status:Math.max.apply(Math,d),eventVolume:i,isHoverable:g,isMasked:!1,needsReview:!1}},getStandardTableData:function(a,c,d,e,f,g,i){__p&&__p();var j=c.reduce(function(a,event){return a.set(event.eventName,event)},b("immutable").Map()),k=new Set(i),l=[];f.forEach(function(event){__p&&__p();var c=event.event_name,f=event.mappings;if(k.has(c)){var g=j.get(c);g=(g=g)!=null?g.error:g;var i=[b("SignalsHomeAppEventsUtils").timeFilterEventStatsRes(j.get(c),d.start,d.end)],m=[h.getLatestTimestamp(e.get(c),a)];g=g?g.getMessage():null;f.forEach(function(c){var f=c.custom_event_name;c=c.is_opted_in;c&&(i.push(b("SignalsHomeAppEventsUtils").timeFilterEventStatsRes(j.get(f),d.start,d.end)),m.push(h.getLatestTimestamp(e.get(f),a)))});c=h.convertToTableData(c,i,m,g,a,f.length>0);l.push(c)}});return l}};e.exports={SignalsHomeAppEventsTableUtils:h}}),null);
__d("SignalsHomeAppEventsRelabelingTableContainer.react",["AdsLoadObjectUtils","AdsStoreUtils","React","SignalsAppEventsRelabelUIStateStore","SignalsAppEventsTable.react","SignalsAppLogger","SignalsAppRelabelingEventsTableView","SignalsAppScreenActions","SignalsAppScreenStore","SignalsDataSourcesEnum","SignalsErrorBoundary.react","SignalsEventsManagerNewUILoggerHelper","SignalsHomeAppActions","SignalsHomeAppEventsTableSelectors","SignalsHomeAppEventsTableUtils","SignalsHomeAppEventsUtils","SignalsHomeStateStore","SignalsUnifiedStandardEventParticipationStore","adsCreateSelector","adsCreateSelectorContainer","adsCreateStoreSelector","immutable","signalsPropsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsEventsManagerNewUILoggerHelper").logClickEventView,h=b("SignalsHomeAppEventsTableUtils").SignalsHomeAppEventsTableUtils,i=b("SignalsHomeAppEventsUtils").getStandardEvents,j=b("immutable").OrderedSet;a=b("SignalsHomeAppEventsTableSelectors").adAccountIDSelector;c=b("SignalsHomeAppEventsTableSelectors").appIDSelector;d=b("SignalsHomeAppEventsTableSelectors").businessIDSelector;f=b("SignalsHomeAppEventsTableSelectors").getEventStatsSelector;var k=b("SignalsHomeAppEventsTableSelectors").getStatusSelector,l=b("SignalsHomeAppEventsTableSelectors").selectedEventNameSelector,m=b("SignalsHomeAppEventsTableSelectors").timeRangeSelector,n=20,o={start:0,end:n-1},p=null,q=new Set(),r=b("signalsPropsSelector")(function(a){return a}),s=b("adsCreateStoreSelector")([b("SignalsHomeStateStore"),b("SignalsUnifiedStandardEventParticipationStore")],function(){__p&&__p();var a=b("SignalsHomeStateStore").getState(),c=a.accountID,d=a.businessID;a=a.appID;c=[c,d,a].filter(Boolean);if(c.length===0)return q;d=b("SignalsUnifiedStandardEventParticipationStore").getAll(c);if(b("AdsLoadObjectUtils").anyLoadingOrEmpty(d.values()))return q;a=d.map(function(a){return a.getValueEnforcing()});return i(a.some(function(a){a=a.result;return a}),a.some(function(a){a=a.enable_ad_related_event;return a}))},e.id+".standardEventsSelector");s=b("adsCreateSelector")([r,b("SignalsAppScreenStore").getSelectedAppEventsTableView,s],function(a,c,d){__p&&__p();var e=a.eventNames;a=a.standardEvents;var f=new Set(e),g=j([]);c===b("SignalsAppRelabelingEventsTableView").STANDARD?a.forEach(function(event){var a=event.event_name;f.has(a)&&(g=g.add(a))}):(a.forEach(function(event){var a=event.mappings;a.forEach(function(a){a=a.custom_event_name;f.has(a)&&(g=g.add(a))})}),e.forEach(function(event){!d.has(event)&&!g.has(event)&&(g=g.add(event))}));return g.toArray()},{name:e.id+".displayNameSelector"});var t=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsAppScreenStore")),s,b("SignalsAppScreenStore").getSelectedAppEventsTableView,r],function(a,c,d,e){__p&&__p();a=e.standardEvents;e=b("SignalsAppScreenStore").getSelectedAppEventsTablePageRange()||o;var f=c;d===b("SignalsAppRelabelingEventsTableView").STANDARD&&a.forEach(function(event){var a=event.mappings;a.forEach(function(a){var b=a.custom_event_name;a=a.is_opted_in;a&&f.push(b)})});return f.slice(e.start,e.end+1)},{name:e.id+".nameSelector"});f=f(t);k=k(t);t=b("adsCreateSelector")([m,c,f,r,b("SignalsAppScreenStore").getSelectedDeviceOS,k,b("SignalsAppScreenStore").getSelectedAppEventsTableView,s,l,a,d],function(a,b,c,d,e,f,g,h,i,j,k){var l=d.canSeeLeftNav,m=d.eventNames,n=d.inputValue,o=d.onChangeFilter,p=d.standardEvents;d=d.hasToConfirm;return{accountID:j,appID:b,businessID:k,canSeeLeftNav:l,deviceOS:e,eventStatsLOs:c,eventList:h,eventNames:m,hasToConfirm:d,timeRange:a,inputValue:n,onChangeFilter:o,statusLOs:f,standardEvents:p,view:g,selectedEventName:i}},{name:e.id+".selector"});m=b("adsCreateSelectorContainer")(t,function(a){__p&&__p();var c=a.accountID,d=a.appID,e=a.businessID,f=a.canSeeLeftNav,i=a.deviceOS,j=a.eventStatsLOs,k=a.eventList,l=a.hasToConfirm,m=a.timeRange,q=a.inputValue,r=a.onChangeFilter,s=a.statusLOs,t=a.standardEvents,u=a.view,v=a.selectedEventName,w=function(a){return b("SignalsAppScreenActions").updateAppEventsTablePageRange(a)};a=function(a){r(a),w(o)};var x=function(){b("SignalsAppEventsRelabelUIStateStore").updateStateLater({isModalDialogOpen:!0})},y=function(a){b("SignalsHomeAppActions").inspectAppEvent(a),g({adAccountID:c,businessID:e,dataSourceType:b("SignalsDataSourcesEnum").APP_EVENT,dataSourceID:d,eventName:a})},z=!(j.toArray().every(function(a){return a.hasValue()})&&s.toArray().every(function(a){return a.hasValue()}));z&&p==null&&(p=b("SignalsAppLogger").performanceTimer("RELABELING_EVENT_TABLE.LOAD"),p.start());!z&&p!=null&&p.end();j=z?[]:j.toArray().map(function(a){return a.getValueEnforcing()});s=z?b("immutable").Map():s.map(function(a){return a.getValueEnforcing()});t=z?null:u===b("SignalsAppRelabelingEventsTableView").STANDARD?h.getStandardTableData(i,j,m,s,t,l,k):h.getCustomTableData(i,j,m,s,t,l);if(!z){l=j.filter(function(a){return a.eventName===v}).length>0;l||b("SignalsHomeAppActions").inspectAppEvent(null)}return b("React").createElement(b("SignalsErrorBoundary.react"),{logger:b("SignalsAppLogger")},b("React").createElement(b("SignalsAppEventsTable.react"),{canSeeLeftNav:f,deviceOS:i,enableRelabeling:!0,eventStats:j,inputValue:q,isLoading:z,items:t,itemsCount:k.length,pageSize:n,statuses:s,timeRange:m,view:u,onChangeActivePage:w,onChangeFilter:a,onInspectAppEvent:y,onOpenDialog:x}))},{withProps:!0});e.exports=m}),null);
__d("SignalsHomeAppEventsTableContainer.react",["AdsStoreUtils","React","SignalsAppEventsTable.react","SignalsAppLogger","SignalsAppScreenActions","SignalsAppScreenStore","SignalsDataSourcesEnum","SignalsErrorBoundary.react","SignalsEventsManagerNewUILoggerHelper","SignalsHomeAppActions","SignalsHomeAppEventsTableSelectors","adsCreateSelector","adsCreateSelectorContainer","immutable","signalsPropsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsEventsManagerNewUILoggerHelper").logClickEventView;a=b("SignalsHomeAppEventsTableSelectors").adAccountIDSelector;c=b("SignalsHomeAppEventsTableSelectors").appIDSelector;d=b("SignalsHomeAppEventsTableSelectors").businessIDSelector;f=b("SignalsHomeAppEventsTableSelectors").getEventStatsSelector;var h=b("SignalsHomeAppEventsTableSelectors").getStatusSelector,i=b("SignalsHomeAppEventsTableSelectors").selectedEventNameSelector,j=b("SignalsHomeAppEventsTableSelectors").timeRangeSelector,k=20,l={start:0,end:19},m=null,n=b("signalsPropsSelector")(function(a){return a}),o=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsAppScreenStore")),n],function(a,c){a=c.eventNames;c=b("SignalsAppScreenStore").getSelectedAppEventsTablePageRange()||l;return a.slice(c.start,c.end+1)},{name:e.id+".nameSelector"});f=f(o);h=h(o);o=b("adsCreateSelector")([j,c,f,n,b("SignalsAppScreenStore").getSelectedDeviceOS,h,i,a,d],function(a,b,c,d,e,f,g,h,i){var j=d.canSeeLeftNav,k=d.eventNames,l=d.inputValue;d=d.onChangeFilter;return{accountID:h,appID:b,businessID:i,canSeeLeftNav:j,deviceOS:e,eventStatsLOs:c,eventNames:k,timeRange:a,inputValue:l,onChangeFilter:d,statusLOs:f,selectedEventName:g}},{name:e.id+".selector"});j=b("adsCreateSelectorContainer")(o,function(a){__p&&__p();var c=a.accountID,d=a.appID,e=a.businessID,f=a.canSeeLeftNav,h=a.deviceOS,i=a.eventStatsLOs,j=a.eventNames,n=a.timeRange,o=a.inputValue,p=a.onChangeFilter,q=a.statusLOs,r=a.selectedEventName,s=function(a){return b("SignalsAppScreenActions").updateAppEventsTablePageRange(a)};a=function(a){p(a),s(l)};var t=function(a){b("SignalsHomeAppActions").inspectAppEvent(a),g({adAccountID:c,businessID:e,dataSourceType:b("SignalsDataSourcesEnum").APP_EVENT,dataSourceID:d,eventName:a})},u=!(i.toArray().every(function(a){return a.hasValue()})&&q.toArray().every(function(a){return a.hasValue()}));u&&m==null&&(m=b("SignalsAppLogger").performanceTimer("EVENT_TABLE.LOAD"),m.start());!u&&m!=null&&m.end();i=u?[]:i.toArray().map(function(a){return a.getValueEnforcing()});q=u?b("immutable").Map():q.map(function(a){return a.getValueEnforcing()});if(!u){var v=i.filter(function(a){return a.eventName===r}).length>0;v||b("SignalsHomeAppActions").inspectAppEvent(null)}return b("React").createElement(b("SignalsErrorBoundary.react"),{logger:b("SignalsAppLogger")},b("React").createElement(b("SignalsAppEventsTable.react"),{canSeeLeftNav:f,deviceOS:h,eventStats:i,inputValue:o,isLoading:u,itemsCount:j.length,pageSize:k,statuses:q,timeRange:n,onChangeActivePage:s,onChangeFilter:a,onInspectAppEvent:t}))},{withProps:!0});e.exports=j}),null);
__d("SignalsHomeAppEventsTimelineChartContainer.react",["cx","LoadObject","React","SignalsAppEventInspectorDateRangePicker.react","SignalsAppEventStatsStore","SignalsAppInspectorTimelineChartConstants","SignalsAppLogger","SignalsAppScreenActions","SignalsAppScreenStore","SignalsContainer.react","SignalsDataSourcesEnum","SignalsErrorBoundary.react","SignalsHomeAppEventsUtils","SignalsHomeStateStore","SignalsLoadingSpinner.react","SignalsPerformanceUtils","SignalsStatsTimelineChart.react","SignalsUnifiedStandardEventParticipationStore","Timezone","immutable","signalsNow","TimezoneNamesData"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SignalsAppInspectorTimelineChartConstants").CHART_LINE_COUNT,j=b("SignalsAppInspectorTimelineChartConstants").DATE_PICKER_RESTRAINTS,k=b("SignalsAppInspectorTimelineChartConstants").DEFAULT_HEIGHT,l=b("SignalsAppInspectorTimelineChartConstants").DEFAULT_TIME_RANGE,m=b("SignalsAppInspectorTimelineChartConstants").MAX_START,n=b("SignalsAppInspectorTimelineChartConstants").SMALL_DEFAULT_HEIGHT;b("immutable").OrderedSet;var o=b("SignalsContainer.react").getValueSafe,p=b("SignalsHomeAppEventsUtils").DOWN_FUNNEL_EVENTS_LIST_SET,q=b("SignalsHomeAppEventsUtils").getStandardEvents,r=b("SignalsHomeAppEventsUtils").getFriendlyEventName,s=b("SignalsHomeAppEventsUtils").getSumEventStats,t=b("SignalsHomeAppEventsUtils").mergeEventStatsToSignalsAspectStats;c=b("SignalsPerformanceUtils").measureLoadTimeForSignalsContainer;b("Timezone").registerNamesModule(b("TimezoneNamesData"));function u(a,c,d){b("SignalsAppScreenActions").updateAppTimelineChartTimeRange(a,c,d)}function v(a){b("SignalsAppScreenActions").updateAppTimelineChartSelectedSeries(a)}function w(a,b){return b.totalCount-a.totalCount}function x(a,c,d,e){__p&&__p();var f=[],g=[];for(var c=c,h=Array.isArray(c),j=0,c=h?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(j>=c.length)break;k=c[j++]}else{j=c.next();if(j.done)break;k=j.value}k=k;if(k==null||k.error!=null)continue;var l=b("SignalsHomeAppEventsUtils").timeFilterEventStatsRes(k,d,e);k=k.eventName;l.eventName=r(k);p.has(k)?f.push(l):a.has(k)&&g.push(l)}k=f.length+g.length;f.length>=i?l=f.sort(w).slice(0,i):k>=i?l=[].concat(f,g.sort(w).slice(0,i-f.length)):l=[].concat(f,g);return l}h=babelHelpers.inherits(a,b("SignalsContainer.react"));h&&h.prototype;a.prototype.getStores=function(){return[b("SignalsAppScreenStore"),b("SignalsAppEventStatsStore"),b("SignalsHomeStateStore"),b("SignalsUnifiedStandardEventParticipationStore")]};a.prototype.getQueryString=function(a,c){var d=b("signalsNow").asLocalDateTime();return JSON.stringify({since:m,until:d.addDays(1).startOfDay().instant,eventName:a,appID:c,intervalsToAggr:1,aggrPeriod:"hour"})};a.prototype.calculateState=function(a){__p&&__p();a=b("SignalsAppScreenStore").getSelectedAppTimelineChartTimeRange();var c=b("SignalsAppScreenStore").getSelectedTimelineChartSelectedSeries(),d=this.props.standardEvents;a=a||l;var e=a.start;a=a.end;var f=b("SignalsHomeStateStore").getState(),g=f.accountID,h=f.businessID,i=f.appID;if(i==null)throw b("LoadObject").withError(new Error("App ID is required"));f=b("SignalsUnifiedStandardEventParticipationStore").getAll([g,h,i].filter(Boolean)).map(function(a){return o(a)});g=f.some(function(a){a=a.result;return a});h=f.some(function(a){a=a.enable_ad_related_event;return a});var j=b("immutable").Map(),k=[];d.forEach(function(event){__p&&__p();var a=event.event_name,b=event.mappings,c=event.is_original_event_active,d=[];if(c!=null){c=this.getQueryString(a,i);d.push(c)}b.forEach(function(a){var b=a.custom_event_name;a=a.is_opted_in;a&&d.push(this.getQueryString(b,i))}.bind(this));d.length>0&&(j=j.set(a,d),k=[].concat(k,d))}.bind(this));var m=b("SignalsAppEventStatsStore").getAll(k),n=[];j.map(function(a,b){a=a.map(function(a){return o(m.get(a))});a.some(function(a){return a&&a.error!=null})||n.push(s(a,b))});f=t(x(q(g,h),b("immutable").Seq.Indexed(n),e,a));return{timeRange:{start:e,end:a},selectedSeries:c,signalsAspectStats:f}};a.prototype.renderLoading=function(){return b("React").createElement(b("SignalsLoadingSpinner.react"),{height:100})};a.prototype.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.timeRange,d=a.selectedSeries;a=a.signalsAspectStats;var e=c.start;c=c.end;var f=this.props,g=f.canSeeLeftNav;f=f.width;return b("React").createElement(b("SignalsErrorBoundary.react"),{logger:b("SignalsAppLogger")},b("React").createElement("div",{className:"_2gdc"+(g?" _7ald":""),style:{margin:0}},b("React").createElement(b("SignalsStatsTimelineChart.react"),{aspectType:"EVENT",canSeeLeftNav:g,dataSourceType:b("SignalsDataSourcesEnum").APP_EVENT,height:g?n:k,selectedSeries:d,shouldShowTimezone:!0,stats:a.sort("count","DESCENDING"),timeRange:{start:e,end:c},width:f,onLegendChartSeriesChange:v}),b("React").createElement("div",{className:"_60pd"},b("React").createElement(b("SignalsAppEventInspectorDateRangePicker.react"),{dateRestraints:j,end:c,start:e,onUpdateTimeRange:u}))))};function a(){h.apply(this,arguments)}e.exports=c(a,"SignalsHomeAppEventsTimelineChartContainer")}),null);
__d("SignalsHomeAppEventsInspector.react",["cx","fbt","FDSText.react","React","ResponsiveBlock.react","SignalsHomeAppEventsRelabelingTableContainer.react","SignalsHomeAppEventsTableContainer.react","SignalsHomeAppEventsTimelineChartContainer.react","SignalsHomeAppEventsUtils","SignalsHomeConversionEventsContent.react","SignalsPerformanceUtils","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("SignalsPerformanceUtils").measureRenderTime;d=b("React").PureComponent;var j=b("SignalsHomeAppEventsUtils").getFriendlyEventName,k=b("SignalsHomeAppEventsUtils").canSeeRelabelingFeature,l=1e3;f=babelHelpers.inherits(a,d);i=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={showBlueClue:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").SIGNALS_EM_APP_EVENTS_REMAPPING_BLUECLUE),width:l},this.$1=function(a){return this.setState({width:a})}.bind(this),this.$2=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").SIGNALS_EM_APP_EVENTS_REMAPPING_BLUECLUE),this.setState({showBlueClue:!1})}.bind(this),this.$3=function(){return this.refs.nuxanchor}.bind(this),c}a.prototype.getFilteredNames=function(){__p&&__p();var a=this.props,b=a.eventNames,c=a.standardEvents;a=a.tableEventNamesFilter;var d=new Set(b);c.forEach(function(event){var a=event.event_name,c=event.mappings;c=c.some(function(a){a=a.is_opted_in;return a===!0});c&&!d.has(a)&&b.push(a)});var e=a.toLowerCase();c=b.filter(function(a){a=j(a);return a.toLowerCase().includes(e)});return c};a.prototype.render=function(){var a=this.props,c=a.canSeeLeftNav,d=a.hasToConfirm,e=a.standardEvents,f=a.tableEventNamesFilter;a=a.onFilterTable;var g=this.state,i=g.showBlueClue;g=g.width;var j=k(e);i=b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.$3,offsetX:40,offsetY:-50,shown:j&&i,onCloseButtonClick:this.$2},h._("We've applied a standard event category to one or more of your custom events. These events are grouped under the standard event category. Click the Custom Event view to see your custom events."));var l=this.getFilteredNames();j=j?b("React").createElement(b("SignalsHomeAppEventsRelabelingTableContainer.react"),{canSeeLeftNav:c,eventNames:l,hasToConfirm:d,inputValue:f,standardEvents:e,onChangeFilter:a}):b("React").createElement(b("SignalsHomeAppEventsTableContainer.react"),{canSeeLeftNav:c,eventNames:l,inputValue:f,onChangeFilter:a});return b("React").createElement("div",{className:c?"_3-8t":""},b("React").createElement("span",{ref:"nuxanchor"}),i,c?b("React").createElement("div",{className:"_3-8j _3-8x",style:{width:724}},b("React").createElement(b("FDSText.react"),{display:"block",size:"header1"},h._("Events Activity")),b("React").createElement(b("FDSText.react"),{margin:"_3-8x",size:"body2"},h._("Events are meaningful actions people take in your product like clicking a button or completing a form. By tracking events you can unlock powerful campaign strategies and advanced reporting."))):null,b("React").createElement("div",{className:"_1kd-"},b("React").createElement("div",{className:"_1kd_"},b("React").createElement(b("SignalsHomeConversionEventsContent.react"),{eventSourceType:"APP"}),b("React").createElement(b("ResponsiveBlock.react"),{onResize:this.$1},b("React").createElement(b("SignalsHomeAppEventsTimelineChartContainer.react"),{canSeeLeftNav:c,standardEvents:e,width:g})))),j)};e.exports=c(a,"SignalsHomeAppEventsInspector")}),null);
__d("AppEventsSelectorCFClickTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AppEventsSelectorCFClickLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AppEventsSelectorCFClickLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AppEventsSelectorCFClickLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdaccountID=function(a){this.$1.adaccount_id=a;return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setBusinessID=function(a){this.$1.business_id=a;return this};a.prototype.setHasRemappedEvent=function(a){this.$1.has_remapped_event=a;return this};a.prototype.setTag=function(a){this.$1.tag=a;return this};c={adaccount_id:!0,app_id:!0,business_id:!0,has_remapped_event:!0,tag:!0};e.exports=a}),null);
__d("XAppEventsRelabelingMappingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/app/event_relabeling/",{adaccount_id:{type:"Int"},business_id:{type:"FBID"},app_id:{type:"FBID",required:!0}})}),null);
__d("SignalsAppEventsRelabelingMappingsStore",["Promise","AsyncRequest","SignalsAppLogger","SignalsLoadObjectStore","XAppEventsRelabelingMappingsController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("SignalsLoadObjectStore"));h=g&&g.prototype;a.prototype.__getName=function(){return e.id};a.prototype.__getLoader=function(a){a=JSON.parse(a);var c=a.adAccountID,d=a.businessID,e=a.appID,f=b("XAppEventsRelabelingMappingsController").getURIBuilder();c!=null&&f.setInt("adaccount_id",c);d!=null&&f.setFBID("business_id",d);f.setFBID("app_id",e);return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setURI(f.getURI()).setHandler(function(b){a(b.payload)}).setErrorHandler(function(a,c){b("SignalsAppLogger").scope("Events_Relabeling."+e).logError(new Error(c?c.getMessage():""),"SignalsAppEventsRelabelingMappingsStore")}).send()})};a.prototype.__key=function(a,b,c){return JSON.stringify({adAccountID:a,businessID:b,appID:c})};a.prototype.getVal=function(a,b,c){return h.get.call(this,this.__key(a,b,c))};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("SignalsHomeAppEventsInspectorContainer.react",["AppEventsSelectorCFClickTypedLogger","React","SignalsAppEventsRelabelingMappingsStore","SignalsAppScreenActions","SignalsAppScreenStore","SignalsContainer.react","SignalsHomeAppEventsInspector.react","SignalsPerformanceUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("SignalsContainer.react").getValueSafe;c=b("SignalsPerformanceUtils").measureLoadTimeForSignalsContainer;d=b("immutable").Set;var i=d();f=babelHelpers.inherits(a,b("SignalsContainer.react"));g=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$SignalsHomeAppEventsInspectorContainer1=function(a){return b("SignalsAppScreenActions").updateEventsTableFilter(a)},c}a.prototype.getStores=function(){return[b("SignalsAppEventsRelabelingMappingsStore"),b("SignalsAppScreenStore")]};a.prototype.calculateState=function(){__p&&__p();var a=this.props,c=a.accountID,d=a.appID;a=a.businessID;var e=h(b("SignalsAppEventsRelabelingMappingsStore").getVal(c,a,d)),f=e.has_to_confirm;e=e.standard_events;if(i.get(d)==null){var g=!1;e.forEach(function(a){a=a.mappings;g=g||a.length>0});new(b("AppEventsSelectorCFClickTypedLogger"))().setAppID(d).setAdaccountID(c).setBusinessID(a).setHasRemappedEvent(g).setTag("em").log();i=i.add(d)}c=b("SignalsAppScreenStore").getState();a=c.tableEventNamesFilter;return{hasToConfirm:f,standardEvents:e,tableEventNamesFilter:a}};a.prototype.renderLoadedValue=function(){var a=this.props,c=a.canSeeLeftNav;a=a.eventNames;var d=this.getStateEnforcing(),e=d.hasToConfirm,f=d.standardEvents;d=d.tableEventNamesFilter;return b("React").createElement(b("SignalsHomeAppEventsInspector.react"),{canSeeLeftNav:c,eventNames:a,hasToConfirm:e,standardEvents:f,tableEventNamesFilter:d,onFilterTable:this.$SignalsHomeAppEventsInspectorContainer1})};e.exports=c(a,"SignalsHomeAppEventsInspectorContainer")}),null);