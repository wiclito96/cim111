if (self.CavalryLogger) { CavalryLogger.start_js(["GUHe+"]); }

__d("AdsTargetingEstimatedReach.react",["fbt","AdsAudienceManagerOverviewPlacementsTooltip.react","AdsCCCategory","AdsGraphAPI","AdsIntelligentNotificationContainer.react","AdsTargetingDefaultPlacementConstant","AdsTargetingPotentialReachConstant","AdsTargetingReachEstimateConstant","LoadingIndicator.react","React","TargetingRelaxationConstants","ads-lib-formatters","adsFormatErrorMessage","areEqual","cachedGraphAPI","createCancelableFunction","getByPath","gkx","isValidTargetingSpec","promiseDone","InterestExpansionWarning.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsTargetingDefaultPlacementConstant").DEFAULT_PLACEMENT_LABELS,j=b("AdsTargetingReachEstimateConstant").AM_LOW_REACH_CONTENT,k=b("AdsTargetingReachEstimateConstant").ERROR_CONTENT,l=b("AdsTargetingReachEstimateConstant").ERROR_SIZE,m=b("AdsTargetingReachEstimateConstant").LOW_REACH_SIZE,n=b("ads-lib-formatters").createIntlLongNumberFormatter(0);c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={loading:!1,estimates:null,error:null},this.$2=b("createCancelableFunction")(function(a){if(a==null)return;a=a.data;var b=null;a.estimate_ready||(b=g._("It will take up to 30 minutes to calculate the size of this audience. You can continue creating this ad or come back and select this audience again to view the estimated audience size."),a=null);this.setState({loading:!1,estimates:a,error:b})}.bind(this)),this.$3=b("createCancelableFunction")(function(a){this.setState({loading:!1,estimates:null,error:b("adsFormatErrorMessage")(a)})}.bind(this)),c}a.prototype.UNSAFE_componentWillMount=function(){this.setState({loading:!0,estimates:null,error:null}),this.$1(this.props)};a.prototype.componentWillUnmount=function(){this.$2.cancel(),this.$3.cancel()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){if(b("areEqual")(this.props,a))return;this.setState({loading:!0,estimates:null,error:null},function(){return this.$1(a)}.bind(this))};a.prototype.$1=function(a){__p&&__p();if(!b("isValidTargetingSpec")(a.targetingApiSpec)){this.setState({loading:!1,estimates:null,error:b("isValidTargetingSpec").errorMessage});return}if(a.targetingApiSpec.product_audience_specs&&!(a.targetingApiSpec.product_audience_specs[0]&&a.targetingApiSpec.product_audience_specs[0].product_set_id)){var c=g._("Your audience targeting is incomplete. Select a product set to see your potential audience.");this.setState({loading:!1,estimates:null,error:c});return}c={targeting_spec:a.targetingApiSpec,object_store_url:void 0};a.objectStoreUrl&&(c.object_store_url=a.objectStoreUrl);b("promiseDone")(b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id+".$1").adaccount(a.accountID).edge("reachestimate")).get(c),this.$2,this.$3)};a.prototype.render=function(){return b("React").createElement("div",{style:{width:this.props.width}},this.$4(),this.$5(),this.$6(),this.$7())};a.prototype.$4=function(){return this.state.loading?b("React").createElement(b("LoadingIndicator.react"),{color:"blue",size:"small"}):null};a.prototype.$7=function(){return!this.state.estimates||this.props.targetingApiSpec.targeting_optimization==null||this.props.targetingApiSpec.targeting_optimization===b("TargetingRelaxationConstants").NONE||!b("gkx")("677823")?null:b("React").createElement(b("InterestExpansionWarning.react"),null)};a.prototype.$5=function(){var a=this.state.estimates;if(!a)return null;a=this.props.showDAP?b("getByPath")(a,["bid_estimations","0","estimate_DAU"]):a.users;if(a===l)return b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"explaning_why_the_audience_size_is_blocked_info",textData:[{type:"PARAGRAPH",data:{text:k}}]}});var c=a===m?j:a;return this.props.renderer?this.props.renderer(c):b("React").createElement("div",null,b("AdsTargetingPotentialReachConstant").ESTIMATED_AUDIENCE_SIZE_TITLE," ",g._({"*":"{num_of_people} people"},[g._param("num_of_people",a===m?j:n(a),[0,a])]),b("React").createElement(b("AdsAudienceManagerOverviewPlacementsTooltip.react"),{placementLabels:i}))};a.prototype.$6=function(){if(!this.state.error)return null;return this.props.errorRenderer?this.props.errorRenderer(this.state.error):b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"ads_targeting_estimated_reach_error",textData:[{type:"PARAGRAPH",data:{text:this.state.error}}]}})};e.exports=a}),null);
__d("AdsSavedAudienceTargetingDialogBody.react",["cx","fbt","AdsAccountStore","AdsCCCategory","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsIntelligentNotificationContainer.react","AdsLoadState_LEGACY","AdsQEStore","AdsSavedAudienceErrorStore","AdsTargetingBootloadDialog.react","AdsTargetingEstimatedReach.react","AdsTextInput.react","FDSSpinner.react","FluxMixinLegacy","JSResource","LeftRight.react","React","TargetingSectionDivider.react","TargetingSentences.react","adsFormatErrorMessage"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=600;c=b("React").createClass({displayName:"AdsSavedAudienceTargetingDialogBody",mixins:[b("FluxMixinLegacy")([b("AdsAccountStore"),b("AdsQEStore"),b("AdsSavedAudienceErrorStore")],{withProps:!0})],propTypes:{accountID:a.string.isRequired,audienceID:a.string,audienceName:a.oneOfType([a.string,a.oneOf([null])]),campaigns:a.arrayOf(a.object),dynamicTargetingContext:a.object.isRequired,hideName:a.bool,isReachFrequency:a.bool.isRequired,objective:a.string,promotedObjectType:a.string,reachFrequencySupportedCountries:a.arrayOf(a.string),targetingAPISpec:a.object.isRequired,width:a.number,onAudienceNameChange:a.func.isRequired,onTargetingChange:a.func.isRequired},getDefaultProps:function(){return{isReachFrequency:!1,dynamicTargetingContext:{catalogVertical:null,productCatalogID:null,promotedProductSetID:null}}},statics:{calculateState:function(a,c){a=b("AdsAccountStore").get(c.accountID);c=c.audienceID?b("AdsSavedAudienceErrorStore").getMutateErrorByAudienceID(c.audienceID):null;return{account:a,error:c,loading:a.loadState===b("AdsLoadState_LEGACY").LOADING}}},render:function(){var a;this.state.error&&(a=b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,header:this.state.error.error_user_title,messageID:"saved_audience_update_error",textData:[{type:"PARAGRAPH",data:{text:h._("Failed to edit saved audience:")}},{type:"PARAGRAPH",data:{text:b("adsFormatErrorMessage")(this.state.error)}}]}}));return b("React").createElement("div",null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{style:{width:i}},this._renderTopRow(),this._renderEditor()),b("React").createElement("div",{className:"_1s96"},a,this._renderReach(),this._renderTargetingSentences())))},_renderEditor:function(){return this.state.loading?b("React").createElement(b("FDSSpinner.react"),null):b("React").createElement(b("AdsTargetingBootloadDialog.react"),{account:this.state.account,bootloadLoader:b("JSResource")("AdsSavedAudienceTargetingEditingSection.react").__setRef("AdsSavedAudienceTargetingDialogBody.react"),campaigns:this.props.campaigns,dynamicTargetingContext:this.props.dynamicTargetingContext,enableMultiCityTargeting:this._enableMultiCityTargeting(),isReachFrequency:this.props.isReachFrequency,objective:this.props.objective,promotedObjectType:this.props.promotedObjectType,reachFrequencySupportedCountries:this.props.reachFrequencySupportedCountries,targetingAPISpec:this.props.targetingAPISpec,width:this.props.width,onTargetingChange:this.props.onTargetingChange})},_renderTopRow:function(){return this.props.hideName?null:b("React").createElement("div",{style:{width:i}},b("React").createElement(b("AdsInfoTable.react"),null,b("React").createElement(b("AdsInfoTableSection.react"),null,b("React").createElement(b("AdsInfoTableRow.react"),{className:"_1s97",label:h._("Audience Name")},b("React").createElement(b("AdsTextInput.react"),{placeholder:h._("Name your audience"),value:this.props.audienceName||"",onChange:this.props.onAudienceNameChange})))),b("React").createElement(b("TargetingSectionDivider.react"),null))},_renderReach:function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_5llx"},h._("Potential Audience:")),b("React").createElement(b("AdsTargetingEstimatedReach.react"),{accountID:this.props.accountID,targetingApiSpec:this.props.targetingAPISpec}))},_renderTargetingSentences:function(){return b("React").createElement(b("TargetingSentences.react"),{accountID:this.props.accountID,targetingApiSpec:this.props.targetingAPISpec})},_enableMultiCityTargeting:function(){var a=b("AdsQEStore").getForCurrentUser("ads_urban_areas_targeting");return a!=null&&a.hasValue()&&a.getValueEnforcing().getParamBool("enabled")}});e.exports=c}),null);
__d("AdsSavedAudienceFetchCampaignListErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SAVED_AUDIENCE.CAMPAIGN_LIST_ERROR");e.exports=a}),null);
__d("XSavedAudienceCampaignQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/saved_audience/campaign_ids/",{saved_audience_id:{type:"FBID",required:!0}})}),null);
__d("AdsSaveAudienceCampaignListDataLoader",["Promise","AdsSavedAudienceActions","AdsSavedAudienceFetchCampaignListErrorAction","AsyncRequest","XSavedAudienceCampaignQueryController","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return new(b("Promise"))(function(c,d){d=b("XSavedAudienceCampaignQueryController").getURIBuilder().setFBID("saved_audience_id",a).getURI();new(b("AsyncRequest"))().setURI(d).setHandler(function(a){return c(a.payload)}).setErrorHandler(function(c){return b("AdsSavedAudienceFetchCampaignListErrorAction").dispatch({error:c,savedAudienceID:a},{line:"29",module:"AdsSaveAudienceCampaignListDataLoader.js"})}).send()})}a={fetchCampaignList:function(a){b("promiseDone")(g(a).then(function(c){b("AdsSavedAudienceActions").fetchCampaignListLoaded(a,c)}))}};e.exports=a}),null);
__d("XSavedAudiencePrevalidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/saved_audience/prevalidate/",{campaign_ids:{type:"FBIDVector"},targeting:{type:"TypeAssert"},ad_account_id:{type:"FBID"}})}),null);
__d("AdsSavedAudiencePrevalidationDataManager",["Promise","AdsBaseDataManager","AdsSavedAudienceActions","AdsTargetingSavedAudiencePrevalidationConfig","AsyncRequest","XSavedAudiencePrevalidationController","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsTargetingSavedAudiencePrevalidationConfig").maxCampaignsPerRequest;function i(a,c,d,e){return new(b("Promise"))(function(f,g){g=b("XSavedAudiencePrevalidationController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData({campaign_ids:d,targeting:c,ad_account_id:e}).setHandler(function(a){return f(a.payload)}).setErrorHandler(function(c){b("AdsSavedAudienceActions").savedAudiencesUpdateError(new Map([[a,new Error(JSON.stringify(c.getErrorDescription()))]]))}).send()})}function j(a,c){if(c.error_code===0)return a;var d=a.get(c.error_code)||b("immutable").Set();d=d.add({id:c.id,name:c.name,message:c.message,status:c.status});return a.set(c.error_code,d)}function k(a,c,d,e,f){if(c.error_code===0)return a;var g=a.get(c.error_code)||b("immutable").Set();g=g.add({id:c.id,campaignID:d,campaignName:e,campaignStatus:f,name:c.name,message:c.message,status:c.status});return a.set(c.error_code,g)}g=babelHelpers.inherits(a,b("AdsBaseDataManager"));g&&g.prototype;a.prototype.fetchPrevalidation=function(a,c,d){__p&&__p();c=c.toJS();var e=[],f=b("immutable").Map(),g=b("immutable").Map();while(c.length>0){var l=c.splice(0,h);e.push(i(a.id,a.targeting,l,d))}b("promiseDone")(b("Promise").all(e),function(c){c.map(function(a){b("immutable").Map(a).map(function(a){f=j(f,a),b("immutable").Map(a.adgroups).map(function(b,c){g=k(g,b,a.id,a.name,a.status)})})});if(f.isEmpty()&&g.isEmpty()){b("AdsSavedAudienceActions").updateSavedAudiences([a]);return}b("AdsSavedAudienceActions").prevalidationResultsLoaded(a.id,{campaginErrorMap:f,adGroupErrorMap:g})})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsEditSavedAudienceDialogVisibilityChangeReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.savedAudienceID}};e.exports=a}),null);
__d("AdsEditSavedAudienceDialogVisibilityChangeAction",["Laminar","AdsEditSavedAudienceDialogVisibilityChangeReducerPlugin","AdsEditSavedAudienceDialogVisibilityProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsEditSavedAudienceDialogVisibilityChangeReducerPlugin"),b("AdsEditSavedAudienceDialogVisibilityProvider"),{})]},function(){return[]},"AdsEditSavedAudienceDialogVisibilityChangeActionPlugin");e.exports=a}),null);
__d("AdsEditSavedAudienceDialog.react",["fbt","AdsEditSavedAudienceDialogVisibilityChangeAction","AdsSavedAudienceTargetingDialogBody.react","BUIAdoptionDialogButton.react","BUIAdoptionHorizontalLayout.react","LayerFadeOnHide","LayerHideOnEscape","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","isValidTargetingSpec"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=910;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){a||this.props.onCancel()}.bind(this),b}a.prototype.componentDidMount=function(){b("AdsEditSavedAudienceDialogVisibilityChangeAction").dispatch({savedAudienceID:this.props.audienceID},{line:"77",module:"AdsEditSavedAudienceDialog.react.js"})};a.prototype.componentWillUnmount=function(){b("AdsEditSavedAudienceDialogVisibilityChangeAction").dispatch({savedAudienceID:null},{line:"83",module:"AdsEditSavedAudienceDialog.react.js"})};a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},fixedTopPosition:100,shown:this.props.isShown,width:i,onToggle:this.$1,key:"dialog"},b("React").createElement(b("XUIDialogTitle.react"),null,g._("Edit Audience")),b("React").createElement(b("XUIDialogBody.react"),{fontSize:"inherit"},b("React").createElement(b("AdsSavedAudienceTargetingDialogBody.react"),{accountID:this.props.accountID,audienceID:this.props.audienceID,audienceName:this.props.audienceName,campaigns:this.props.campaigns,isReachFrequency:this.props.isReachFrequency,objective:this.props.objective,promotedObjectType:this.props.promotedObjectType,reachFrequencySupportedCountries:this.props.reachFrequencySupportedCountries,targetingAPISpec:this.props.targetingAPISpec,onAudienceNameChange:this.props.onAudienceNameChange,onTargetingChange:this.props.onTargetingChange})),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("BUIAdoptionHorizontalLayout.react"),null,b("React").createElement(b("BUIAdoptionDialogButton.react"),{disabled:!this.$2(),label:g._("Save As New"),use:"default",onClick:this.props.onSaveAs}),b("React").createElement(b("BUIAdoptionDialogButton.react"),{disabled:!this.$2(),label:g._("Update"),use:"confirm",onClick:this.props.onUpdate}))))};a.prototype.$2=function(){return(this.props.isAudienceChanged||this.props.hasHiddenOptions)&&this.props.audienceName.trim().length>0&&b("isValidTargetingSpec")(this.props.targetingAPISpec)};a.propTypes={accountID:c.string.isRequired,audienceID:c.string,audienceName:c.string.isRequired,campaigns:c.arrayOf(c.object),dynamicTargetingContext:c.object,hasHiddenOptions:c.bool.isRequired,isReachFrequency:c.bool.isRequired,isShown:c.bool.isRequired,objective:c.string,promotedObjectType:c.string,reachFrequencySupportedCountries:c.arrayOf(c.string),onAudienceNameChange:c.func.isRequired,onCancel:c.func.isRequired,onUpdate:c.func.isRequired,onSaveAs:c.func.isRequired,onTargetingChange:c.func.isRequired,targetingAPISpec:c.object.isRequired,isAudienceChanged:c.bool.isRequired};e.exports=a}),null);
__d("AdsSavedAudienceFetchCampaignListErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_AUDIENCE.CAMPAIGN_LIST_ERROR";e.exports={actionType:a}}),null);
__d("AdsSavedAudienceFetchCampaignListLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_AUDIENCE.CAMPAIGN_LIST_LOADED";e.exports={actionType:a}}),null);
__d("AdsSavedAudienceCampaignListStore",["AdsDataAtom","AdsSaveAudienceCampaignListDataLoader","AdsSavedAudienceFetchCampaignListErrorActionFlux","AdsSavedAudienceFetchCampaignListLoadedActionFlux","FluxLoadObjectStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return h?[b("AdsSavedAudienceFetchCampaignListErrorActionFlux").actionType,b("AdsSavedAudienceFetchCampaignListLoadedActionFlux").actionType]:null};a.prototype.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsSavedAudienceFetchCampaignListLoadedActionFlux").actionType:return this.__handleOne(a,c.savedAudienceID,c.data);case b("AdsSavedAudienceFetchCampaignListErrorActionFlux").actionType:return this.__handleOne(a,c.savedAudienceID,new Error(c.error));default:return a}};a.prototype.__load=function(a){b("AdsSaveAudienceCampaignListDataLoader").fetchCampaignList(a)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsSavedAudienceEditLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SAVED_AUDIENCE_EDIT_CLICKED:"saved_audience_edit_clicked",SAVED_AUDIENCE_VALIDATION_VALIDATING_DIALOG_RENDERED:"saved_audience_validation_validating_dialog_rendered",SAVED_AUDIENCE_VALIDATION_SUCCESS_DIALOG_RENDERED:"saved_audience_validation_success_dialog_rendered",SAVED_AUDIENCE_VALIDATION_BLOCK_DIALOG_RENDERED:"saved_audience_validation_block_dialog_rendered",SAVED_AUDIENCE_VALIDATION_PARTIAL_ERROR_DIALOG_RENDERED:"saved_audience_validation_partial_error_dialog_rendered",SAVED_AUDIENCE_VALIDATION_PARTIAL_ERROR_DIALOG_ON_BACK:"saved_audience_validation_partial_error_dialog_on_back",SAVED_AUDIENCE_VALIDATION_PARTIAL_ERROR_DIALOG_ON_UPDATE:"saved_audience_validation_partial_error_dialog_on_update",SAVED_AUDIENCE_VALIDATION_BLOCK_DIALOG_ON_BACK:"saved_audience_validation_block_dialog_on_back",SAVED_AUDIENCE_VALIDATION_BLOCK_DIALOG_ON_CANCEL:"saved_audience_validation_block_dialog_on_cancel"});e.exports=a}),null);
__d("AdsSavedAudienceDialogAdsNameWithStatusCell.react",["AdsReportBuilderDeliveryCellContainer.react","React","SUIBusinessTheme","SUITableIndicatorCell.react"],(function(a,b,c,d,e,f){"use strict";var g=40;a=function(a){var c=b("AdsReportBuilderDeliveryCellContainer.react").getDeliveryStatusTextByActivityStatus(a.status),d=a.status;d=b("AdsReportBuilderDeliveryCellContainer.react").getDeliveryIndicatorStatus(d);return b("React").createElement(b("SUITableIndicatorCell.react"),{fill:"filled",height:g,label:a.name,status:d.status,subtitle:c||"",theme:b("SUIBusinessTheme")})};e.exports=a}),null);
__d("AdsSavedAudienceDialogCampaignRow.react",["cx","fbt","AdsSavedAudienceDialogAdsNameWithStatusCell.react","AdsSharedLinkUtils","FDSButton.react","LeftRight.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement(b("LeftRight.react"),{className:"_3-8o",key:a.id},b("React").createElement(b("AdsSavedAudienceDialogAdsNameWithStatusCell.react"),a),b("React").createElement(b("FDSButton.react"),{href:b("AdsSharedLinkUtils").getAdSetEditURIForConvergedAdsManager(a.accountID,a.id),label:h._("Edit Ad Set"),target:"_blank"}))};e.exports=a}),null);
__d("AdsSavedAudienceDialogErrorBlock.react",["cx","fbt","AdsCCSingleCardComponent.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=[{type:"PARAGRAPH",data:{text:a.message}}];return b("React").createElement("div",{className:"_4zpp"},b("React").createElement(b("AdsCCSingleCardComponent.react"),{category:a.category,header:h._("Error"),messageID:"error_block",textData:c}))};e.exports=a}),null);
__d("AdsSavedAudienceDialogHideAdSetsLink.react",["ix","cx","fbt","Image.react","React","SUIBusinessTheme","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return b("React").createElement("div",null,b("React").createElement(b("Image.react"),{src:g("502515"),onClick:a.onShowAdSets}),b("React").createElement("div",{className:"_3f2y",role:"link",tabIndex:0,onClick:a.onShowAdSets},b("React").createElement(b("SUIText.react"),{color:"blueLink",display:"block",size:"body1",style:{marginLeft:8,marginBottom:16},textAlign:"center",theme:b("SUIBusinessTheme")},i._("Hide Ad Sets"))))};e.exports=a}),null);
__d("AdsSavedAudienceDialogShowAdSetsLink.react",["ix","cx","fbt","Image.react","React","SUIBusinessTheme","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){return b("React").createElement("div",null,b("React").createElement(b("Image.react"),{src:g("415344"),onClick:a.onShowAdSets}),b("React").createElement("div",{className:"_3f2y",role:"link",tabIndex:0,onClick:a.onShowAdSets},b("React").createElement(b("SUIText.react"),{color:"blueLink",display:"block",size:"body1",style:{marginLeft:8,marginBottom:12},textAlign:"center",theme:b("SUIBusinessTheme")},i._("Show More Ad Sets"))))}e.exports=a}),null);
__d("AdsSavedAudienceDialogAdGroupErrorBlock.react",["cx","fbt","AdsCCCategory","AdsSavedAudienceDialogAdsNameWithStatusCell.react","AdsSavedAudienceDialogCampaignRow.react","AdsSavedAudienceDialogErrorBlock.react","AdsSavedAudienceDialogHideAdSetsLink.react","AdsSavedAudienceDialogShowAdSetsLink.react","AdsSharedLinkUtils","FDSButton.react","LeftRight.react","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("immutable").Set;var j=1,k=function(a){return b("React").createElement("div",null,b("React").createElement(b("AdsSavedAudienceDialogCampaignRow.react"),{accountID:a.accountID,id:a.campaignID,name:a.campaignName,status:a.campaignStatus}),b("React").createElement(b("LeftRight.react"),{className:"_2xer",key:a.id},b("React").createElement(b("AdsSavedAudienceDialogAdsNameWithStatusCell.react"),a),b("React").createElement(b("FDSButton.react"),{href:b("AdsSharedLinkUtils").getAdEditURIForConvergedAdsManager(a.accountID,a.id),label:h._("Edit Ad"),target:"_blank"})))};c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isShown:!1},this.$1=function(){this.setState({isShown:!1})}.bind(this),this.$2=function(){this.setState({isShown:!0})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=this.state;a=a.adGroupSet;return b("React").createElement("div",null,b("React").createElement(b("AdsSavedAudienceDialogErrorBlock.react"),{category:b("AdsCCCategory").WARNING,message:a&&a.first().message}),c.isShown?b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("AdsSavedAudienceDialogHideAdSetsLink.react"),{onShowAdSets:this.$1}),a.map(function(a){return b("React").createElement(k,{accountID:this.props.accountID,campaignID:a.campaignID,campaignName:a.campaignName,campaignStatus:a.campaignStatus,id:a.id,key:a.id,name:a.name,status:a.status})}.bind(this))):b("React").createElement("div",null,a.slice(0,j).map(function(a){return b("React").createElement(k,{accountID:this.props.accountID,campaignID:a.campaignID,campaignName:a.campaignName,campaignStatus:a.campaignStatus,id:a.id,key:a.id,name:a.name,status:a.status})}.bind(this)),a.size>j?b("React").createElement(b("AdsSavedAudienceDialogShowAdSetsLink.react"),{onShowAdSets:this.$2}):null))};e.exports=a}),null);
__d("AdsSavedAudienceDialogCampaignListCollapsedView.react",["cx","AdsSavedAudienceDialogCampaignRow.react","AdsSavedAudienceDialogShowAdSetsLink.react","CenteredContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=3;function a(a){return b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement("div",{className:"_3f2z"},a.campaigns.slice(0,h).map(function(c){return b("React").createElement(b("AdsSavedAudienceDialogCampaignRow.react"),{accountID:a.accountID,id:c.id,key:c.id,name:c.name,status:c.status})})),a.campaigns.length>h?b("React").createElement(b("AdsSavedAudienceDialogShowAdSetsLink.react"),{onShowAdSets:a.onShowAdSets}):null)}e.exports=a}),null);
__d("AdsSavedAudienceDialogCampaignErrorBlock.react",["cx","AdsCCCategory","AdsSavedAudienceDialogCampaignListCollapsedView.react","AdsSavedAudienceDialogCampaignRow.react","AdsSavedAudienceDialogErrorBlock.react","AdsSavedAudienceDialogHideAdSetsLink.react","React","SUIBusinessTheme","SUIText.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("immutable").Set;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isShown:!1},this.$1=function(){this.setState({isShown:!1})}.bind(this),this.$2=function(){this.setState({isShown:!0})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=this.state,d=a.campaignSet;return b("React").createElement("div",null,b("React").createElement(b("AdsSavedAudienceDialogErrorBlock.react"),{category:b("AdsCCCategory").WARNING,message:d&&d.first().message}),b("React").createElement(b("SUIText.react"),{color:"placeholder",display:"block",size:"body1",theme:b("SUIBusinessTheme"),weight:"bold"},c.isShown?b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("AdsSavedAudienceDialogHideAdSetsLink.react"),{onShowAdSets:this.$1}),d.map(function(a){return b("React").createElement(b("AdsSavedAudienceDialogCampaignRow.react"),{accountID:this.props.accountID,id:a.id,key:a.id,name:a.name,status:a.status})}.bind(this))):b("React").createElement(b("AdsSavedAudienceDialogCampaignListCollapsedView.react"),{accountID:a.accountID,campaigns:d.map(function(a){return{id:a.id,name:a.name,status:a.status}}).toArray(),onShowAdSets:this.$2})))};e.exports=a}),null);
__d("AdsSavedAudiencePartialErrorDialog.react",["cx","fbt","ix","AdsInterfacesLogger","AdsSavedAudienceDialogAdGroupErrorBlock.react","AdsSavedAudienceDialogCampaignErrorBlock.react","AdsSavedAudienceEditLoggingEvents","CenteredContainer.react","FDSButton.react","Image.react","LayerFadeOnHide","LayerHideOnEscape","React","SUIBusinessTheme","SUIModal.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=function(a){var c=a.validationErrorData,d=c.campaginErrorMap;c=c.adGroupErrorMap;return b("React").createElement(b("CenteredContainer.react"),{className:"_22cb"},b("React").createElement(b("Image.react"),{src:i("700833")}),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",size:"header1",style:{marginBottom:16},textAlign:"center",theme:b("SUIBusinessTheme"),weight:"normal"},h._("Not All Ad Sets Can Use This Saved Audience")),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"primary",size:"body1",theme:b("SUIBusinessTheme"),weight:"normal"},h._("When you continue, your Saved Audience will update, but the affected ad sets will be removed from it.")),c.toArray().map(function(c,d){return b("React").createElement(b("AdsSavedAudienceDialogAdGroupErrorBlock.react"),{accountID:a.accountID,adGroupSet:c,key:d})})),d.toArray().map(function(c,d){return b("React").createElement(b("AdsSavedAudienceDialogCampaignErrorBlock.react"),{accountID:a.accountID,campaignSet:c,key:d})}))};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_PARTIAL_ERROR_DIALOG_ON_BACK},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onBack()}.bind(this),this.$2=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_PARTIAL_ERROR_DIALOG_ON_UPDATE},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onUpdate()}.bind(this),c}a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_PARTIAL_ERROR_DIALOG_RENDERED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(b("SUIModalFooter.react"),{leftContent:b("React").createElement(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$1}),primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Update"),use:"primary",onClick:this.$2}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Review Changes")}),isShown:!0,key:"dialog",theme:b("SUIBusinessTheme"),width:750,onHide:this.props.onCancel},b("React").createElement(k,{accountID:this.props.accountID,validationErrorData:this.props.validationErrorData}))};e.exports=a}),null);
__d("AdsSavedAudiencePrevalidationDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_AUDIENCE.PREVALIDATION";e.exports={actionType:a}}),null);
__d("AdsSavedAudiencePrevalidationResultsLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_AUDIENCE.PREVALIDATION_RESULTS_LOADED";e.exports={actionType:a}}),null);
__d("AdsSavedAudiencePreValidationStore",["AdsDataAtom","AdsSavedAudiencePrevalidationDataActionFlux","AdsSavedAudiencePrevalidationDataManager","AdsSavedAudiencePrevalidationResultsLoadedDataActionFlux","AdsSavedAudienceSavedAudienceBatchUpdatedDataActionFlux","FluxLoadObjectStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxLoadObjectStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return h?[b("AdsSavedAudiencePrevalidationDataActionFlux").actionType,b("AdsSavedAudiencePrevalidationResultsLoadedDataActionFlux").actionType,b("AdsSavedAudienceSavedAudienceBatchUpdatedDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsSavedAudiencePrevalidationDataActionFlux").actionType:b("AdsSavedAudiencePrevalidationDataManager").fetchPrevalidation(c.newSavedAudience,c.campaignIDs,c.adAccountID);return this.__setEmptyAndLoading(a,c.newSavedAudience.id);case b("AdsSavedAudiencePrevalidationResultsLoadedDataActionFlux").actionType:a=this.__handleOne(a,c.savedAudienceID,c.validationErrorData);return a;case b("AdsSavedAudienceSavedAudienceBatchUpdatedDataActionFlux").actionType:var d=new Map();c.savedAudiences.forEach(function(a){d.set(a.id,{campaginErrorMap:b("immutable").Map(),adGroupErrorMap:b("immutable").Map()})});return this.__handleMap(a,d);default:return a}};a.prototype.__load=function(){};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsSavedAudiencePrevalidationDialog.react",["cx","fbt","AdsInterfacesLogger","AdsSavedAudienceEditLoggingEvents","CenteredContainer.react","FDSSpinner.react","LayerFadeOnHide","LayerHideOnEscape","React","SUIBusinessTheme","SUIButton.react","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=function(a){return b("React").createElement("div",{className:"_67fu"},b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("FDSSpinner.react"),null)),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",size:"header1",style:{marginTop:16,marginBottom:16},textAlign:"center",theme:b("SUIBusinessTheme"),weight:"normal"},h._("Updating \"{number of ad sets}\"",[h._param("number of ad sets",a.audienceName)])),b("React").createElement(b("SUIText.react"),{display:"block",size:"body1",textAlign:"center",theme:b("SUIBusinessTheme")},h._("This should only take a few minutes.")))};i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_VALIDATING_DIALOG_RENDERED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},footer:b("React").createElement(b("SUIModalFooter.react"),{leftContent:b("React").createElement(b("SUIButton.react"),{label:h._("Cancel"),theme:b("SUIBusinessTheme"),use:"default",onClick:this.props.onCancel}),primaryButton:b("React").createElement(b("SUIButton.react"),{disabled:!0,label:h._("Update"),theme:b("SUIBusinessTheme"),use:"confirm",onClick:this.props.onUpdate}),secondaryButton:b("React").createElement(b("SUIButton.react"),{disabled:!0,label:h._("Save As New"),use:"default",onClick:this.props.onSaveAsNew}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Updating audiences in {number of ad sets} Ad Sets",[h._param("number of ad sets",this.props.campaignIDs.length)])}),isShown:this.props.isShown,key:"dialog",theme:b("SUIBusinessTheme"),width:750,onHide:this.props.onCancel},b("React").createElement(j,{audienceName:this.props.audienceName}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsSavedAudienceSyncStatusErrorDialog.react",["cx","fbt","AdsCCCategory","AdsIntelligentNotificationContainer.react","BUIAdoptionDialogOkayButton.react","FixedDataTable.react","FixedDataTableColumn.react","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=50;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$2=function(){var a=[],b=new Map();this.props.campaigns.forEach(function(a){b.set(a.id,a.name)});this.props.error.forEach(function(c,d){a.push({name:b.get(d),details:c})});return a}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("BUIAdoptionDialogOkayButton.react"),{layerAction:"cancel",use:"confirm",onClick:this.props.onClose}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Cannot update {number of faliures} of the {number of ad sets} Ad Sets",[h._param("number of faliures",this.props.error.size),h._param("number of ad sets",this.props.campaigns.length)])}),isShown:!0,key:"dialog",theme:b("SUIBusinessTheme"),width:750,onHide:this.props.onClose},this.$1())};a.prototype.$1=function(){var a=this.$2(),c=function(b){return a[b]},d=function(b){return j*Math.ceil(a[b].details.length/100)};return b("React").createElement("div",{className:"_y7m"},b("React").createElement(b("SUIText.react"),{shade:"medium",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("We cannot update the following Ad Sets:")),b("React").createElement("div",{className:"_3-8p"},b("React").createElement(b("FixedDataTable.react"),{headerHeight:40,maxHeight:250,rowGetter:c,rowHeight:j,rowHeightGetter:d,rowsCount:a.length,width:650},b("React").createElement(b("FixedDataTableColumn.react"),{dataKey:"name",label:h._("Ad Set Name"),width:250}),b("React").createElement(b("FixedDataTableColumn.react"),{dataKey:"details",label:h._("Reason"),width:400}))),b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"not_going_to_affect_the_ad_set_targeting_and_delivery_message",textData:[{type:"PARAGRAPH",data:{text:h._("These ad sets will continue to run with the original targeting settings. It will no longer be associated with the updated saved audience.")}}]}}))};a.propTypes={campaigns:c.array.isRequired,error:c.object.isRequired,onClose:c.func.isRequired};e.exports=a}),null);
__d("AdsSavedAudienceValidationBlockDialog.react",["cx","fbt","ix","AdsCCCategory","AdsInterfacesLogger","AdsSavedAudienceDialogErrorBlock.react","AdsSavedAudienceEditLoggingEvents","CenteredContainer.react","FDSButton.react","Image.react","LayerFadeOnHide","LayerHideOnEscape","React","SUIBusinessTheme","SUIModal.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=function(a){return b("React").createElement(b("CenteredContainer.react"),{className:"_3f2x"},b("React").createElement(b("Image.react"),{src:i("700831")}),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",size:"header1",style:{marginBottom:16},textAlign:"center",theme:b("SUIBusinessTheme"),weight:"normal"},h._("Your Saved Audience Can't Be Updated")),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",size:"body1",style:{marginBottom:16},theme:b("SUIBusinessTheme"),weight:"normal"},h._("Your Saved Audience did not update and no changes were applied to any ad sets that use it. Review your targeting options, then try again.")),b("React").createElement(b("AdsSavedAudienceDialogErrorBlock.react"),{category:b("AdsCCCategory").ERROR,message:a.message}))};c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_BLOCK_DIALOG_ON_BACK},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onBack()}.bind(this),this.$2=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_BLOCK_DIALOG_ON_CANCEL},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onCancel()}.bind(this),c}a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_BLOCK_DIALOG_RENDERED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Go Back"),use:"primary",onClick:this.$1}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Review Changes")}),isShown:!0,key:"dialog",theme:b("SUIBusinessTheme"),width:750,onHide:this.$2},b("React").createElement(k,{message:this.props.message}))};e.exports=a}),null);
__d("AdsSavedAudienceValidationSuccessDialog.react",["cx","fbt","ix","AdsInterfacesLogger","AdsSavedAudienceDialogCampaignListCollapsedView.react","AdsSavedAudienceDialogCampaignRow.react","AdsSavedAudienceDialogHideAdSetsLink.react","AdsSavedAudienceEditLoggingEvents","CenteredContainer.react","FDSButton.react","Image.react","LayerFadeOnHide","LayerHideOnEscape","React","SUIBusinessTheme","SUIModal.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=function(a){return b("React").createElement(b("CenteredContainer.react"),{className:"_3f2x"},b("React").createElement(b("Image.react"),{src:i("700832")}),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",size:"header1",style:{marginBottom:16},textAlign:"center",theme:b("SUIBusinessTheme"),weight:"normal"},h._("Your Saved Audience Was Updated")),a.campaigns.length>0?b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",size:"body1",style:{marginTop:16,marginBottom:16},theme:b("SUIBusinessTheme"),weight:"normal"},h._("Your Saved Audience was successfully updated, and the changes will be applied to the following ad sets:")):null,a.isShown?b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("AdsSavedAudienceDialogHideAdSetsLink.react"),a),b("React").createElement("div",{className:"_3f2z"},a.campaigns.map(function(c){return b("React").createElement(b("AdsSavedAudienceDialogCampaignRow.react"),{accountID:a.accountID,id:c.id,key:c.id,name:c.name,status:c.status})}))):b("React").createElement(b("CenteredContainer.react"),null,b("React").createElement(b("AdsSavedAudienceDialogCampaignListCollapsedView.react"),{accountID:a.accountID,campaigns:a.campaigns,onShowAdSets:a.onShowAdSets})))};j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_VALIDATION_SUCCESS_DIALOG_RENDERED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Done"),use:"primary",onClick:this.props.onUpdate}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Review Changes")}),isShown:!0,key:"dialog",theme:b("SUIBusinessTheme"),width:750,onHide:this.props.onCancel},b("React").createElement(k,{accountID:this.props.accountID,audienceName:this.props.audienceName,campaigns:this.props.campaigns,isShown:this.props.isShown,onShowAdSets:this.props.onShowAdSets}))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("AdsSavedAudienceViewChangeNavTabDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIEW.CHANGE_NAV_TAB");e.exports=a}),null);
__d("AdsSavedAudienceViewClearAudienceSaveStateDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIEW.CLEAR_AUDIENCE_SAVE_STATE");e.exports=a}),null);
__d("AdsSavedAudienceViewClearSyncErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIEW.CLEAR_SYNC_ERROR");e.exports=a}),null);
__d("AdsSavedAudienceViewToggleSaveDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIEW.TOGGLE_SAVE");e.exports=a}),null);
__d("AdsSavedAudienceViewToggleShowAdSetsDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SAVED_AUDIENCE.TOGGLE_AD_SETS");e.exports=a}),null);
__d("AdsSavedAudienceViewUpdateNameDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIEW.UPDATE_NAME");e.exports=a}),null);
__d("AdsSavedAudienceViewUserChangeNavTabDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIEW.USER_CHANGE_NAV_TAB");e.exports=a}),null);
__d("AdsSavedAudienceViewActions",["AdsSavedAudienceViewChangeNavTabDataAction","AdsSavedAudienceViewClearAudienceSaveStateDataAction","AdsSavedAudienceViewClearSyncErrorDataAction","AdsSavedAudienceViewToggleSaveDataAction","AdsSavedAudienceViewToggleShowAdSetsDataAction","AdsSavedAudienceViewUpdateNameDataAction","AdsSavedAudienceViewUserChangeNavTabDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={clearSyncError:function(a){b("AdsSavedAudienceViewClearSyncErrorDataAction").dispatch({audienceID:a},{line:"23",module:"AdsSavedAudienceViewActions.js"})},updateName:function(a){b("AdsSavedAudienceViewUpdateNameDataAction").dispatch({name:a},{line:"29",module:"AdsSavedAudienceViewActions.js"})},toggleAudienceCreation:function(a){b("AdsSavedAudienceViewToggleSaveDataAction").dispatch({isSaveEnabled:a},{line:"35",module:"AdsSavedAudienceViewActions.js"})},clearAudienceSaveState:function(){b("AdsSavedAudienceViewClearAudienceSaveStateDataAction").dispatch({},{line:"41",module:"AdsSavedAudienceViewActions.js"})},changeNavTabKey:function(a){b("AdsSavedAudienceViewChangeNavTabDataAction").dispatch({navTabKey:a},{line:"45",module:"AdsSavedAudienceViewActions.js"})},userChangeNavTabKey:function(a){b("AdsSavedAudienceViewUserChangeNavTabDataAction").dispatch({navTabKey:a},{line:"51",module:"AdsSavedAudienceViewActions.js"})},toggleShowAdSets:function(a){b("AdsSavedAudienceViewToggleShowAdSetsDataAction").dispatch({isShownAdSets:a},{line:"57",module:"AdsSavedAudienceViewActions.js"})}};e.exports=a}),null);
__d("SpinnerDialog.react",["FDSSpinner.react","React","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{layerHideOnBlur:!1,shown:this.props.isShown,width:500,key:"dialog"},b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement(b("FDSSpinner.react"),null)))};function a(){g.apply(this,arguments)}a.propTypes={isShown:c.bool.isRequired};e.exports=a}),null);
__d("AdsEditSavedAudienceDialogContainer.react",["errorCode","fbt","AdsCommonTargetingUtils","AdsCreateSavedAudienceDialogContainer.react","AdsEditSavedAudienceDialog.react","AdsEditSavedAudienceDialogViewAction","AdsFluxContainer","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsSavedAudienceActions","AdsSavedAudienceCampaignListStore","AdsSavedAudienceCreateViewStore","AdsSavedAudienceEditLoggingEvents","AdsSavedAudienceErrorStore","AdsSavedAudienceLoggingEvents","AdsSavedAudiencePartialErrorDialog.react","AdsSavedAudiencePrevalidationDialog.react","AdsSavedAudiencePreValidationStore","AdsSavedAudienceStore","AdsSavedAudienceSyncStatusErrorDialog.react","AdsSavedAudienceValidationBlockDialog.react","AdsSavedAudienceValidationSuccessDialog.react","AdsSavedAudienceViewActions","AdsTargetingSpecInvalidHiddenOptionsFetchAction","AdsTargetingSpecInvalidHiddenOptionsFetchProvider","React","SpinnerDialog.react","adsFormatErrorMessage","immutable","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsTargetingSpecInvalidHiddenOptionsFetchProvider").toFluxStore(),k=b("immutable").List;c=b("React").PropTypes;var l=b("keyMirror")({BLOCKING:null,VALIDATING:null,VALIDATION_PARTIAL_ERROR:null,VALIDATION_SUCCESS:null,EDIT_TARGETING:null,SAVE_AS:null}),m=" - "+h._("copy"),n=[1815746,1885316,1870034];function o(a){a=a.campaginErrorMap;var b;for(var c=0;c<n.length;c++){var d=n[c];b=b||a.get(d)}return b&&b.first().message}function p(a,b,c){if(a!==l.VALIDATING)return a;var d=b.campaginErrorMap,e=b.adGroupErrorMap;b=o(b);if(b)return l.BLOCKING;if(!d.isEmpty()||!e.isEmpty())return l.VALIDATION_PARTIAL_ERROR;return!c?l.VALIDATION_SUCCESS:a}d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={audienceChanged:!1,blockMessage:null,campaignIDs:[],currentName:null,currentTargeting:null,error:null,hasHiddenOptions:!1,isShownAdSets:!1,loading:!1,originalAudience:{},validationErrorData:null,viewState:l.EDIT_TARGETING},this.$1=function(){b("AdsSavedAudienceViewActions").clearSyncError(this.props.audienceID),this.props.onClose()}.bind(this),this.$9=function(){b("AdsEditSavedAudienceDialogViewAction").dispatch({isShown:!0},{line:"392",module:"AdsEditSavedAudienceDialogContainer.react.js"}),this.setState({viewState:l.EDIT_TARGETING})}.bind(this),this.$4=function(a){var b=this.state.originalAudience.name!==a;this.setState({currentName:a,audienceChanged:b})}.bind(this),this.$6=function(a){var c=this.state.originalAudience.name!==this.$3()||!b("AdsCommonTargetingUtils").areApiSpecEqual(this.state.originalAudience.targeting,a);this.setState({currentTargeting:a,audienceChanged:c})}.bind(this),this.$5=function(){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceLoggingEvents").SAVE_AS_IN_EDIT_DIALOG},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.setState({viewState:l.SAVE_AS})}.bind(this),this.$7=function(){__p&&__p();b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceEditLoggingEvents").SAVED_AUDIENCE_EDIT_CLICKED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);if(!this.state.audienceChanged&&!this.state.hasHiddenOptions){this.props.onClose();return}if(this.state.campaignIDs&&(this.state.audienceChanged||this.state.hasHiddenOptions)){b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceLoggingEvents").UPDATE_IN_EDIT_DIALOG_WITH_ADS},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);b("AdsSavedAudienceActions").prevalidate({id:this.props.audienceID,name:this.$3(),targeting:this.$2()},k(this.state.campaignIDs),this.props.accountID);this.setState({viewState:l.VALIDATING});return}b("AdsInterfacesLogger").log({eventName:b("AdsSavedAudienceLoggingEvents").UPDATE_IN_EDIT_DIALOG_NO_ADS},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);this.$11()}.bind(this),this.$8=function(){this.$11()}.bind(this),this.$10=function(){b("AdsSavedAudienceViewActions").toggleShowAdSets(!this.state.isShownAdSets)}.bind(this),c}a.getStores=function(){return[b("AdsSavedAudienceErrorStore"),b("AdsSavedAudienceStore"),b("AdsSavedAudiencePreValidationStore"),b("AdsSavedAudienceCampaignListStore"),b("AdsSavedAudienceCreateViewStore"),j]};a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=this.state,c=b.currentName;b=b.currentTargeting;(!a.isShown||a.audienceID!==this.props.audienceID)&&(b=null,c=null);this.setState({currentName:c,currentTargeting:b})};a.calculateState=function(a,c){__p&&__p();var d=b("AdsSavedAudienceStore").get(c.audienceID),e=d.loadState===b("AdsLoadState_LEGACY").LOADING,f=b("AdsSavedAudienceErrorStore").getSyncErrorByAudienceID(c.audienceID),g=b("AdsSavedAudienceErrorStore").getMutateErrorByAudienceID(c.audienceID),h=b("AdsSavedAudienceCampaignListStore").get(c.audienceID);h=h.getValue()||[];var i=a&&a.viewState||l.EDIT_TARGETING;c=b("AdsSavedAudiencePreValidationStore").get(c.audienceID);var k;if(c.hasValue()){var m=c.getValueEnforcing();k=o(m);i=p(i,m,e)}d.loadState===b("AdsLoadState_LEGACY").PENDING_WRITE&&(i=l.VALIDATING);g&&(k=b("adsFormatErrorMessage")(g),i=l.BLOCKING);m=j.getState();g=m.hasHiddenOptions;return{blockMessage:k,campaignIDs:h,error:f,hasHiddenOptions:g,loading:e&&i!==l.VALIDATING,originalAudience:d||{},viewState:i,audienceChanged:a&&a.audienceChanged||!1,currentName:a&&a.currentName||d&&d.name,currentTargeting:a&&a.currentTargeting,isShownAdSets:b("AdsSavedAudienceCreateViewStore").isShownAdSets()||!1,validationErrorData:c.getValue()}};a.prototype.render=function(){__p&&__p();if(this.state.error&&this.state.error.size>0&&!this.state.loading)return b("React").createElement(b("AdsSavedAudienceSyncStatusErrorDialog.react"),{campaigns:this.state.originalAudience.adsets.data,error:this.state.error,onClose:this.$1});if(this.state.loading)return b("React").createElement(b("SpinnerDialog.react"),{isShown:!0});if(!this.props.isShown)return null;var a=this.$2(),c=this.$3();switch(this.state.viewState){case l.EDIT_TARGETING:return b("React").createElement(b("AdsEditSavedAudienceDialog.react"),{accountID:this.props.accountID,audienceID:this.props.audienceID,audienceName:c,campaigns:this.props.campaigns,dynamicTargetingContext:this.props.dynamicTargetingContext,hasHiddenOptions:this.state.hasHiddenOptions,isAudienceChanged:this.state.audienceChanged,isReachFrequency:this.props.isReachFrequency,isShown:!0,objective:this.props.objective,promotedObjectType:this.props.promotedObjectType,reachFrequencySupportedCountries:this.props.reachFrequencySupportedCountries,targetingAPISpec:a,onAudienceNameChange:this.$4,onCancel:this.props.onClose,onSaveAs:this.$5,onTargetingChange:this.$6,onUpdate:this.$7});case l.VALIDATING:return b("React").createElement(b("AdsSavedAudiencePrevalidationDialog.react"),{audienceName:c,campaignIDs:this.state.campaignIDs,isShown:!0,onCancel:this.props.onClose,onSaveAsNew:this.$5,onUpdate:this.$8});case l.BLOCKING:return b("React").createElement(b("AdsSavedAudienceValidationBlockDialog.react"),{message:this.state.blockMessage||"",onBack:this.$9,onCancel:this.props.onClose});case l.VALIDATION_PARTIAL_ERROR:var d=this.state.validationErrorData;return!d?b("React").createElement(b("SpinnerDialog.react"),{isShown:!0}):b("React").createElement(b("AdsSavedAudiencePartialErrorDialog.react"),{accountID:this.props.accountID,validationErrorData:d,onBack:this.$9,onCancel:this.props.onClose,onUpdate:this.$8});case l.VALIDATION_SUCCESS:d=((d=this)!=null?(d=d.state)!=null?(d=d.originalAudience)!=null?(d=d.adsets)!=null?d.data:d:d:d:d)||[];d=d.map(function(a){return{id:a.id,name:a.name,status:a.delivery_info.status}});return b("React").createElement(b("AdsSavedAudienceValidationSuccessDialog.react"),{accountID:this.props.accountID,audienceName:c,campaigns:d,isShown:this.state.isShownAdSets,onCancel:this.props.onClose,onShowAdSets:this.$10,onUpdate:this.$8});case l.SAVE_AS:return b("React").createElement(b("AdsCreateSavedAudienceDialogContainer.react"),{accountID:this.props.accountID,defaultName:this.$3()+m,isSaveAs:!0,isShown:!0,targetingAPISpec:a,onClose:this.props.onClose,onSavedAudienceChange:this.props.onSavedAudienceChange});default:return null}};a.prototype.$11=function(){var a={id:this.props.audienceID,name:this.$3(),targeting:this.$2()};b("AdsSavedAudienceActions").updateSavedAudiences([a]);this.props.onSavedAudienceUpdated&&this.props.onSavedAudienceUpdated(a);this.props.onClose()};a.prototype.$3=function(){return this.state.currentName||this.state.currentName===""?this.state.currentName:this.state.originalAudience.name};a.prototype.$2=function(){return this.state.currentTargeting||this.state.originalAudience.targeting};a.propTypes={accountID:c.string.isRequired,audienceID:c.string.isRequired,dynamicTargetingContext:c.object.isRequired,isReachFrequency:c.bool.isRequired,isShown:c.bool.isRequired,objective:c.string,promotedObjectType:c.string,reachFrequencySupportedCountries:c.arrayOf(c.string),onClose:c.func.isRequired,onSavedAudienceChange:c.func.isRequired,onSavedAudienceUpdated:c.func};a.defaultProps={isReachFrequency:!1,dynamicTargetingContext:{catalogVertical:null,productCatalogID:null,promotedProductSetID:null}};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);