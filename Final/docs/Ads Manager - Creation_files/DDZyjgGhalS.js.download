if (self.CavalryLogger) { CavalryLogger.start_js(["RMkHW"]); }

__d("AdsCommonTargetingProxyCustomMultiCityLocation",["AdsCommonTargetingProxyCountry","AdsCommonTargetingProxyCountryGroup","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return this.props.metaInfo.country_group?b("React").createElement(b("AdsCommonTargetingProxyCountryGroup"),{countryGroup:this.props.locationKey,dao:this.props.dao,metaInfo:this.props.metaInfo}):b("React").createElement(b("AdsCommonTargetingProxyCountry"),{country:this.props.locationKey,dao:this.props.dao,metaInfo:this.props.metaInfo})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsTargetingIncludeExcludeSelector",["cx","fbt","ix","Image.react","LocationConstants","PopoverMenu.react","React","ReactMenu","XUIPopoverButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").Component;d=b("React").PropTypes;var k=b("ReactMenu").Item,l=h._("Include"),m=h._("Exclude"),n=b("React").createElement("div",{className:"_44-d"},b("React").createElement(b("Image.react"),{src:i("22142"),width:"12"}),l),o=b("React").createElement("div",{className:"_44-d"},b("React").createElement(b("Image.react"),{src:i("22141"),width:"12"}),m);f=babelHelpers.inherits(a,c);j=f&&f.prototype;function a(a){j.constructor.call(this,a),this.onMouseDown=function(){if(this.props.isDisabled)return;this.state.menuShown===!1&&this.props.onFocus()}.bind(this),this.onShow=function(){this.setState({menuShown:!0})}.bind(this),this.onHide=function(){this.setState({menuShown:!1},this.props.onBlur)}.bind(this),this.onItemClick=function(a,b){a=b.item.getValue();this.props.onChangeMode(a)}.bind(this),this.state={menuShown:!1}}a.prototype.render=function(){var a="_5pyh _4vbu",c="_5pyi _4vbu";a=b("React").createElement(b("ReactMenu"),{onItemClick:this.onItemClick},b("React").createElement(k,{className:this.props.mode===b("LocationConstants").INCLUDE?a:c,value:b("LocationConstants").INCLUDE},l),b("React").createElement(k,{className:this.props.mode===b("LocationConstants").EXCLUDE?a:c,value:b("LocationConstants").EXCLUDE},m));return b("React").createElement(b("PopoverMenu.react"),{alignh:"left",className:this.props.className,disabled:this.props.isDisabled,menu:a,onHide:this.onHide,onMouseDown:this.onMouseDown,onShow:this.onShow},b("React").createElement(b("XUIPopoverButton.react"),{haschevron:!this.props.disableChangeMode,label:this.$1(),size:"large"}))};a.prototype.$1=function(){if(this.props.mode===b("LocationConstants").INCLUDE)return this.props.showDropIcon?n:l;else return this.props.showDropIcon?o:m};a.defaultProps={isDisabled:!1};a.propTypes={mode:d.string.isRequired,onChangeMode:d.func.isRequired,showDropIcon:d.bool.isRequired};e.exports=a}),null);
__d("AdsTargetingLookalikeLocationsInfo.react",["fbt","cx","ix","AdsCommonTargetingActions","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLookalikeTargetCountryUtils","Image.react","Layout.react","React","SUIBusinessTheme","SUIButton.react","AdsCountriesConfig","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsInterfacesLogEvents").Event,l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n=b("AdsCountriesConfig").countries;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(){b("AdsCommonTargetingActions").editedPrefilledLocations()};a.prototype.UNSAFE_componentWillMount=function(){this.$2(k.TARGETING_LOOKALIKE_LOCATION_VIEW_SHOWN)};a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_l9p"},b("React").createElement("ul",{className:"_l9q"},this.$3())),b("React").createElement("div",{className:"_l9r"},b("React").createElement(b("SUIButton.react"),{height:"normal",label:g._("Edit locations"),theme:b("SUIBusinessTheme"),use:"default",onClick:this.$1})))};a.prototype.$3=function(){return this.props.customAudiences.map(function(c){var a=b("AdsLookalikeTargetCountryUtils").getTargetCountriesFromCustomAudiences([c]);return a==null?b("React").createElement("span",{key:"empty_custom_audience_locations_"+c.id}):b("React").createElement(o,{countries:a,key:"custom_audience_locations_"+c.id,name:c.name!=null?c.name:""})})};a.prototype.$2=function(event){b("AdsInterfacesLogger").log({eventName:event},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};function a(){j.apply(this,arguments)}a.propTypes={customAudiences:c.array};var o=function(a){return b("React").createElement("li",null,b("React").createElement("ul",{className:"_la8"},b("React").createElement("li",null,b("React").createElement("div",{className:"_la9"},a.name)),b("React").createElement("li",null,b("React").createElement("ul",null,b("React").createElement(q,{countries:a.countries.sort()})))))};function p(a){a=a.map(function(a){return n[a]});return b("intlList")(a)}var q=function(a){return b("React").createElement("li",{className:"_laa"},b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,b("React").createElement(b("Image.react"),{className:"_lad",src:i("22128")})),b("React").createElement(m,null,p(a.countries))))};e.exports=a}),null);
__d("AdsLocationBrowseTreeSetIsActiveDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BROWSE_TREE_SET_IS_ACTIVE");e.exports=a}),null);
__d("AdsLocationBrowseTreeToggleIsActiveDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BROWSE_TREE_TOGGLE_IS_ACTIVE");e.exports=a}),null);
__d("AdsLocationClearInvalidLocationsNoticeDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CLEAR_INVALID_LOCATIONS_NOTICE");e.exports=a}),null);
__d("AdsLocationClearMapNoPolygonDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CLEAR_MAP_NO_POLYGON");e.exports=a}),null);
__d("AdsLocationClearValidLocationsNoticeDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CLEAR_VALID_LOCATIONS_NOTICE");e.exports=a}),null);
__d("AdsLocationHasDuplicatesDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"HAS_DUPLICATES");e.exports=a}),null);
__d("AdsLocationHasNoInclusionDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"HAS_NO_INCLUSION");e.exports=a}),null);
__d("AdsLocationHasTooManyCountriesDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"HAS_TOO_MANY_COUNTRIES");e.exports=a}),null);
__d("AdsLocationHasTooManyCountriesForMapDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"HAS_TOO_MANY_COUNTRIES_FOR_MAP");e.exports=a}),null);
__d("AdsLocationHasTooManyLocationsDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"HAS_TOO_MANY_LOCATIONS");e.exports=a}),null);
__d("AdsLocationInvalidExcludeDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"INVALID_EXCLUDE");e.exports=a}),null);
__d("AdsLocationMapDropPinFailDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"MAP_DROP_PIN_FAIL");e.exports=a}),null);
__d("AdsLocationReplaceLocationsDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"REPLACE_LOCATIONS");e.exports=a}),null);
__d("AdsLocationSetSuggestedLocationNameDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SET_SUGGESTED_LOCATION_NAME");e.exports=a}),null);
__d("AdsLocationActions",["AdsLocationBrowseTreeSetIsActiveDataAction","AdsLocationBrowseTreeToggleIsActiveDataAction","AdsLocationClearInvalidLocationsNoticeDataAction","AdsLocationClearMapNoPolygonDataAction","AdsLocationClearValidLocationsNoticeDataAction","AdsLocationHasDuplicatesDataAction","AdsLocationHasNoInclusionDataAction","AdsLocationHasTooManyCountriesDataAction","AdsLocationHasTooManyCountriesForMapDataAction","AdsLocationHasTooManyLocationsDataAction","AdsLocationInvalidExcludeDataAction","AdsLocationMapDropPinFailDataAction","AdsLocationReplaceLocationsDataAction","AdsLocationSetSuggestedLocationNameDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a==null?null:a}a={clearHasTooManyLocations:function(){b("AdsLocationHasTooManyLocationsDataAction").dispatch({hasTooManyLocations:!1},{line:"36",module:"AdsLocationActions.js"})},clearHasTooManyCountriesForMap:function(){b("AdsLocationHasTooManyCountriesForMapDataAction").dispatch({hasTooManyCountriesForMap:!1},{line:"42",module:"AdsLocationActions.js"})},clearHasTooManyCountries:function(){b("AdsLocationHasTooManyCountriesDataAction").dispatch({hasTooManyCountries:!1,ignoredLocations:null},{line:"48",module:"AdsLocationActions.js"})},clearHasDuplicates:function(){b("AdsLocationHasDuplicatesDataAction").dispatch({hasDuplicates:!1},{line:"55",module:"AdsLocationActions.js"})},clearReplacedLocations:function(){b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!1,oldLocations:null,newLocations:null},{line:"61",module:"AdsLocationActions.js"})},clearInvalidExclude:function(){b("AdsLocationInvalidExcludeDataAction").dispatch({hasInvalidExclude:!1,ignoredLocations:null},{line:"69",module:"AdsLocationActions.js"})},clearHasNoInclusion:function(){b("AdsLocationHasNoInclusionDataAction").dispatch({hasNoInclusion:!1},{line:"76",module:"AdsLocationActions.js"})},clearValidCopyPasteLocations:function(){b("AdsLocationClearValidLocationsNoticeDataAction").dispatch({},{line:"82",module:"AdsLocationActions.js"})},clearInvalidCopyPasteLocations:function(){b("AdsLocationClearInvalidLocationsNoticeDataAction").dispatch({},{line:"86",module:"AdsLocationActions.js"})},clearHasDropPinFailed:function(){b("AdsLocationMapDropPinFailDataAction").dispatch({hasDropPinFailed:!1},{line:"90",module:"AdsLocationActions.js"})},clearHasNoPolygon:function(){b("AdsLocationClearMapNoPolygonDataAction").dispatch({},{line:"96",module:"AdsLocationActions.js"})},clearHasSuggestedLocation:function(){b("AdsLocationSetSuggestedLocationNameDataAction").dispatch({hasSuggestedLocation:!1,suggestedLocationName:""},{line:"100",module:"AdsLocationActions.js"})},setBrowseTreeIsActive:function(a,c){b("AdsLocationBrowseTreeSetIsActiveDataAction").dispatch({isActive:a,variantIndex:g(c)},{line:"107",module:"AdsLocationActions.js"})},toggleBrowseTreeIsActive:function(a){b("AdsLocationBrowseTreeToggleIsActiveDataAction").dispatch({variantIndex:g(a)},{line:"114",module:"AdsLocationActions.js"})}};e.exports=a}),null);
__d("AdsLocationBrowseTreeHoverRowDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BROWSE_TREE.HOVER_ROW");e.exports=a}),null);
__d("AdsLocationBrowseTreeSetEntryIDsDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BROWSE_TREE_SET_ENTRY_IDS");e.exports=a}),null);
__d("AdsLocationBrowseTreeSetOpenPathDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BROWSE_TREE_SET_OPEN_PATH");e.exports=a}),null);
__d("AdsCommonTargetingErrorMessages",["fbt","React","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=b("keyMirror")({NAME_ALREADY_TAKEN_ERROR:null});d=(c={},c[a.NAME_ALREADY_TAKEN_ERROR]=g._("A saved location with the same name already exists. Please pick a different name."),c);e.exports={ERRORS:a,ERROR_MESSAGES:d}}),null);
__d("AdsSavedLocationViewDisplayDeleteDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.VIEW.DISPLAY_DELETE_DIALOG";e.exports={actionType:a}}),null);
__d("AdsSavedLocationViewDisplayNameInputDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.VIEW.DISPLAY_NAME_INPUT_DIALOG";e.exports={actionType:a}}),null);
__d("AdsSavedLocationViewHideDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.VIEW.HIDE_DIALOG";e.exports={actionType:a}}),null);
__d("AdsSavedLocationViewInputDialogSetNameDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.VIEW.INPUT_DIALOG_SET_NAME";e.exports={actionType:a}}),null);
__d("AdsSavedLocationViewStore",["AdsCommonTargetingErrorMessages","AdsDataAtom","AdsErrorUtils","AdsSavedLocationListStore","AdsSavedLocationSavedLocationBatchCreatedDataActionFlux","AdsSavedLocationSavedLocationBatchCreateErrorDataActionFlux","AdsSavedLocationSavedLocationBatchDeletedDataActionFlux","AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux","AdsSavedLocationSavedLocationCreateBatchDataActionFlux","AdsSavedLocationSavedLocationDeleteBatchDataActionFlux","AdsSavedLocationStore","AdsSavedLocationViewDisplayDeleteDialogDataActionFlux","AdsSavedLocationViewDisplayNameInputDialogDataActionFlux","AdsSavedLocationViewHideDialogDataActionFlux","AdsSavedLocationViewInputDialogSetNameDataActionFlux","FluxReduceStore","LocationConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("AdsCommonTargetingErrorMessages").ERROR_MESSAGES,j=b("AdsCommonTargetingErrorMessages").ERRORS,k=b("LocationConstants").SAVED_LOCATION_VIEW_STATE;g=babelHelpers.inherits(l,b("immutable").Record({accountID:"",error:null,locations:null,name:"",savedLocationID:"",viewState:k.HIDE_VIEW}));g&&g.prototype;function l(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new l({accountID:"",error:null,locations:null,name:"",savedLocationID:"",viewState:k.HIDE_VIEW})};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;b("AdsDataAtom").waitFor([b("AdsSavedLocationListStore").getDispatchToken(),b("AdsSavedLocationStore").getDispatchToken()]);switch(c.type){case b("AdsSavedLocationViewDisplayNameInputDialogDataActionFlux").actionType:return this.getInitialState().set("viewState",k.NAME_INPUT_VIEW).set("locations",c.locations).set("accountID",c.accountID);case b("AdsSavedLocationViewInputDialogSetNameDataActionFlux").actionType:var d=this.isSavedLocationNameTaken(c.name)?i[j.NAME_ALREADY_TAKEN_ERROR]:null;return a.set("name",c.name).set("error",d);case b("AdsSavedLocationSavedLocationCreateBatchDataActionFlux").actionType:return a.set("viewState",k.NAME_SAVING_VIEW).set("error",null);case b("AdsSavedLocationViewDisplayDeleteDialogDataActionFlux").actionType:return this.getInitialState().set("viewState",k.DELETE_VIEW).set("savedLocationID",c.savedLocationID).set("name",c.savedLocationName);case b("AdsSavedLocationSavedLocationDeleteBatchDataActionFlux").actionType:return a.set("viewState",k.DELETE_SPINNER_VIEW);case b("AdsSavedLocationViewHideDialogDataActionFlux").actionType:case b("AdsSavedLocationSavedLocationBatchCreatedDataActionFlux").actionType:case b("AdsSavedLocationSavedLocationBatchDeletedDataActionFlux").actionType:return this.getInitialState();case b("AdsSavedLocationSavedLocationBatchCreateErrorDataActionFlux").actionType:return a.set("viewState",k.NAME_INPUT_VIEW).set("error",b("AdsErrorUtils").getRawMessages(Array.from(c.errors.values())));case b("AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux").actionType:return a.set("viewState",k.HIDE_VIEW);default:return a}};a.prototype.getName=function(){return this.getState().get("name")};a.prototype.getViewState=function(){return this.getState().get("viewState")};a.prototype.getLocations=function(){return this.getState().get("locations")};a.prototype.getAccountID=function(){return this.getState().get("accountID")};a.prototype.getSavedLocationID=function(){return this.getState().get("savedLocationID")};a.prototype.getError=function(){return this.getState().get("error")};a.prototype.isSavedLocationNameTaken=function(a){__p&&__p();var c=this.getAccountID();c=b("AdsSavedLocationListStore").getFor(c).list;c=b("AdsSavedLocationStore").getAll(c);a=a.trim().toLowerCase();for(var c=c.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(typeof f.name==="string"&&f.name.trim().toLowerCase()===a)return!0}return!1};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsSavedLocationDeletingDialogContainer",["AdsFluxContainer","AdsSavedLocationActions","AdsSavedLocationViewStore","AdsTargetingBootloadDialog.react","JSResource","LocationConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;var h=b("LocationConstants").SAVED_LOCATION_VIEW_STATE;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("AdsSavedLocationActions").deleteSavedLocations([this.state.savedLocationID])}.bind(this),c}a.getStores=function(){return[b("AdsSavedLocationViewStore")]};a.calculateState=function(){return{accountID:b("AdsSavedLocationViewStore").getAccountID(),savedLocationID:b("AdsSavedLocationViewStore").getSavedLocationID(),savedLocationName:b("AdsSavedLocationViewStore").getName(),viewState:b("AdsSavedLocationViewStore").getViewState()}};a.prototype.render=function(){var a=this.state.viewState===h.DELETE_VIEW||this.state.viewState===h.DELETE_SPINNER_VIEW;return!a?null:b("React").createElement(b("AdsTargetingBootloadDialog.react"),{bootloadLoader:b("JSResource")("AdsSavedLocationDeleteDialog").__setRef("AdsSavedLocationDeletingDialogContainer"),savedLocationName:this.state.savedLocationName,viewState:this.state.viewState,onDelete:this.$1})};e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);
__d("AdsTargetingBrowseTreeRemoveEntryDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"browseTreeRemoveEntry");e.exports=a}),null);
__d("AdsTargetingBrowseTreeSelectEntryDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"browseTreeSelectEntry");e.exports=a}),null);
__d("AdsTargetingLocationBrowseListContainer.react",["ix","cx","fbt","AdsCommonTargetingApiTransformer","AdsCommonTargetingBrowseTreeFactory","AdsFBIconDownsized.react","AdsFlexibleTargetingBrowseList.react","AdsFluxContainer","AdsLocationActions","AdsLocationBrowseTreeHoverRowDataAction","AdsLocationBrowseTreeSetEntryIDsDataAction","AdsLocationBrowseTreeSetOpenPathDataAction","AdsSavedLocationActions","AdsSavedLocationDeletingDialogContainer","AdsSBAreaClicked","AdsSBTokenizerModeButtons.react","AdsTargetingBrowseTreeRemoveEntryDataAction","AdsTargetingBrowseTreeSelectEntryDataAction","AdsTargetingBrowseTreeUtils","AdsTargetingLocationBrowseTreeStore","AdsTargetingLocationDataTransformer","AdsTargetingLocationUtils","AdsUnifiedFlexibleTargetingDataSource","CurrentUser","Link.react","LocationConstants","PreferredAudienceTestIDs","React","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector","adsTargetingSavedLocationDataSelector","asset","emptyFunction","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("PreferredAudienceTestIDs").ADS_TARGETING_LOCATION_TYPEAHEAD+"-browse-list",l=i._("Saved Locations"),m=b("AdsCommonTargetingBrowseTreeFactory").createBrowseTree(d);function a(a){var c=null;return b("adsCreateStoreSelector")(a.getStores,function(d){c=c||{props:d};b("shallowEqual")(d,c.props)||(c.props=d);return a(c.props)},e.id)}f=b("adsCreateStructuredSelector")({isActive:b("AdsTargetingLocationBrowseTreeStore").getIsActiveSelector,openPath:b("AdsTargetingLocationBrowseTreeStore").getOpenPathSelector,disabledEntryIDs:b("AdsTargetingLocationBrowseTreeStore").getDisabledEntryIDsSelector,selectedEntryIDs:b("AdsTargetingLocationBrowseTreeStore").getSelectedEntryIDsSelector},e.id+".browseTreeStoreStateSelector");var n=a(b("adsCreateSelector")([b("adsTargetingSavedLocationDataSelector"),f],function(a,b){var c=a.savedLocationParentNode,d=a.disabledSavedLocationEntryIDs,e=a.selectedSavedLocationEntryIDs;a=a.partiallySelectedSavedLocationEntryIDs;var f=b.isActive,g=b.openPath,h=b.disabledEntryIDs;b=b.selectedEntryIDs;c&&(c.name=l);return{browseTree:c?m.concat(c):m,isActive:f,openPath:g,disabledEntryIDs:Object.assign({},h,d),selectedEntryIDs:Object.assign({},b,e),partiallySelectedEntryIDs:a}},{name:e.id}));h=babelHelpers.inherits(c,b("React").Component);j=h&&h.prototype;function c(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={browseTree:[],disabledEntryIDs:{},isActive:!1,openPath:[],partiallySelectedEntryIDs:{},selectedEntryIDs:{}},this.$4=function(a){a=b("React").createElement(b("AdsFBIconDownsized.react"),{src:g("407090")});var c=this.props.addLocationMode===b("LocationConstants").EXCLUDE?i._("You cannot exclude this location as you have already included it."):i._("You cannot include this location as you have already excluded it.");return b("React").createElement("div",{className:"_1yte"},b("React").createElement("span",null,a),b("React").createElement("span",{className:"_1ytf"},c))}.bind(this),this.$1=function(){b("AdsLocationActions").setBrowseTreeIsActive(!1,this.props.variantIndex)}.bind(this),this.$8=function(a){b("AdsTargetingBrowseTreeRemoveEntryDataAction").dispatch({entry_type:a.type,id:a.id},{line:"320",module:"AdsTargetingLocationBrowseListContainer.react.js"});var c=this.props.addLocationMode,d=c===b("LocationConstants").INCLUDE?this.props.geoLocations:this.props.excludedGeoLocations;c=c===b("LocationConstants").INCLUDE?this.props.excludedGeoLocations:this.props.geoLocations;a=b("AdsTargetingBrowseTreeUtils").substractFrom(a,d,c);if(!this.props.onReplaceAttempt)return;this.props.onReplaceAttempt(a,this.props.addLocationMode===b("LocationConstants").INCLUDE)}.bind(this),this.$6=function(a){b("AdsTargetingBrowseTreeSelectEntryDataAction").dispatch({entry_type:a.type,id:a.id},{line:"348",module:"AdsTargetingLocationBrowseListContainer.react.js"});var c;if(a.type===b("LocationConstants").SAVED_LOCATIONS)c=b("AdsCommonTargetingApiTransformer").fromGeoLocations({geo_locations:a.geoLocations}).geoLocations;else{a=b("AdsTargetingLocationDataTransformer").convertToSearchableEntries(a);c=b("AdsTargetingLocationDataTransformer").entriesToDataStore(a)}this.props.onMultiSelectAttempt(c,this.props.addLocationMode===b("LocationConstants").INCLUDE)}.bind(this),c}c.getStores=function(){return[b("AdsTargetingLocationBrowseTreeStore")].concat(b("adsTargetingSavedLocationDataSelector").getStores(),n.getStores())};c.calculateState=function(a,b){a=n({variantIndex:b.variantIndex,accountID:b.accountID,addLocationMode:b.addLocationMode,geoLocations:b.geoLocations,excludedGeoLocations:b.excludedGeoLocations});return a};c.prototype.componentDidMount=function(){b("AdsSBAreaClicked").init(),b("AdsSBAreaClicked").subscribe(k,this.$1),b("AdsSavedLocationActions").registerSavedLocationRootName(l.toString())};c.prototype.UNSAFE_componentWillReceiveProps=function(a){if(this.props.addLocationMode===a.addLocationMode&&b("AdsTargetingLocationUtils").areLocationSpecEqual(this.props.geoLocations,a.geoLocations)&&b("AdsTargetingLocationUtils").areLocationSpecEqual(this.props.excludedGeoLocations,a.excludedGeoLocations))return;b("AdsLocationBrowseTreeSetEntryIDsDataAction").dispatch({addLocationMode:a.addLocationMode,geoLocations:a.geoLocations,excludedGeoLocations:a.excludedGeoLocations},{line:"225",module:"AdsTargetingLocationBrowseListContainer.react.js"})};c.prototype.render=function(){return b("React").createElement("div",{className:this.state.isActive?"_eko":"",onMouseLeave:this.$2,onMouseOver:this.$3},b("React").createElement(b("AdsSBTokenizerModeButtons.react"),{shouldRenderSuggestionButton:!1,suggestionButtonEnabled:!1,uniqueID:b("PreferredAudienceTestIDs").ADS_TARGETING_LOCATION_TYPEAHEAD,onBrowseButtonMouseDown:this.props.onBrowseButtonMouseDown}),b("React").createElement(b("AdsFlexibleTargetingBrowseList.react"),{adAccountID:b("CurrentUser").getAccountID(),browseTree:this.state.browseTree,disabledEntryIDs:this.state.disabledEntryIDs,getNoticeContentForDisabled:this.$4,hidden:!this.state.isActive,hideRoot:!0,hideWhiteBoxReach:!0,openPath:this.state.openPath,openToPath:this.$5,partiallySelectedEntryIDs:this.state.partiallySelectedEntryIDs,ref:"expandableList",rootRef:this.props.rootRef,searchSource:b("AdsUnifiedFlexibleTargetingDataSource").getInstance(b("CurrentUser").getAccountID()),selectedEntryIDs:this.state.selectedEntryIDs,uniqueID:k,width:this.props.width,onAddEntryAttempt:this.$6,onAddMultiEntriesAttempt:b("emptyFunction"),onMouseOverRow:this.$7,onRemoveEntryAttempt:this.$8}),b("React").createElement(b("AdsSavedLocationDeletingDialogContainer"),null))};c.prototype.$3=function(){b("AdsSBAreaClicked").setAreaClicked(k,!0)};c.prototype.$2=function(){b("AdsSBAreaClicked").setAreaClicked(k,!1)};c.prototype.$5=function(a){b("AdsLocationBrowseTreeSetOpenPathDataAction").dispatch({openPath:a},{line:"316",module:"AdsTargetingLocationBrowseListContainer.react.js"})};c.prototype.$7=function(a){!!a&&a.tooltipData&&b("AdsLocationBrowseTreeHoverRowDataAction").dispatch({},{line:"373",module:"AdsTargetingLocationBrowseListContainer.react.js"})};function d(a){a.id===b("LocationConstants").WORLDWIDE&&(a.unselectable=!1,a.hasMoreInfo=!0,a.description=i._("Target every country worldwide"),a.extraInfo=i._("{stuff} about growing your business internationally with Facebook and Instagram.",[i._param("stuff",b("React").createElement(b("Link.react"),{href:"/business/help/285255905140138",target:"_blank"},i._("Learn more")))]));return!0}e.exports=b("AdsFluxContainer").create(c,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsTargetingLocationCityPopulationDialog",["ix","cx","fbt","BUIAdoptionDialogCloseButton.react","LayerFadeOnHide","List.react","LocationConstants","React","SUIBusinessTheme","SUIGlyphIcon.react","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","asset","intlList"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("LocationConstants").MultiCityPopulationInfo,l=700;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return this.props.displayState?this.$1():null};a.prototype.$1=function(){var a=i._("You're targeting cities in {location name}",[i._param("location name",this.props.location.name)]),c=i._("You're excluding cities in {location name}",[i._param("location name",this.props.location.name)]);return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("BUIAdoptionDialogCloseButton.react"),{layerAction:"cancel",use:"confirm"}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:this.props.location.included?a:c}),isShown:!0,theme:b("SUIBusinessTheme"),width:l,onHide:this.props.onHide},this.$2())};a.prototype.$2=function(){var a=k.getPopulationRangesForCountry().reverse(),c=[];for(var d=1;d<a.length;d++)c.push(this.$3(a[d],a[d-1]));return b("React").createElement(b("List.react"),{border:"none",direction:"vertical"},c,this.$4())};a.prototype.$3=function(a,c){__p&&__p();if(!this.props.citiesData)return null;var d=this.props.citiesData.filter(function(b){return b.population<=c&&b.population>=a&&b.population<=this.props.maxPopulation&&b.population>=this.props.minPopulation}.bind(this)).map(function(a){return a.name}).sort();if(d&&d.length){var e=c===k.getMaxPopulation()?i._("{High population range}:",[i._param("High population range",k.getFormattedPopulation(c))]):i._("{Low population range} - {High population range}:",[i._param("Low population range",k.getFormattedPopulation(a)),i._param("High population range",k.getFormattedPopulation(c))]);return b("React").createElement(b("List.react"),{border:"none",className:"_3-8z",direction:"horizontal",key:a.toString(),spacing:"medium"},b("React").createElement("li",{style:{minWidth:150,textAlign:"right"}},e),b("React").createElement("li",null,b("React").createElement("div",{className:"_4y3i"},i._("{cities list}",[i._param("cities list",b("intlList")(d,b("intlList").CONJUNCTIONS.AND))]))))}return null};a.prototype.$4=function(){var a=g("403740");return b("React").createElement(b("List.react"),{border:"none",className:"_3-8z",direction:"horizontal",key:"third-party-tooltip",spacing:"medium"},b("React").createElement("li",{style:{minWidth:150,textAlign:"right"}},b("React").createElement("div",{style:{paddingTop:"2px"}},b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:a,theme:b("SUIBusinessTheme")}))),b("React").createElement("li",null,b("React").createElement("div",{className:"_3-jd"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},i._("Population sizes are based on third-party data. These numbers may not match Facebook's estimated audience size, which estimates audience size using placements, targeting criteria and other factors like the behaviors, demographics and location data.")))))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("AdsPageSetPageLocationDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.SET_PAGE_LOCATION");e.exports=a}),null);
__d("AdsTargetingLocationPromotedPageAddress.react",["cx","fbt","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","XUICheckboxInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(event){this.props.onChange(event.target.checked)}.bind(this),b}a.prototype.render=function(){return b("React").createElement(b("InputLabel_DEPRECATED.react"),{className:"_3-96 _3-8w"},b("React").createElement(b("XUICheckboxInput.react"),{checked:this.props.isChecked,defaultChecked:!1,onChange:this.$1}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),{className:"_2d4s"},h._("Use your Facebook Page location to reach people near your business")))};e.exports=a}),null);
__d("AdsTargetingLocationPromotedPageAddressContainer.react",["cx","fbt","AdsAPICampaignPaths","AdsAPIPromotedObjectFields","AdsFluxContainer","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLocationSearchSource","AdsPageSetPageLocationDataAction","AdsPageStore","AdsTargetingLocationDataTransformer","AdsTargetingLocationPromotedPageAddress.react","AdsTargetingLocationUtils","ApiPageFields","LocationConstants","React","SUIBusinessTheme","SUINotice.react","SUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;var j=b("AdsInterfacesLogEvents").Event,k=b("AdsInterfacesLogEvents").EventCategory;d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(a,c,d){__p&&__p();if(a.length===0){this.$3({});return}c=b("AdsTargetingLocationDataTransformer").entriesToDataStore([a[0]]);if(this.constructor.$1(c)){this.$3(c);return}b("AdsLocationSearchSource").getInstance().validateAddress(a[0].getAuxiliaryData().matchedText,function(a,c,d){if(a||!c||!d){this.$3({});return}b("AdsLocationSearchSource").getInstance().searchImpl(d.normalized_address,this.$4)}.bind(this))}.bind(this),this.$4=function(a,c,d){if(a.length===0){this.$3({});return}this.$3(b("AdsTargetingLocationDataTransformer").entriesToDataStore([a[0]]))}.bind(this),this.$6=function(a){if(!this.state.pageLocation||this.state.hasError)return;var c=b("AdsTargetingLocationUtils").isContained(this.props.geoLocations,this.state.pageLocation);a?c||this.props.onSelectAttempt(this.state.pageLocation,!0):this.props.onRemoveAttempt(this.state.pageLocation);this.$5(a);this.setState({isChecked:a})}.bind(this),c}a.getStores=function(){return[b("AdsPageStore")]};a.calculateState=function(a,c){__p&&__p();a=c.campaign&&c.campaign.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.path);if(!a)return{hasError:!1,isChecked:!1,page:null,pageLocation:null};a=a.get(b("AdsAPIPromotedObjectFields").PAGE_ID);var d=b("AdsPageStore").get(a);a=b("AdsPageStore").getPageLocationFromPageID(a);var e=this.$1(a);c=!!(e&&a&&b("AdsTargetingLocationUtils").isContained(c.geoLocations,a));e=!!(a&&!e);return{hasError:e,isChecked:c,page:d,pageLocation:a}};a.$1=function(a){return b("LocationConstants").locationTypes.some(function(b){var c=a?a[b]||{}:{};return Object.keys(c).some(function(a){a=c[a];return a.country||a.country_code})})};a.prototype.$3=function(a){if(!this.state.page||b("AdsPageStore").getPageLocationFromPageID(this.state.page.id))return;b("AdsPageSetPageLocationDataAction").dispatch({pageID:this.state.page.id,location:a},{line:"174",module:"AdsTargetingLocationPromotedPageAddressContainer.react.js"})};a.prototype.$5=function(a){b("AdsInterfacesLogger").log({eventName:j.TARGETING_PAGE_LOCATION_CHECKBOX,eventCategory:k.USER_ACTION,data:{page_location_targeting:a}})};a.prototype.render=function(){__p&&__p();var a=this.state.page;a=a&&a[b("ApiPageFields").SINGLE_LINE_ADDRESS];if(!a)return null;if(!this.state.pageLocation){b("AdsLocationSearchSource").getInstance().searchImpl(a,this.$2);return b("React").createElement(b("SUISpinner.react"),{background:"light",className:"_3-96 _3-8w",size:"small",theme:b("SUIBusinessTheme")})}a=this.state.hasError&&b("React").createElement(b("SUINotice.react"),{style:{margin:"4px"},theme:b("SUIBusinessTheme"),type:"information"},h._("Can't find the location for the following page address:"),b("React").createElement("br",null),a);var c=this.state.hasError?null:b("React").createElement(b("AdsTargetingLocationPromotedPageAddress.react"),{isChecked:this.state.isChecked,onChange:this.$6});return b("React").createElement("div",null,a,c)};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsDraftForceDraftSyncDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsDraft.DRAFT.FORCE_SYNC");e.exports=a}),null);
__d("AdsCertificationCreationBlockingDialog.react",["AdsApplicationIDs","AdsCertificationAgreementDialog.react","AdsCertificationClient","AdsCertificationShowCreationBlockingAction","AdsCertificationSuccessDialog.react","AdsCFCertificationShowDialogAction","AdsDraftForceDraftSyncDataAction","AdsReviewIPCUtils","IPCEventName","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").PureComponent);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={shouldShowDialog:this.props.shouldShowDialog,shouldShowSuccessConfirmation:!1},this.$1=function(){this.setState({shouldShowSuccessConfirmation:!1});if(this.props.isCreationFlow===!0){b("AdsCFCertificationShowDialogAction").dispatch({shouldShowDialog:!1},{line:"69",module:"AdsCertificationCreationBlockingDialog.react.js"});return}b("AdsCertificationShowCreationBlockingAction").dispatch({isCertified:!0,shouldShowDialog:!1,shouldStopCreation:!1},{line:"74",module:"AdsCertificationCreationBlockingDialog.react.js"})}.bind(this),this.$2=function(){this.setState({shouldShowDialog:!1});var a=function(){this.setState({shouldShowSuccessConfirmation:!0}),this.props.isCreationFlow===!0&&b("AdsDraftForceDraftSyncDataAction").dispatch({adsApplicationID:b("AdsApplicationIDs").ADS_CREATOR,ids:[].concat(b("nullthrows")(this.props.activeCampaignIDs),b("nullthrows")(this.props.activeAdgroupIDs))},{line:"90",module:"AdsCertificationCreationBlockingDialog.react.js"}),b("AdsReviewIPCUtils").logIPCInteractionEvent(null,new Set(),b("IPCEventName").UI_NONDISCRIMINATION_CREATION_BLOCKING_CLICK,!0,null,null,null)}.bind(this);b("AdsCertificationClient").certifyUserHECAgreement(a)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,this.state.shouldShowSuccessConfirmation?b("React").createElement(b("AdsCertificationSuccessDialog.react"),{onClose:this.$1}):null,this.state.shouldShowDialog?b("React").createElement(b("AdsCertificationAgreementDialog.react"),{onClose:this.props.onClose,onConfirm:this.$2}):null)};e.exports=a}),null);
__d("AdsCertificationTargetingNoticeContainer.react",["fbt","AdsCCCardComponent.react","AdsCCCategory","AdsCCCategoryConfig","AdsCCContentComponent.react","AdsCertificationCreationBlockingDialog.react","AdsCertificationShowCreationBlockingAction","AdsCertificationShowCreationBlockingDataProvider","AdsCertificationUserHasCertifiedProvider","AdsFluxContainer","AdsQEStore","CurrentUser","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsCCCategoryConfig").CardLayout,j=b("AdsCertificationUserHasCertifiedProvider").toFluxStore(),k=b("AdsCertificationShowCreationBlockingDataProvider").toFluxStore();h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(){return[b("AdsQEStore"),j,k]};a.calculateState=function(a,c){__p&&__p();if(!c.targetingCountries.includes("US"))return{shouldShowDialog:!1,shouldShowNotice:!1};a=b("AdsQEStore").get("ads_manager_certification_rollout_existing_users",b("CurrentUser").getID());c=b("AdsQEStore").get("ads_manager_certification_rollout_new_users",b("CurrentUser").getID());if(!a.hasValue()||!c.hasValue())return{shouldShowDialog:!1,shouldShowNotice:!1};a=!j.getState()&&(a.getValueEnforcing().getParamBool("enable_certification")||c.getValueEnforcing().getParamBool("enable_certification"));c=k.getState();c=c.shouldShowDialog;return{shouldShowDialog:c,shouldShowNotice:a}};a.prototype.render=function(){return!this.state.shouldShowNotice?null:b("React").createElement(b("React").Fragment,null,this.state.shouldShowDialog?b("React").createElement(b("AdsCertificationCreationBlockingDialog.react"),{shouldShowDialog:!0,onClose:this.$1}):null,b("React").createElement(b("AdsCCCardComponent.react"),{category:b("AdsCCCategory").ERROR,headerData:{type:"TEXT",data:{text:g._("Review Non-Discrimination Policy")}},layout:i.HORIZONTAL,messageID:"certify_non_discrimination_policy"},b("React").createElement(b("AdsCCContentComponent.react"),{ctaData:[{type:"BUTTON",data:{text:g._("Review Now"),onCallToAction:this.$2}}],messageID:"certify_non_discrimination_policy_targeting",textData:[{type:"PARAGRAPH",data:{text:g._("Required: Please review and accept the terms of our non-discrimination policy before proceeding.")}}]})))};a.prototype.$2=function(){b("AdsCertificationShowCreationBlockingAction").dispatch({isCertified:!1,shouldShowDialog:!0,shouldStopCreation:!1},{line:"152",module:"AdsCertificationTargetingNoticeContainer.react.js"})};a.prototype.$1=function(){b("AdsCertificationShowCreationBlockingAction").dispatch({isCertified:!1,shouldShowDialog:!1,shouldStopCreation:!1},{line:"160",module:"AdsCertificationTargetingNoticeContainer.react.js"})};function a(){h.apply(this,arguments)}e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsLocationClearNoticeStateDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CLEAR_NOTICE_STATE");e.exports=a}),null);
__d("AdsLocationCopyPasteLocationsDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"COPY_PASTE_LOCATIONS");e.exports=a}),null);
__d("AdsLocationTargetingFocusTypeaheadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"locationTargetingFocusTypeahead");e.exports=a}),null);
__d("AdsAdaccountLocationClusterCreationResultAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"LOCATION_CLUSTER_CREATION_STATUS");e.exports=a}),null);
__d("AdsAdaccountLocationClusterDataManager",["AdsAdaccountLocationClusterCreationResultAction","AdsGraphAPI","LocationConstants","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.createLocationCluster=function(a,c,d,f,g){if(d===null||d===void 0){this.$1(g,new Error("No AdAccount."));return}b("promiseDone")(b("AdsGraphAPI").get(e.id+".createLocationCluster").adaccount(d).edge("locationclusters").post({locations:a}),function(a){return this.$2(f,a.id,c)}.bind(this),function(a){return this.$1(g,a)}.bind(this))};a.prototype.$2=function(a,c,d){b("AdsAdaccountLocationClusterCreationResultAction").dispatch({location_cluster:{key:c},success:!0},{line:"48",module:"AdsAdaccountLocationClusterDataManager.js"});var e=b("LocationConstants").getEmptyLocations();e[b("LocationConstants").LOCATION_CLUSTER_IDS]!==null&&e[b("LocationConstants").LOCATION_CLUSTER_IDS]!==void 0&&e[b("LocationConstants").LOCATION_CLUSTER_IDS].push({key:c,country:d});a(e)};a.prototype.$1=function(a,c){b("AdsAdaccountLocationClusterCreationResultAction").dispatch({location_cluster:null,success:!1},{line:"66",module:"AdsAdaccountLocationClusterDataManager.js"}),a(c)};function a(){}e.exports=new a()}),null);
__d("AdsAdaccountLocationClusterLoadingAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"LOCATION_CLUSTER_LOADING_STARTED");e.exports=a}),null);
__d("AdsLocationBulkInputFinishValidationDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BULK_INPUT_FINISH_VALIDATION");e.exports=a}),null);
__d("AdsLocationBulkInputFormatCheckDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BULK_INPUT_FORMAT_CHECK");e.exports=a}),null);
__d("AdsLocationBulkInputStartValidationDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BULK_INPUT_START_VALIDATION");e.exports=a}),null);
__d("AdsLocationUpdateSaveLocationListOptionDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"UPDATE_SAVE_LOCATION_LIST_OPTION");e.exports=a}),null);
__d("AdsSavedLocationDisplayEditBulkInputDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION_DISPLAY_EDIT_BULK_INPUT_DIALOG";e.exports={actionType:a}}),null);
__d("AdsSavedLocationShowSaveCheckboxDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.SHOW_SAVE_CHECKBOX";e.exports={actionType:a}}),null);
__d("AdsSavedLocationLoggerStore",["AdsDataAtom","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsSavedLocationDisplayEditBulkInputDialogDataActionFlux","AdsSavedLocationSavedLocationBatchCreatedDataActionFlux","AdsSavedLocationSavedLocationBatchCreateErrorDataActionFlux","AdsSavedLocationSavedLocationBatchDeletedDataActionFlux","AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux","AdsSavedLocationSavedLocationBatchLoadedDataActionFlux","AdsSavedLocationSavedLocationBatchLoadErrorDataActionFlux","AdsSavedLocationSavedLocationBatchUpdatedDataActionFlux","AdsSavedLocationSavedLocationBatchUpdateErrorDataActionFlux","AdsSavedLocationSavedLocationCreateBatchDataActionFlux","AdsSavedLocationSavedLocationDeleteBatchDataActionFlux","AdsSavedLocationSavedLocationListLoadedDataActionFlux","AdsSavedLocationSavedLocationListLoadErrorDataActionFlux","AdsSavedLocationSavedLocationUpdateBatchDataActionFlux","AdsSavedLocationShowSaveCheckboxDataActionFlux","AdsSavedLocationViewDisplayDeleteDialogDataActionFlux","AdsSavedLocationViewDisplayNameInputDialogDataActionFlux","AdsTargetingLocationLoggingEvents","FluxStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxStore"));g&&g.prototype;a.prototype.__getActionTypes=function(){return h?[b("AdsSavedLocationDisplayEditBulkInputDialogDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchCreateErrorDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchCreatedDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchDeletedDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchLoadErrorDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchLoadedDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchUpdateErrorDataActionFlux").actionType,b("AdsSavedLocationSavedLocationBatchUpdatedDataActionFlux").actionType,b("AdsSavedLocationSavedLocationCreateBatchDataActionFlux").actionType,b("AdsSavedLocationSavedLocationDeleteBatchDataActionFlux").actionType,b("AdsSavedLocationSavedLocationListLoadErrorDataActionFlux").actionType,b("AdsSavedLocationSavedLocationListLoadedDataActionFlux").actionType,b("AdsSavedLocationSavedLocationUpdateBatchDataActionFlux").actionType,b("AdsSavedLocationShowSaveCheckboxDataActionFlux").actionType,b("AdsSavedLocationViewDisplayDeleteDialogDataActionFlux").actionType,b("AdsSavedLocationViewDisplayNameInputDialogDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();var c;a=a.action;switch(a.type){case b("AdsSavedLocationShowSaveCheckboxDataActionFlux").actionType:this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_SHOW_SAVE_OPTION);break;case b("AdsSavedLocationViewDisplayNameInputDialogDataActionFlux").actionType:this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_DISPLAY_NAME_INPUT_DIALOG);break;case b("AdsSavedLocationSavedLocationBatchCreatedDataActionFlux").actionType:a.savedLocations.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_CREATED,(c={},c[b("AdsInterfacesLoggerConfigColumns").SAVED_LOCATION_ID]=a.id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchCreateErrorDataActionFlux").actionType:a.errors.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_CREATE_ERROR,(c={},c[b("AdsInterfacesLoggerConfigColumns").ERROR_SUBCODE]=a.error_subcode,c[b("AdsInterfacesLoggerConfigColumns").ERROR_CODE]=a.code,c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=a.fbtrace_id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationCreateBatchDataActionFlux").actionType:a.savedLocations.forEach(function(a){return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_CREATE)}.bind(this));break;case b("AdsSavedLocationSavedLocationUpdateBatchDataActionFlux").actionType:a.savedLocations.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_UPDATE,(c={},c[b("AdsInterfacesLoggerConfigColumns").SAVED_LOCATION_ID]=a.id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchUpdatedDataActionFlux").actionType:a.savedLocations.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_UPDATED,(c={},c[b("AdsInterfacesLoggerConfigColumns").SAVED_LOCATION_ID]=a.id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchUpdateErrorDataActionFlux").actionType:a.errors.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_UPDATE_ERROR,(c={},c[b("AdsInterfacesLoggerConfigColumns").ERROR_SUBCODE]=a.error_subcode,c[b("AdsInterfacesLoggerConfigColumns").ERROR_CODE]=a.code,c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=a.fbtrace_id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationDeleteBatchDataActionFlux").actionType:a.savedLocationIDs.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_DELETE,(c={},c[b("AdsInterfacesLoggerConfigColumns").SAVED_LOCATION_ID]=a,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchDeletedDataActionFlux").actionType:a.savedLocationIDs.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_DELETED,(c={},c[b("AdsInterfacesLoggerConfigColumns").SAVED_LOCATION_ID]=a,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux").actionType:a.errors.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_DELETE_ERROR,(c={},c[b("AdsInterfacesLoggerConfigColumns").ERROR_SUBCODE]=a.error_subcode,c[b("AdsInterfacesLoggerConfigColumns").ERROR_CODE]=a.code,c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=a.fbtrace_id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchLoadedDataActionFlux").actionType:a.savedLocations.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_LOADED,(c={},c[b("AdsInterfacesLoggerConfigColumns").SAVED_LOCATION_ID]=a.id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationBatchLoadErrorDataActionFlux").actionType:a.errors.forEach(function(a){var c;return this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_LOAD_ERROR,(c={},c[b("AdsInterfacesLoggerConfigColumns").ERROR_SUBCODE]=a.error_subcode,c[b("AdsInterfacesLoggerConfigColumns").ERROR_CODE]=a.code,c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=a.fbtrace_id,c))}.bind(this));break;case b("AdsSavedLocationSavedLocationListLoadedDataActionFlux").actionType:this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_LIST_LOADED);break;case b("AdsSavedLocationSavedLocationListLoadErrorDataActionFlux").actionType:this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_LIST_LOAD_ERROR,(c={},c[b("AdsInterfacesLoggerConfigColumns").ERROR_SUBCODE]=a.error.error_subcode,c[b("AdsInterfacesLoggerConfigColumns").ERROR_CODE]=a.error.code,c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=a.error.fbtrace_id,c));break;case b("AdsSavedLocationViewDisplayDeleteDialogDataActionFlux").actionType:this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_DISPLAY_DELETE_DIALOG);break;case b("AdsSavedLocationDisplayEditBulkInputDialogDataActionFlux").actionType:this.$AdsSavedLocationLoggerStoreClass1(b("AdsTargetingLocationLoggingEvents").SAVED_LOCATION_DISPLAY_UPDATE_DIALOG);break;default:return}};a.prototype.$AdsSavedLocationLoggerStoreClass1=function(event,a){b("AdsInterfacesLogger").log({eventName:event,data:a||void 0},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsSavedLocationInputNameDialog",["cx","fbt","AdsSavedLocationActions","AdsSavedLocationInputNameView","AdsSavedLocationSpinnerView","BUIAdoptionDialogButton.react","LayerFadeOnHide","LayerHideSources","LocationConstants","React","SavedLocationsTestIDs","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;var j=b("LocationConstants").SAVED_LOCATION_VIEW_STATE;function k(a){var c=null;a.viewState===j.NAME_INPUT_VIEW&&(c=b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("BUIAdoptionDialogButton.react"),{"data-testid":b("SavedLocationsTestIDs").ADD_LOCATIONS_IN_BULK_SAVE_LIST_BUTTON,disabled:a.name===""||a.error!==null,label:h._("Save List"),layerAction:"button",use:"confirm",onClick:a.onSave}),secondaryButton:b("React").createElement(b("BUIAdoptionDialogButton.react"),{label:h._("Skip"),layerAction:"cancel"}),theme:b("SUIBusinessTheme")}));return c}function l(){return b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Name This List")})}function m(a){if(a.viewState===j.NAME_INPUT_VIEW)return b("React").createElement("div",{className:"_2g3i"},b("React").createElement("div",{className:"_2g31"},b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._({"*":{"location has":"{Locations count} location has been added. Give this list a name so you can easily find it next time.","locations have":"{Locations count} locations have been added. Give this list a name so you can easily find it next time."}},[h._param("Locations count",a.numLocations,[0]),h._enum(a.numLocations===1?"location has":"locations have",{"location has":"location has","locations have":"locations have"})]))),b("React").createElement(b("AdsSavedLocationInputNameView"),{editMode:!1,error:a.error,name:a.name,onNameChange:a.onNameChange}));else return b("React").createElement(b("AdsSavedLocationSpinnerView"),{message:h._("Saving list...")})}d=babelHelpers.inherits(a,c);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.$2(a)&&b("AdsSavedLocationActions").hideSavedLocationDialog()}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},"data-testid":b("SavedLocationsTestIDs").ADD_LOCATIONS_IN_BULK_NAMING_DIALOG,footer:b("React").createElement(k,this.props),header:b("React").createElement(l,null),isShown:!0,label:h._("Save Location List"),theme:b("SUIBusinessTheme"),width:500,onHide:this.$1},b("React").createElement(m,this.props))};a.prototype.$2=function(a){return a!==b("LayerHideSources").BLUR};e.exports=a}),null);
__d("AdsSavedLocationNamingContainer",["AdsCommonTargetingApiTransformer","AdsFluxContainer","AdsNewIDs","AdsSavedLocationActions","AdsSavedLocationInputNameDialog","AdsSavedLocationStore","AdsSavedLocationViewStore","LocationConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").Component;var h=b("LocationConstants").SAVED_LOCATION_VIEW_STATE;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$2=function(){if(!this.state.name||this.state.name==="")return;var a=b("AdsCommonTargetingApiTransformer").getGeoLocations(this.state.locations);b("AdsSavedLocationActions").createSavedLocations([{accountID:this.state.accountID,name:this.state.name,countries:a.countries,country_groups:a.country_groups,regions:a.regions,cities:a.cities,dmas:a.geo_markets,zips:a.zips,custom_locations:a.custom_locations,tempID:b("AdsNewIDs").newNegativeID().toString()}])}.bind(this),c}a.getStores=function(){return[b("AdsSavedLocationViewStore"),b("AdsSavedLocationStore")]};a.calculateState=function(){return{accountID:b("AdsSavedLocationViewStore").getAccountID(),error:b("AdsSavedLocationViewStore").getError(),locations:b("AdsSavedLocationViewStore").getLocations(),name:b("AdsSavedLocationViewStore").getName(),viewState:b("AdsSavedLocationViewStore").getViewState()}};a.prototype.render=function(){var a=this.state.viewState===h.NAME_INPUT_VIEW||this.state.viewState===h.NAME_SAVING_VIEW,c=null;if(a){a=0;for(var d in this.state.locations)a+=this.state.locations[d].length;c=b("React").createElement(b("AdsSavedLocationInputNameDialog"),{error:this.state.error,name:this.state.name,numLocations:a,viewState:this.state.viewState,onNameChange:this.$1,onSave:this.$2})}return c};a.prototype.$1=function(a){b("AdsSavedLocationActions").setSavedLocationListName(a)};e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);
__d("AdsLocationBulkInputHideNuxDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BULK_INPUT_HIDE_NUX");e.exports=a}),null);
__d("AdsTargetingLocationBulkInputLabel",["cx","fbt","AdsInterfacesLogger","AdsLocationBulkInputDisplayInputDialogDataAction","AdsLocationBulkInputHideNuxDataAction","AdsTargetingLocationLoggingEvents","Link.react","React","SavedLocationsTestIDs","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;d=b("React").PropTypes;var j=320;f=babelHelpers.inherits(a,c);i=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.getContextRef=function(){return this.refs.label}.bind(this),b}a.prototype.render=function(){return b("React").createElement("div",{className:"_4h25"},b("React").createElement(b("Link.react"),{"data-testid":b("SavedLocationsTestIDs").ADD_LOCATIONS_IN_BULK_LINK,ref:"label",onClick:this.onClickLabel},h._("Add Locations in Bulk")),this.renderNUX())};a.prototype.renderNUX=function(){return!this.props.showNUX?null:b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.getContextRef,customwidth:j,position:"right",shown:!0,width:"custom",onCloseButtonClick:this.onNuxCloseButtonClick},h._("You can copy and paste bulk locations here."))};a.prototype.onClickLabel=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_OPEN_BULK_DIALOG},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),b("AdsLocationBulkInputDisplayInputDialogDataAction").dispatch({},{line:"89",module:"AdsTargetingLocationBulkInputLabel.js"})};a.prototype.onNuxCloseButtonClick=function(){b("AdsLocationBulkInputHideNuxDataAction").dispatch({},{line:"93",module:"AdsTargetingLocationBulkInputLabel.js"})};a.propTypes={showNUX:d.bool.isRequired};e.exports=a}),null);
__d("AdsTargetingLocationBulkInputContainer",["fbt","AdsSavedLocationLoggerStore","AdsAdaccountLocationClusterDataManager","AdsAdaccountLocationClusterLoadingAction","AdsCommonTargetingApiTransformer","AdsFluxContainer","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLocationBulkInputStartValidationDataAction","AdsLocationBulkInputFinishValidationDataAction","AdsLocationBulkInputHideDialogDataAction","AdsLocationBulkInputFormatCheckDataAction","AdsLocationUpdateSaveLocationListOptionDataAction","AdsLocationSearchSource","AdsSavedLocationActions","AdsSavedLocationListStore","AdsSavedLocationNamingContainer","AdsTargetingBootloadDialog.react","AdsTargetingLocationBulkInputLabel","AdsTargetingLocationBulkInputStore","AdsTargetingLocationLoggingEvents","gkx","immutable","JSResource","LocationConstants","React","StrSet","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("AdsSavedLocationLoggerStore");c=b("React").Component;d=b("React").PropTypes;var i=b("LocationConstants").BULK_INPUT_VIEW_STATE,j=600,k=760,l=/[,;\n\r]/,m=/[;\n\r]/,n=b("LocationConstants").BULK_INPUT_FORMAT_STATE,o=b("LocationConstants").BULK_INUT_GEO_MARKET_INPUT_FORMAT;f=babelHelpers.inherits(a,c);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.onMatch=function(){var a=b("AdsTargetingLocationBulkInputStore").getText(),c=b("AdsLocationSearchSource").getInstance();a=this.$4(a);this.state.locationType===b("LocationConstants").ZIPS?a=a.map(function(a){return a[2]===":"?a:b("AdsTargetingLocationBulkInputStore").getDefaultCountry()+":"+a}):this.state.locationType===b("LocationConstants").GEO_MARKETS&&this.state.geoMarketInputFormat===o.CODE&&(a=a.map(function(a){return"DMA:"+a}));this.$5(a)&&(b("AdsLocationBulkInputStartValidationDataAction").dispatch({},{line:"211",module:"AdsTargetingLocationBulkInputContainer.js"}),c.validate(a,this.state.locationType,this.onFinishValidation,{countryAsObject:!0,geoMarketInputFormat:this.state.geoMarketInputFormat}))}.bind(this),this.onFinishValidation=function(a,c){(this.state.locationType===b("LocationConstants").CITIES||this.state.locationType===b("LocationConstants").CUSTOM_LOCATIONS)&&a.forEach(function(a){a.radius=b("AdsTargetingLocationBulkInputStore").getDefaultRadius(),a.distanceUnit=b("LocationConstants").RadiusInfo.getDefaultRadius(this.state.locationType)}.bind(this)),(this.state.locationType===b("LocationConstants").GEO_MARKETS&&this.state.geoMarketInputFormat===o.CODE||this.state.locationType===b("LocationConstants").ZIPS)&&(c=c.map(function(a){return a.split(":")[1]})),b("AdsLocationBulkInputFinishValidationDataAction").dispatch({validatedLocations:a,invalidLocationNames:c},{line:"247",module:"AdsTargetingLocationBulkInputContainer.js"})}.bind(this),this.onAddLocations=function(){__p&&__p();var a=this.$6();if((a[b("LocationConstants").ZIPS]||[]).length<=b("LocationConstants").getMaxTargetLocationsCount(b("LocationConstants").ZIPS)){this.onAddLocationAfterProcessing(a);return}var c=(a[b("LocationConstants").ZIPS]||[]).map(function(a){return a.key});a[b("LocationConstants").ZIPS]=[];b("AdsAdaccountLocationClusterLoadingAction").dispatch({},{line:"264",module:"AdsTargetingLocationBulkInputContainer.js"});b("AdsAdaccountLocationClusterDataManager").createLocationCluster(c,this.state.defaultCountry,this.props.accountID,this.onAddLocationAfterProcessing,this.onAddLocationAfterProcessingError)}.bind(this),this.onAddLocationAfterProcessing=function(a){var c;c=(c={},c[b("AdsInterfacesLoggerConfigColumns").TARGETING_UI_EVENT_DATA]=JSON.stringify({locationsCount:(a[this.state.locationType]||[]).length}),c);b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_BLIP_ADD_LOCATIONS,data:c},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);this.props.onAddLocations(a,this.props.addLocationMode===b("LocationConstants").INCLUDE,this.state.locationType);this.state.saveLocationListOption&&this.props.accountID&&b("AdsSavedLocationActions").displaySavedLocationNameInputDialog(this.props.accountID,a);b("AdsLocationBulkInputHideDialogDataAction").dispatch({},{line:"301",module:"AdsTargetingLocationBulkInputContainer.js"})}.bind(this),this.$1=function(){var a=this.$6();a=b("AdsCommonTargetingApiTransformer").getGeoLocations(a);b("AdsSavedLocationActions").updateSavedLocations([{id:this.state.savedLocationID,name:this.state.savedLocationName,countries:a.countries,country_groups:a.country_groups,regions:a.regions,cities:a.cities,dmas:a.geo_markets,zips:a.zips,custom_locations:a.custom_locations}])}.bind(this),c}a.getStores=function(){return[b("AdsSavedLocationListStore"),b("AdsTargetingLocationBulkInputStore")]};a.calculateState=function(a,c){a=c.accountID?b("AdsSavedLocationListStore").getFor(c.accountID).list.length:0;return{defaultCountry:b("AdsTargetingLocationBulkInputStore").getDefaultCountry(),defaultRadius:b("AdsTargetingLocationBulkInputStore").getDefaultRadius(),editMode:b("AdsTargetingLocationBulkInputStore").getEditMode(),formatState:b("AdsTargetingLocationBulkInputStore").getFormatState(),geoMarketInputFormat:b("AdsTargetingLocationBulkInputStore").getGeoMarketInputFormat(),invalidLocationNames:b("AdsTargetingLocationBulkInputStore").getInvalidLocationNames(),locationType:b("AdsTargetingLocationBulkInputStore").getLocationType(),rows:b("AdsTargetingLocationBulkInputStore").getRows(),saveLocationListOption:b("AdsTargetingLocationBulkInputStore").getSaveLocationListOption(),savedLocationsCount:a,savedLocationError:b("AdsTargetingLocationBulkInputStore").getSavedLocationError(),savedLocationID:b("AdsTargetingLocationBulkInputStore").getSavedLocationID(),savedLocationName:b("AdsTargetingLocationBulkInputStore").getSavedLocationName(),showNUX:b("AdsTargetingLocationBulkInputStore").getShowNux(),tableKey:b("AdsTargetingLocationBulkInputStore").getTableKey(),text:b("AdsTargetingLocationBulkInputStore").getText(),validatedLocations:b("AdsTargetingLocationBulkInputStore").getValidatedLocations(),viewState:b("AdsTargetingLocationBulkInputStore").getViewState(),createdLocationCluster:b("AdsTargetingLocationBulkInputStore").getcreatedLocationCluster(),locationClusterLoaded:b("AdsTargetingLocationBulkInputStore").getLocationClusterLoaded(),isLoadingLocationCluster:b("AdsTargetingLocationBulkInputStore").getIsLoadingLocationCluster()}};a.prototype.render=function(){var a=this.state.viewState!==i.HIDE_VIEW,c=null;if(a){a=this.state.editMode?b("React").createElement(b("XUIDialogTitle.react"),null,g._("Edit List")):b("React").createElement(b("XUIDialogTitle.react"),null,g._("Add Locations in Bulk"));var d=this.state.viewState===i.REVIEW_VIEW?k:j;c=b("React").createElement(b("AdsTargetingBootloadDialog.react"),babelHelpers["extends"]({},this.state,{accountID:this.props.accountID,bootloadLoader:b("JSResource")("AdsTargetingLocationBulkInputDialog").__setRef("AdsTargetingLocationBulkInputContainer"),defaultCountry:this.state.defaultCountry,defaultRadius:this.state.defaultRadius,dialogTitle:a,disallowedLocationTypes:this.props.disallowedLocationTypes,editMode:this.state.editMode,savedLocationError:this.state.savedLocationError,savedLocationID:this.state.savedLocationID,savedLocationName:this.state.savedLocationName,savedLocationsCount:this.state.savedLocationsCount,shown:this.state.viewState!==i.HIDE_VIEW,text:this.state.text,width:d,onAddLocations:this.onAddLocations,getMaxTargetLocationsCountOverride:this.props.getMaxTargetLocationsCountOverride,onChangeSaveLocationCheckbox:this.onChangeSaveLocationCheckbox,onMatch:this.onMatch,onSaveChanges:this.$1,onSavedLocationNameChange:this.$2}))}return b("React").createElement("div",null,b("React").createElement(b("AdsTargetingLocationBulkInputLabel"),{showNUX:this.state.showNUX}),c,this.$3())};a.prototype.onAddLocationAfterProcessingError=function(a){};a.prototype.$6=function(){var a=b("LocationConstants").getEmptyLocations();this.state.locationType===b("LocationConstants").COUNTRIES?a[this.state.locationType]=this.state.validatedLocations.map(function(a){return a.key}):a[this.state.locationType]=this.state.validatedLocations;return a};a.prototype.$3=function(){return this.props.accountID?b("React").createElement(b("AdsSavedLocationNamingContainer"),null):null};a.prototype.$4=function(a){var c=l;(this.state.locationType===b("LocationConstants").CITIES||this.state.locationType===b("LocationConstants").CUSTOM_LOCATIONS||this.state.locationType===b("LocationConstants").GEO_MARKETS&&this.state.geoMarketInputFormat===o.NAME)&&(c=m);return new(b("StrSet"))(a.split(c).map(function(a){return a.trim()}).filter(function(a){return!!a})).toArray()};a.prototype.$5=function(a){__p&&__p();var c=b("LocationConstants").getMaxTargetLocationsCount(this.state.locationType);this.props.enableLocationCluster&&this.state.locationType===b("LocationConstants").ZIPS&&(c=b("LocationConstants").getMaxTargetLocationsCount(b("LocationConstants").LOCATION_CLUSTER_IDS));c=this.props.getMaxTargetLocationsCountOverride?this.props.getMaxTargetLocationsCountOverride(this.state.locationType):c;if(a.length>c){a=a.slice(0,c).join("\n");b("AdsLocationBulkInputFormatCheckDataAction").dispatch({formatState:n.ERROR_EXCEED_MAX_LOCATIONS,text:a},{line:"362",module:"AdsTargetingLocationBulkInputContainer.js"});return!1}b("AdsLocationBulkInputFormatCheckDataAction").dispatch({formatState:n.CORRECT,text:void 0},{line:"368",module:"AdsTargetingLocationBulkInputContainer.js"});return!0};a.prototype.onChangeSaveLocationCheckbox=function(a){b("AdsLocationUpdateSaveLocationListOptionDataAction").dispatch({saveLocationListOption:a},{line:"376",module:"AdsTargetingLocationBulkInputContainer.js"})};a.prototype.$2=function(a){b("AdsSavedLocationActions").editSavedLocationListName(a)};a.propTypes={accountID:d.string,disallowedLocationTypes:d.object.isRequired,getMaxTargetLocationsCountOverride:d.func,onAddLocations:d.func.isRequired};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsLocationMapNoPolygonDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"MAP_NO_POLYGON");e.exports=a}),null);
__d("AdsTargetingLocationMapRecord",["AdsTargetingLocationMapMetaRecord","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsTargetingLocationMapMetaRecord"));g&&g.prototype;a.fromGeoLocation=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocation(a,void 0)};a.fromGeoLocationCached=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocationCached(a,void 0)};a.fromGeoLocations=function(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocations(a,b("emptyFunction"))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsTargetingLocationMapContainer.react",["cx","fbt","ix","Promise","AdsFluxContainer","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLoadState_LEGACY","AdsLocationDataStore","AdsLocationMapDropPinFailDataAction","AdsLocationMapNoPolygonDataAction","AdsTargetingLocationDataTransformer","AdsTargetingLocationInlineMap.react","AdsTargetingLocationLoggingEvents","AdsTargetingLocationMapRecord","AdsTargetingLocationUtils","BanzaiODS","FBLogger","Image.react","LeftRight.react","LocationConstants","React","XUIButton.react","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=b("React").createElement(b("Image.react"),{src:i("22119"),width:"16"}),l=b("AdsTargetingLocationDataTransformer").fillMetaInfoForLocations,m=0,n=!1,o={addingLocation:!1,collapsed:!1,excluded:null,fit:{},highlight:{},included:null,loadState:b("AdsLoadState_LEGACY").NOT_LOADED,mapHasFocus:!1};d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state=o,this.$6=function(a){__p&&__p();this.setState({addingLocation:!0});var c=b("AdsTargetingLocationUtils").getKeyFromCoordinates(a.latitude,a.longitude),d={key:c,type:b("LocationConstants").CUSTOM_LOCATIONS,latitude:a.latitude,longitude:a.longitude,name:c,distance_unit:b("LocationConstants").RadiusInfo.getLocalizedUnit(),included:this.props.addLocationMode===b("LocationConstants").INCLUDE,radius:0};a={};a[b("LocationConstants").CUSTOM_LOCATIONS]=[c];var e=this.$7(d);b("AdsLocationDataStore").getMetadata(a,!0,function(a){__p&&__p();b("promiseDone")(e,function(e){__p&&__p();d.radius=e;e=a[b("LocationConstants").CUSTOM_LOCATIONS][c];var f={success:!!e,location:null};if(e){var g={};g[b("LocationConstants").CUSTOM_LOCATIONS]=[d];g=l(g,a,!1);this.props.onAddLocationFromMap(g);g=babelHelpers["extends"]({},e);delete g.polygons;f.location=g;b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ADD_LOCATION},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);this.setState({addingLocation:!1})}else this.$8(d)}.bind(this),function(a){return this.$8(d,a)}.bind(this))}.bind(this),function(a){return this.$8(d,a)}.bind(this))}.bind(this),this.$1=function(){if(this.props.tooManyLocations)return;this.setState({collapsed:!1});b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_EXPAND},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}.bind(this),this.$9=function(){this.setState({collapsed:!0}),b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_COLLAPSE},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}.bind(this),this.$4=function(){this.setState({mapHasFocus:!0})}.bind(this),this.$3=function(a){if(a.relatedTarget&&a.relatedTarget instanceof HTMLButtonElement&&(a.relatedTarget.value==="locationpopoverbutton"||a.relatedTarget.value==="locationpopoveritem"))return;this.setState({mapHasFocus:!1})}.bind(this),c}a.getStores=function(){return[b("AdsLocationDataStore")]};a.calculateState=function(a,c){__p&&__p();var d=b("AdsTargetingLocationUtils").getLocationKeys(c.locations,c.excludedLocations);d=b("AdsLocationDataStore").getMetadata(d,!c.tooManyLocations,null);var e=d.loadState;a=babelHelpers["extends"]({},a||{});a.loadState=e;c.tooManyLocations?a.collapsed=!0:c.forceExpandMap&&(a.collapsed=!1);if(e===b("AdsLoadState_LEGACY").LOADING)m=b("performanceNow")(),n=!0;else if(e===b("AdsLoadState_LEGACY").LOADED){a.included=l(c.locations,d,!0);a.excluded=l(c.excludedLocations,d,!0);a.fit=l(c.fitLocations,d,!0);a.highlight=l(c.highlightLocations,d,!0);if(n){n=!1;e=Math.floor(b("performanceNow")()-m);b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_DATA_LOADING_TIME,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").SCENARIO_DURATION]=e,c)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);b("BanzaiODS").bumpEntityKey("ads_targeting_location","geo_location_map_loading_time",e)}}else n=!1;return a};a.prototype.shouldComponentUpdate=function(a,c){return c&&this.props.tooManyLocations===a.tooManyLocations&&this.props.addLocationMode===a.addLocationMode&&this.props.highlightLocations===a.highlightLocations&&(this.state.collapsed&&c.collapsed||c.loadState===b("AdsLoadState_LEGACY").LOADING)?!1:!0};a.prototype.render=function(){var a=b("AdsTargetingLocationMapRecord").fromGeoLocations(this.state.included||{}),c=b("AdsTargetingLocationMapRecord").fromGeoLocations(this.state.excluded||{}),d=b("AdsTargetingLocationMapRecord").fromGeoLocations(this.state.fit||{}),e=b("AdsTargetingLocationMapRecord").fromGeoLocations(this.state.highlight||{}),f=null;this.state.collapsed&&!this.props.tooManyLocations&&(f=b("React").createElement("div",{className:"_3_j"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_2wjl"},h._("MAP")),b("React").createElement(b("XUIButton.react"),{className:"_zd",disabled:this.props.tooManyLocations,image:k,label:h._("Expand Map"),labelIsHidden:!0,onClick:this.$1}))));this.$2();var g=this.state.collapsed?"_3_p":"_3_o";return b("React").createElement("div",null,b("React").createElement("div",{className:g},b("React").createElement("div",{className:"_3_r",style:{height:this.props.mapHeight+"px"},onBlur:this.$3,onFocus:this.$4},f,this.$5(a,c,d,e))))};a.prototype.$8=function(a,c){b("AdsLocationMapDropPinFailDataAction").dispatch({hasDropPinFailed:!0},{line:"325",module:"AdsTargetingLocationMapContainer.react.js"}),b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_ADD_LOCATION},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.setState({addingLocation:!1}),c&&b("FBLogger")("ads").catching(c).mustfix("Dropping pin failed")};a.prototype.$7=function(a){return!this.props.shouldGetSuggestedRadius?b("Promise").resolve(b("LocationConstants").RadiusInfo.getAddressDefaultRadius()):b("AdsTargetingLocationUtils").fetchSuggestedRadiusOrDefault(a)};a.prototype.$5=function(a,c,d,e){return this.props.tooManyLocations?null:b("React").createElement(b("AdsTargetingLocationInlineMap.react"),{addLocationMode:this.props.addLocationMode,addingLocation:this.state.addingLocation,disableCollapseButton:this.props.disableCollapseButton,disableScrollWheelZoom:this.props.disableScrollWheelZoom,enableDropPin:this.props.enableDropPin,excludedLocations:c,fitLocations:d,forceUpdate:this.props.forceExpandMap,highlightLocations:e,locations:a,mapHasFocus:this.state.mapHasFocus,onlyInclusion:this.props.onlyInclusion,onAddLocationFromMap:this.$6,onCollapseMap:this.$9,onPopupMenuItemSelect:this.props.onPopupMenuItemSelect})};a.prototype.$2=function(){if(!this.props.tooManyLocations&&!this.state.collapsed&&this.state.fit){var a=this.state.fit[b("LocationConstants").COUNTRIES]||[],c=this.state.fit[b("LocationConstants").COUNTRY_GROUPS]||[];this.$10(a)?b("AdsLocationMapNoPolygonDataAction").dispatch({hasNoPolygon:!0,noPolygonLocations:{countries:[a[0].key]}},{line:"418",module:"AdsTargetingLocationMapContainer.react.js"}):this.$10(c)&&b("AdsLocationMapNoPolygonDataAction").dispatch({hasNoPolygon:!0,noPolygonLocations:{country_groups:[c[0]]}},{line:"423",module:"AdsTargetingLocationMapContainer.react.js"})}};a.prototype.$10=function(a){return Boolean(a&&a.length==1&&a[0].key&&a[0].polygons&&!a[0].polygons.length)};a.defaultProps={disableScrollWheelZoom:!1,enableDropPin:!0,forceExpandMap:!1,tooManyLocations:!1};a.propTypes={addLocationMode:c.string.isRequired,disableCollapseButton:c.bool,disableScrollWheelZoom:c.bool,enableDropPin:c.bool.isRequired,excludedLocations:c.object.isRequired,fitLocations:c.object.isRequired,forceExpandMap:c.bool,highlightLocations:c.object.isRequired,locations:c.object.isRequired,mapHeight:c.number.isRequired,onlyInclusion:c.bool.isRequired,shouldGetSuggestedRadius:c.bool,tooManyLocations:c.bool,onAddLocationFromMap:c.func.isRequired,onPopupMenuItemSelect:c.func.isRequired};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id+".exports"})}),null);
__d("AdsLocationClearInvalidLocationsNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CLEAR_INVALID_LOCATIONS_NOTICE";e.exports={actionType:a}}),null);
__d("AdsLocationClearMapNoPolygonDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CLEAR_MAP_NO_POLYGON";e.exports={actionType:a}}),null);
__d("AdsLocationClearNoticeStateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CLEAR_NOTICE_STATE";e.exports={actionType:a}}),null);
__d("AdsLocationClearValidLocationsNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CLEAR_VALID_LOCATIONS_NOTICE";e.exports={actionType:a}}),null);
__d("AdsLocationCopyPasteLocationsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="COPY_PASTE_LOCATIONS";e.exports={actionType:a}}),null);
__d("AdsLocationHasDuplicatesDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="HAS_DUPLICATES";e.exports={actionType:a}}),null);
__d("AdsLocationHasNoInclusionDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="HAS_NO_INCLUSION";e.exports={actionType:a}}),null);
__d("AdsLocationHasTooManyCountriesDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="HAS_TOO_MANY_COUNTRIES";e.exports={actionType:a}}),null);
__d("AdsLocationHasTooManyCountriesForMapDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="HAS_TOO_MANY_COUNTRIES_FOR_MAP";e.exports={actionType:a}}),null);
__d("AdsLocationHasTooManyLocationsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="HAS_TOO_MANY_LOCATIONS";e.exports={actionType:a}}),null);
__d("AdsLocationMapDropPinFailDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="MAP_DROP_PIN_FAIL";e.exports={actionType:a}}),null);
__d("AdsLocationMapNoPolygonDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="MAP_NO_POLYGON";e.exports={actionType:a}}),null);
__d("AdsLocationReplaceLocationsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="REPLACE_LOCATIONS";e.exports={actionType:a}}),null);
__d("AdsLocationSetSuggestedLocationNameDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SET_SUGGESTED_LOCATION_NAME";e.exports={actionType:a}}),null);
__d("AdsSavedLocationClearLoadFailedNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.NOTICE.CLEAR_LOAD_FAILED_NOTICE";e.exports={actionType:a}}),null);
__d("AdsSavedLocationClearSavedLocationCreatedNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.NOTICE.CLEAR_SAVED_LOCATION_CREATED_NOTICE";e.exports={actionType:a}}),null);
__d("AdsSavedLocationClearSavedLocationDeleteFailedNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.NOTICE.CLEAR_SAVED_LOCATION_DELETE_FAILED_NOTICE";e.exports={actionType:a}}),null);
__d("AdsSavedLocationClearSavedLocationDeletedNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.NOTICE.CLEAR_SAVED_LOCATION_DELETED_NOTICE";e.exports={actionType:a}}),null);
__d("AdsSavedLocationClearSavedLocationUpdatedNoticeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVED_LOCATION.NOTICE.CLEAR_SAVED_LOCATION_UPDATED_NOTICE";e.exports={actionType:a}}),null);
__d("AdsTargetingLocationNoticeStore",["AdsCFDefaultingCampaignClearDefaultsDataActionFlux","AdsDataAtom","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLocationClearInvalidLocationsNoticeDataActionFlux","AdsLocationClearMapNoPolygonDataActionFlux","AdsLocationClearNoticeStateDataActionFlux","AdsLocationClearValidLocationsNoticeDataActionFlux","AdsLocationCopyPasteLocationsDataActionFlux","AdsLocationHasDuplicatesDataActionFlux","AdsLocationHasNoInclusionDataActionFlux","AdsLocationHasTooManyCountriesDataActionFlux","AdsLocationHasTooManyCountriesForMapDataActionFlux","AdsLocationHasTooManyLocationsDataActionFlux","AdsLocationInvalidExcludeDataActionFlux","AdsLocationMapDropPinFailDataActionFlux","AdsLocationMapNoPolygonDataActionFlux","AdsLocationReplaceLocationsDataActionFlux","AdsLocationSetSuggestedLocationNameDataActionFlux","AdsSavedLocationClearLoadFailedNoticeDataActionFlux","AdsSavedLocationClearSavedLocationCreatedNoticeDataActionFlux","AdsSavedLocationClearSavedLocationDeletedNoticeDataActionFlux","AdsSavedLocationClearSavedLocationDeleteFailedNoticeDataActionFlux","AdsSavedLocationClearSavedLocationUpdatedNoticeDataActionFlux","AdsSavedLocationSavedLocationBatchCreatedDataActionFlux","AdsSavedLocationSavedLocationBatchDeletedDataActionFlux","AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux","AdsSavedLocationSavedLocationBatchLoadErrorDataActionFlux","AdsSavedLocationSavedLocationBatchUpdatedDataActionFlux","AdsSavedLocationSavedLocationListLoadErrorDataActionFlux","AdsTargetingLocationLoggingEvents","FluxStore","ImmutableObject","LocationConstants","TargetingPermutationSpecStore","immutable","TargetingSpecStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LocationConstants").NOTICE_TYPES,i=b("immutable").Set([b("AdsLocationClearNoticeStateDataActionFlux").actionType,b("AdsLocationMapNoPolygonDataActionFlux").actionType,b("AdsLocationClearMapNoPolygonDataActionFlux").actionType]),j=b("immutable").Map((c={},c[h.hasReplacedLocations]=1,c[h.hasValidLocations]=2,c[h.hasNoPolygon]=3,c));d=babelHelpers.inherits(a,b("FluxStore"));g=d&&d.prototype;function a(){g.constructor.call(this,b("AdsDataAtom")),this.$AdsTargetingLocationNoticeStore12=!1,this.$AdsTargetingLocationNoticeStore13()}a.prototype.getHasTooManyLocations=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasTooManyLocations)};a.prototype.getHasTooManyCountriesForMap=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasTooManyCountriesForMap)};a.prototype.getCountryMapThreshold=function(){return this.$AdsTargetingLocationNoticeStore2};a.prototype.getHasDuplicates=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasDuplicates)};a.prototype.getHasTooManyCountries=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasTooManyCountries)};a.prototype.getHasReplacedLocations=function(){return{hasReplacedLocations:this.$AdsTargetingLocationNoticeStore14(h.hasReplacedLocations),oldLocations:new(b("ImmutableObject"))(this.$AdsTargetingLocationNoticeStore5||{}),newLocations:new(b("ImmutableObject"))(this.$AdsTargetingLocationNoticeStore6||{})}};a.prototype.getHasInvalidExclude=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasInvalidExclude)};a.prototype.getIgnoredLocations=function(){return new(b("ImmutableObject"))(this.$AdsTargetingLocationNoticeStore4||{})};a.prototype.getValidLocations=function(){return this.$AdsTargetingLocationNoticeStore7||[]};a.prototype.getInvalidLocationNames=function(){return this.$AdsTargetingLocationNoticeStore8||[]};a.prototype.getHasDropPinFailed=function(){return this.$AdsTargetingLocationNoticeStore3};a.prototype.getHasNoPolygon=function(){return{hasNoPolygon:this.$AdsTargetingLocationNoticeStore14(h.hasNoPolygon),noPolygonLocations:new(b("ImmutableObject"))(this.$AdsTargetingLocationNoticeStore9||{})}};a.prototype.getHasNoInclusion=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasNoInclusion)};a.prototype.getHasSuggestedLocation=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasSuggestedLocation)};a.prototype.getSuggestedLocationName=function(){return this.$AdsTargetingLocationNoticeStore11};a.prototype.getIsSavedLocationCreated=function(){return this.$AdsTargetingLocationNoticeStore14(h.isSavedLocationCreated)};a.prototype.getIsSavedLocationDeleted=function(){return this.$AdsTargetingLocationNoticeStore14(h.isSavedLocationDeleted)};a.prototype.getIsSavedLocationUpdated=function(){return this.$AdsTargetingLocationNoticeStore14(h.isSavedLocationUpdated)};a.prototype.getIsSavedLocationDeletedFailed=function(){return this.$AdsTargetingLocationNoticeStore14(h.isSavedLocationDeletedFailed)};a.prototype.getHasSavedLocationLoadFailed=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasSavedLocationLoadFailed)};a.prototype.getHasValidLocations=function(){return this.$AdsTargetingLocationNoticeStore14(h.hasValidLocations)};a.prototype.__onDispatch=function(a){__p&&__p();b("AdsDataAtom").waitFor([b("TargetingPermutationSpecStore").getDispatchToken()]);if(b("TargetingPermutationSpecStore").isActive()){this.$AdsTargetingLocationNoticeStore12||(this.$AdsTargetingLocationNoticeStore13(),this.$AdsTargetingLocationNoticeStore12=!0);return}this.$AdsTargetingLocationNoticeStore12=!1;var c=b("TargetingSpecStore");b("AdsDataAtom").waitFor([c.getDispatchToken()]);c=a.action;a=!0;switch(c.actionType){case b("AdsLocationClearNoticeStateDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore13();break;case b("AdsLocationHasTooManyLocationsDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasTooManyLocations,c.hasTooManyLocations);break;case b("AdsLocationHasTooManyCountriesForMapDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasTooManyCountriesForMap,c.hasTooManyCountriesForMap);this.$AdsTargetingLocationNoticeStore2=c.countryMapThreshold;break;case b("AdsLocationHasDuplicatesDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasDuplicates,c.hasDuplicates);break;case b("AdsLocationHasTooManyCountriesDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasTooManyCountries,c.hasTooManyCountries);this.$AdsTargetingLocationNoticeStore4=c.ignoredLocations;break;case b("AdsLocationReplaceLocationsDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasReplacedLocations,c.hasReplacedLocations);this.$AdsTargetingLocationNoticeStore5=c.oldLocations;this.$AdsTargetingLocationNoticeStore6=c.newLocations;break;case b("AdsLocationInvalidExcludeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasInvalidExclude,c.hasInvalidExclude);this.$AdsTargetingLocationNoticeStore4=c.ignoredLocations;break;case b("AdsLocationCopyPasteLocationsDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore7=c.validLocations;c.validLocations&&c.validLocations.length>0&&this.$AdsTargetingLocationNoticeStore16(h.hasValidLocations);this.$AdsTargetingLocationNoticeStore8=c.invalidLocationNames;break;case b("AdsLocationClearValidLocationsNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore7=null;this.$AdsTargetingLocationNoticeStore17(h.hasValidLocations);break;case b("AdsLocationClearInvalidLocationsNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore8=null;break;case b("AdsLocationMapDropPinFailDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore3=c.hasDropPinFailed;break;case b("AdsLocationMapNoPolygonDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore18(c.noPolygonLocations)||(this.$AdsTargetingLocationNoticeStore15(h.hasNoPolygon,c.hasNoPolygon),this.$AdsTargetingLocationNoticeStore9=c.noPolygonLocations);break;case b("AdsLocationClearMapNoPolygonDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore19();break;case b("AdsLocationHasNoInclusionDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore15(h.hasNoInclusion,c.hasNoInclusion);break;case b("AdsLocationSetSuggestedLocationNameDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore11=c.suggestedLocationName;this.$AdsTargetingLocationNoticeStore15(h.hasSuggestedLocation,c.hasSuggestedLocation);break;case b("AdsSavedLocationSavedLocationBatchCreatedDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore16(h.isSavedLocationCreated);break;case b("AdsSavedLocationClearSavedLocationCreatedNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore17(h.isSavedLocationCreated);break;case b("AdsSavedLocationSavedLocationBatchDeletedDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore16(h.isSavedLocationDeleted);break;case b("AdsSavedLocationClearSavedLocationDeletedNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore17(h.isSavedLocationDeleted);break;case b("AdsSavedLocationSavedLocationBatchUpdatedDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore16(h.isSavedLocationUpdated);break;case b("AdsSavedLocationClearSavedLocationUpdatedNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore17(h.isSavedLocationUpdated);case b("AdsCFDefaultingCampaignClearDefaultsDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore17(h.hasReplacedLocations);break;case b("AdsSavedLocationSavedLocationBatchDeleteErrorDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore16(h.isSavedLocationDeletedFailed);break;case b("AdsSavedLocationClearSavedLocationDeleteFailedNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore17(h.isSavedLocationDeletedFailed);break;case b("AdsSavedLocationClearLoadFailedNoticeDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore17(h.hasSavedLocationLoadFailed);break;case b("AdsSavedLocationSavedLocationBatchLoadErrorDataActionFlux").actionType:case b("AdsSavedLocationSavedLocationListLoadErrorDataActionFlux").actionType:this.$AdsTargetingLocationNoticeStore16(h.hasSavedLocationLoadFailed);break;default:a=!1}if(a){if(!i.contains(c.type)){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_NOTICE_SHOWN,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").ACTION_TYPE]=c.type,a)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}this.__emitChange()}};a.prototype.$AdsTargetingLocationNoticeStore18=function(a){return!a?!1:this.$AdsTargetingLocationNoticeStore10.has(b("immutable").fromJS(a))};a.prototype.$AdsTargetingLocationNoticeStore19=function(){if(!this.$AdsTargetingLocationNoticeStore9)return;this.$AdsTargetingLocationNoticeStore10=this.$AdsTargetingLocationNoticeStore10.add(b("immutable").fromJS(this.$AdsTargetingLocationNoticeStore9));this.$AdsTargetingLocationNoticeStore9=null;this.$AdsTargetingLocationNoticeStore17(h.hasNoPolygon)};a.prototype.$AdsTargetingLocationNoticeStore13=function(){this.$AdsTargetingLocationNoticeStore2=0,this.$AdsTargetingLocationNoticeStore3=!1,this.$AdsTargetingLocationNoticeStore4=null,this.$AdsTargetingLocationNoticeStore5=null,this.$AdsTargetingLocationNoticeStore6=null,this.$AdsTargetingLocationNoticeStore7=null,this.$AdsTargetingLocationNoticeStore8=null,this.$AdsTargetingLocationNoticeStore9=null,this.$AdsTargetingLocationNoticeStore10=b("immutable").Set(),this.$AdsTargetingLocationNoticeStore11="",this.$AdsTargetingLocationNoticeStore1=b("immutable").Set()};a.prototype.$AdsTargetingLocationNoticeStore16=function(a){a=this.$AdsTargetingLocationNoticeStore1.add(a).groupBy(function(a){return j.has(a)});var c=b("immutable").Set(a.get(!0));c=c.sortBy(function(a){return j.get(a)}).first();a=b("immutable").Set(a.get(!1));this.$AdsTargetingLocationNoticeStore1=c?a.add(c):a};a.prototype.$AdsTargetingLocationNoticeStore17=function(a){this.$AdsTargetingLocationNoticeStore1=this.$AdsTargetingLocationNoticeStore1.remove(a)};a.prototype.$AdsTargetingLocationNoticeStore14=function(a){return this.$AdsTargetingLocationNoticeStore1.has(a)};a.prototype.$AdsTargetingLocationNoticeStore15=function(a,b){b?this.$AdsTargetingLocationNoticeStore16(a):this.$AdsTargetingLocationNoticeStore17(a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsTargetingLocationNoticeTypesEnum",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({SUCCESS:null,WARN:null,NOTIFY:null})}),null);
__d("AdsTargetingLocationPasteFailedSummaryDialog",["cx","fbt","BUIAdoptionDialogButton.react","Link.react","List.react","LocationConstants","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={showDialog:!1},this.$3=function(){var a=[];this.props.failedLocations.forEach(function(c){return a.push(b("React").createElement("li",{key:c},c))});return b("React").createElement("div",{className:"phl"},b("React").createElement(b("List.react"),{border:"none",spacing:"small",style:{listStyleType:"disc"}},a))}.bind(this),this.$1=function(){__p&&__p();var a="";switch(this.props.locationType){case b("LocationConstants").COUNTRY:a=h._("Countries");break;case b("LocationConstants").REGION:a=h._("States\/Regions");break;case b("LocationConstants").CITY:a=h._("Cities");break;case b("LocationConstants").ZIP:a=h._("Zip\/Postal Codes");break}return a?h._("({locationTypeName})",[h._param("locationTypeName",a)]):""}.bind(this),this.show=function(){this.setState({showDialog:!0})}.bind(this),this.$2=function(){this.setState({showDialog:!1})}.bind(this),c}a.prototype.render=function(){if(!this.state.showDialog)return null;var a=b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/help/782267941863427?_rdr",style:{fontSize:"12px"},target:"_black"},h._("Learn More"));return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("SUIModalFooter.react"),{leftContent:a,primaryButton:b("React").createElement(b("BUIAdoptionDialogButton.react"),{label:h._("Okay"),layerAction:"cancel",use:"confirm"}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Discarded Locations {locationTypeName}",[h._param("locationTypeName",this.$1())])}),isShown:this.state.showDialog,key:"dialog",theme:b("SUIBusinessTheme"),width:400,onHide:this.$2},this.$3())};a.propTypes={failedLocations:c.array.isRequired,locationType:c.string};e.exports=a}),null);
__d("AdsTargetingLocationsNameList",["fbt","AdsCommonTargetingProxyCity","AdsCommonTargetingProxyCountry","AdsCommonTargetingProxyCountryGroup","AdsCommonTargetingProxyCustomLocation","AdsCommonTargetingProxyCustomMultiCityLocation","AdsCommonTargetingProxyElectoralDistrict","AdsCommonTargetingProxyGeoEntity.react","AdsCommonTargetingProxyGeoMarket","AdsCommonTargetingProxyLocationCluster.react","AdsCommonTargetingProxyPlace","AdsCommonTargetingProxyPoliticalDistrict","AdsCommonTargetingProxyRegion","AdsCommonTargetingProxyZip","AdsDaoGraph","LocationConstants","React","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=[];this.props.locations.country_groups&&this.props.locations.country_groups.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyCountryGroup"),{countryGroup:c.key,dao:this.props.dao,metaInfo:c}))}.bind(this));this.props.locations.countries&&this.props.locations.countries.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyCountry"),{country:c,dao:this.props.dao,key:c}))}.bind(this));this.props.locations.regions&&this.props.locations.regions.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyRegion"),{dao:this.props.dao,hideParent:!0,key:c.key,metaInfo:c,regionKey:c.key}))}.bind(this));this.props.locations.cities&&this.props.locations.cities.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyCity"),{cityKey:c.key,dao:this.props.dao,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.custom_locations&&this.props.locations.custom_locations.forEach(function(c){c.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY?a.push(b("React").createElement(b("AdsCommonTargetingProxyCustomMultiCityLocation"),{dao:this.props.dao,hideParent:!0,key:c.key,locationKey:c.key,metaInfo:c})):a.push(b("React").createElement(b("AdsCommonTargetingProxyCustomLocation"),{dao:this.props.dao,hideParent:!0,key:c.key,locationKey:c.key,metaInfo:c}))}.bind(this));this.props.locations.geo_markets&&this.props.locations.geo_markets.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoMarket"),{dao:this.props.dao,hideParent:!0,key:c.key,marketKey:c.key,metaInfo:c}))}.bind(this));this.props.locations.electoral_districts&&this.props.locations.electoral_districts.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyElectoralDistrict"),{dao:this.props.dao,electoralDistrictKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.political_districts&&this.props.locations.political_districts.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyPoliticalDistrict"),{dao:this.props.dao,hideParent:!0,key:c.key,metaInfo:c,politicalDistrictKey:c.key}))}.bind(this));this.props.locations.location_cluster_ids&&this.props.locations.location_cluster_ids.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyLocationCluster.react"),{key:c.key,locationKey:c.key,metaInfo:c}))});this.props.locations.large_geo_areas&&this.props.locations.large_geo_areas.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.medium_geo_areas&&this.props.locations.medium_geo_areas.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.small_geo_areas&&this.props.locations.small_geo_areas.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.metro_areas&&this.props.locations.metro_areas.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.subcities&&this.props.locations.subcities.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.neighborhoods&&this.props.locations.neighborhoods.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.subneighborhoods&&this.props.locations.subneighborhoods.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:c.key,hideParent:!0,key:c.key,metaInfo:c}))}.bind(this));this.props.locations.zips&&this.props.locations.zips.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyZip"),{dao:this.props.dao,hideParent:!0,key:c.key,metaInfo:c,zipKey:c.key}))}.bind(this));this.props.locations.places&&this.props.locations.places.forEach(function(c){a.push(b("React").createElement(b("AdsCommonTargetingProxyPlace"),{dao:this.props.dao,hideParent:!0,key:c.key,metaInfo:c,placeKey:c.key}))}.bind(this));if(this.props.displayLimit){var c=a.length-this.props.displayLimit;c>0&&(a.length=this.props.displayLimit,a.push(g._({"*":"{remaining items in the list} more"},[g._param("remaining items in the list",c,[0])])))}return b("React").createElement("span",null,b("intlList")(a))};function a(){h.apply(this,arguments)}a.propTypes={dao:c.object,displayLimit:c.number,locations:c.object.isRequired};a.defaultProps={dao:b("AdsDaoGraph")};e.exports=a}),null);
__d("AdsTargetingLocationNotice",["cx","fbt","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLocationActions","AdsLocationDataFields","AdsSavedLocationActions","AdsTargetingLocationLoggingEvents","AdsTargetingLocationNoticeStore","AdsTargetingLocationNoticeTypesEnum","AdsTargetingLocationPasteFailedSummaryDialog","AdsTargetingLocationsNameList","BUIAdoptionUtils","Link.react","LocationConstants","React","SUIBusinessTheme","SUINotice.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("LocationConstants").NOTICE_TYPES;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$6=function(){this.refs.dialog&&this.refs.dialog.show()}.bind(this),b}a.prototype.componentDidUpdate=function(a){var c=this.$1(this.props);a=this.$1(a);if(c.length>1&&JSON.stringify(a)!==JSON.stringify(c)){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_NOTICE_SHOWN_MULTIPLE,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").TARGETING_UI_EVENT_DATA]=JSON.stringify(c),a)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}};a.prototype.render=function(){__p&&__p();var a=[],c={};c[b("AdsTargetingLocationNoticeTypesEnum").SUCCESS]=[];c[b("AdsTargetingLocationNoticeTypesEnum").WARN]=[];c[b("AdsTargetingLocationNoticeTypesEnum").NOTIFY]=[];var d=0;Object.keys(j).forEach(function(a){if(this.props[a]){var b=this.$2(a);c[b].push(this.$3(a,b));d++}}.bind(this));d>0&&Object.keys(c).forEach(function(b){a.push(c[b])});return b("React").createElement("div",null,a)};a.prototype.$1=function(a){return Object.keys(j).reduce(function(b,c){return b.concat(a[c]?[c]:[])},[])};a.prototype.$3=function(a,c){var d=this.$4(a);return b("React").createElement("div",{className:"_jyt",key:a},b("React").createElement(b("SUINotice.react"),{hasRoundedCorners:!1,theme:b("SUIBusinessTheme"),type:b("BUIAdoptionUtils").convertUseToType(c.toLowerCase()),onClose:d},this.$5(a)))};a.prototype.$5=function(a){__p&&__p();switch(a){case j.hasDropPinFailed:return h._("This location is not available for targeting.");case j.hasNoInclusion:return h._("You have to include at least one location before you can exclude locations.");case j.hasNoPolygon:return h._("We are unable to highlight the border of {no polygon locations} on the map, but it has been successfully added.",[h._param("no polygon locations",b("React").createElement(b("AdsTargetingLocationsNameList"),{displayLimit:this.props.locationDisplayLimit,locations:this.props.noPolygonLocations}))]);case j.hasTooManyLocations:return h._("We can only show {map rendering locations limit} locations on the map.",[h._param("map rendering locations limit",b("AdsLocationDataFields").map_render_locations_limit)]);case j.hasTooManyCountriesForMap:return h._("We can only show {map rendering locations limit} countries on the map.",[h._param("map rendering locations limit",b("AdsTargetingLocationNoticeStore").getCountryMapThreshold())]);case j.hasTooManyCountries:if(this.props.ignoredLocations&&this.props.ignoredLocations.countries.length>1)return h._("You can target your ad to a maximum of {maximum number of countries} countries at a time. The following audience locations were not added: {ignored location}",[h._param("maximum number of countries",b("LocationConstants").MAX_COUNTRIES),h._param("ignored location",b("React").createElement(b("AdsTargetingLocationsNameList"),{displayLimit:this.props.locationDisplayLimit,locations:this.props.ignoredLocations}))]);else return h._("You can target your ad to a maximum of {maximum number of countries} countries at a time. The following audience location was not added: {ignored location}",[h._param("maximum number of countries",b("LocationConstants").MAX_COUNTRIES),h._param("ignored location",b("React").createElement(b("AdsTargetingLocationsNameList"),{displayLimit:this.props.locationDisplayLimit,locations:this.props.ignoredLocations}))]);case j.hasReplacedLocations:return b("React").createElement("span",null,h._("Your audience location has been changed from {current locations} to {new locations}.",[h._param("current locations",b("React").createElement(b("AdsTargetingLocationsNameList"),{displayLimit:this.props.locationDisplayLimit,locations:this.props.oldLocations})),h._param("new locations",b("React").createElement(b("AdsTargetingLocationsNameList"),{displayLimit:this.props.locationDisplayLimit,locations:this.props.newLocations}))]),b("React").createElement(b("Link.react"),{className:"mls",onClick:this.props.onUndo},h._("Undo Change")));case j.hasInvalidExclude:return h._("Your audience location is set to {ignored locations} , so everything outside of this location is automatically excluded.",[h._param("ignored locations",b("React").createElement(b("AdsTargetingLocationsNameList"),{displayLimit:this.props.locationDisplayLimit,locations:this.props.ignoredLocations}))]);case j.hasValidLocations:a=this.props.validLocations.length;return h._({"*":{"location has":"{number of valid locations} location has been added.","locations have":"{number of valid locations} locations have been added."}},[h._param("number of valid locations",a,[0]),h._enum(a===1?"location has":"locations have",{"location has":"location has","locations have":"locations have"})]);case j.hasInvalidLocationNames:a=this.props.invalidLocationNames.length;return b("React").createElement("span",null,h._({"*":"We were unable to match {number of incalid locations} of your locations."},[h._param("number of incalid locations",a,[0])]),b("React").createElement(b("Link.react"),{className:"mls",onClick:this.$6},h._("View list")),b("React").createElement(b("AdsTargetingLocationPasteFailedSummaryDialog"),{failedLocations:this.props.invalidLocationNames,ref:"dialog"}));case j.hasDuplicates:return h._("We removed one or more duplicate locations from your criteria. If a location was listed for both Include and Exclude, we will use it in Include only.");case j.hasSuggestedLocation:var c;this.props.suggestedLocation&&this.props.suggestedLocation.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY?(a=h._("Try adding {the suggested place} (All Cities) to target all cities in that location. We'll then find the best performing cities for you automatically.",[h._param("the suggested place",this.props.suggestedLocationName)]),c=h._("Add {the suggested place} (All Cities)",[h._param("the suggested place",this.props.suggestedLocationName)])):(a=h._("Try adding {the suggested place} to target all countries in that region. We'll then find the best performing countries for you automatically.",[h._param("the suggested place",this.props.suggestedLocationName)]),c=h._("Add {the suggested place}",[h._param("the suggested place",this.props.suggestedLocationName)]));return b("React").createElement("span",null,a,b("React").createElement(b("Link.react"),{className:"mls",onClick:this.props.onSuggestedLocationClick},c));case j.isSavedLocationCreated:return h._("Your list has been saved.");case j.isSavedLocationDeleted:return h._("Your list has been deleted.");case j.isSavedLocationUpdated:return h._("Your list has been updated.");case j.isSavedLocationDeletedFailed:return h._("There was a problem deleting your list. Please try again.");case j.hasSavedLocationLoadFailed:return h._("There was a problem loading your saved locations. Please try again.");default:return""}};a.prototype.$4=function(a){__p&&__p();switch(a){case j.hasDropPinFailed:return b("AdsLocationActions").clearHasDropPinFailed;case j.hasNoInclusion:return b("AdsLocationActions").clearHasNoInclusion;case j.hasNoPolygon:return b("AdsLocationActions").clearHasNoPolygon;case j.hasTooManyLocations:return b("AdsLocationActions").clearHasTooManyLocations;case j.hasTooManyCountries:return b("AdsLocationActions").clearHasTooManyCountries;case j.hasTooManyCountriesForMap:return b("AdsLocationActions").clearHasTooManyCountriesForMap;case j.hasReplacedLocations:return b("AdsLocationActions").clearReplacedLocations;case j.hasInvalidExclude:return b("AdsLocationActions").clearInvalidExclude;case j.hasValidLocations:return b("AdsLocationActions").clearValidCopyPasteLocations;case j.hasInvalidLocationNames:return b("AdsLocationActions").clearInvalidCopyPasteLocations;case j.hasDuplicates:return b("AdsLocationActions").clearHasDuplicates;case j.hasSuggestedLocation:return b("AdsLocationActions").clearHasSuggestedLocation;case j.isSavedLocationCreated:return b("AdsSavedLocationActions").clearSavedLocationCreatedNotice;case j.isSavedLocationDeleted:return b("AdsSavedLocationActions").clearSavedLocationDeletedNotice;case j.isSavedLocationUpdated:return b("AdsSavedLocationActions").clearSavedLocationUpdatedNotice;case j.isSavedLocationDeletedFailed:return b("AdsSavedLocationActions").clearSavedLocationsDeleteFailedNotice;case j.hasSavedLocationLoadFailed:return b("AdsSavedLocationActions").clearSavedLocationLoadFailedNotice;default:return b("emptyFunction")}};a.prototype.$2=function(a){switch(a){case j.hasValidLocations:case j.isSavedLocationCreated:case j.isSavedLocationDeleted:case j.isSavedLocationUpdated:return b("AdsTargetingLocationNoticeTypesEnum").SUCCESS;case j.hasInvalidExclude:case j.isSavedLocationDeletedFailed:return b("AdsTargetingLocationNoticeTypesEnum").WARN;default:return b("AdsTargetingLocationNoticeTypesEnum").NOTIFY}};a.defaultProps={hasCopyPasted:!1,hasDropPinFailed:!1,hasDuplicates:!1,hasNoInclusion:!1,hasNoPolygon:!1,hasInvalidExclude:!1,hasReplacedLocations:!1,hasSuggestedLocation:!1,hasTooManyLocations:!1,hasTooManyCountriesForMap:!1,hasTooManyCountries:!1,hasValidLocations:!1,hasInvalidLocationNames:!1,ignoredLocations:{},isSavedLocationCreated:!1,isSavedLocationDeleted:!1,isSavedLocationUpdated:!1,isSavedLocationDeletedFailed:!1,hasSavedLocationLoadFailed:!1,oldLocations:{},newLocations:{},validLocations:[],invalidLocationNames:[],noPolygonLocations:{},locationDisplayLimit:null,suggestedLocationName:"",onSuggestedLocationClick:b("emptyFunction"),onUndo:b("emptyFunction")};e.exports=a}),null);
__d("AdsTargetingLocationNoticeContainer",["AdsTargetingLocationNotice","AdsTargetingLocationNoticeStore","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=5;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("AdsTargetingLocationNoticeStore")]};a.calculateState=function(){var a=b("AdsTargetingLocationNoticeStore").getHasReplacedLocations(),c=b("AdsTargetingLocationNoticeStore").getHasNoPolygon(),d=b("AdsTargetingLocationNoticeStore").getValidLocations(),e=b("AdsTargetingLocationNoticeStore").getInvalidLocationNames(),f=b("AdsTargetingLocationNoticeStore").getSuggestedLocationName();return babelHelpers["extends"]({isSavedLocationCreated:b("AdsTargetingLocationNoticeStore").getIsSavedLocationCreated(),isSavedLocationDeleted:b("AdsTargetingLocationNoticeStore").getIsSavedLocationDeleted(),isSavedLocationUpdated:b("AdsTargetingLocationNoticeStore").getIsSavedLocationUpdated(),isSavedLocationDeletedFailed:b("AdsTargetingLocationNoticeStore").getIsSavedLocationDeletedFailed(),hasSavedLocationLoadFailed:b("AdsTargetingLocationNoticeStore").getHasSavedLocationLoadFailed(),ignoredLocations:b("AdsTargetingLocationNoticeStore").getIgnoredLocations(),hasDropPinFailed:b("AdsTargetingLocationNoticeStore").getHasDropPinFailed(),hasInvalidExclude:b("AdsTargetingLocationNoticeStore").getHasInvalidExclude(),hasNoInclusion:b("AdsTargetingLocationNoticeStore").getHasNoInclusion(),hasTooManyLocations:b("AdsTargetingLocationNoticeStore").getHasTooManyLocations(),hasTooManyCountriesForMap:b("AdsTargetingLocationNoticeStore").getHasTooManyCountriesForMap(),hasDuplicates:b("AdsTargetingLocationNoticeStore").getHasDuplicates(),hasTooManyCountries:b("AdsTargetingLocationNoticeStore").getHasTooManyCountries(),hasValidLocations:b("AdsTargetingLocationNoticeStore").getHasValidLocations(),hasInvalidLocationNames:!!e.length,hasSuggestedLocation:b("AdsTargetingLocationNoticeStore").getHasSuggestedLocation(),suggestedLocationName:f,validLocations:d,invalidLocationNames:e,locationDisplayLimit:h},a,c)};a.prototype.render=function(){return b("React").createElement(b("AdsTargetingLocationNotice"),babelHelpers["extends"]({},this.state,this.props))};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("AdsTargetingLocationPageSuggestion.react",["cx","fbt","AdsTargetingLocationUtils","Image.react","Layout.react","React","SUIBusinessTheme","SUIButton.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=function(a){var c=a.page.location.street;!c&&a.page.location.latitude!==null&&(c=b("AdsTargetingLocationUtils").getKeyFromCoordinates(a.page.location.latitude,a.page.location.longitude));return b("React").createElement(b("Layout.react"),{className:"_3vf1"},b("React").createElement(i,null,b("React").createElement(b("Image.react"),{className:"_3vf2",src:a.page.picture.data.url})),b("React").createElement(j,{className:"_3vf3"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{shade:"dark",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Reach people near your business"))),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},c))),b("React").createElement(i,{className:"_3vf5"},b("React").createElement(b("SUIButton.react"),{label:h._("Add location"),theme:b("SUIBusinessTheme"),onClick:a.onClick})))};e.exports=a}),null);
__d("AdsTargetingLocationPopulationEditor",["cx","fbt","AdsCommonTargetingRDManager","AdsInterfacesLogger","AdsRichSelector.react","AdsTargetingLocationCityPopulationDialog","AdsTargetingLocationLoggingEvents","FDSSimplePopover.react","Link.react","LocationConstants","React","SUIBusinessTheme","SUISelector.react","SUISelectorOption.react","SUIText.react","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsRichSelector.react").Option,k=b("LocationConstants").MultiCityPopulationInfo.MENU_ITEMS,l=b("LocationConstants").MultiCityPopulationInfo,m=5;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){__p&&__p();i.constructor.call(this,a);this.onChangeMinPopulation=function(a){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CHANGE_CITY_POPULATION_FILTER},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.setState({minPopulation:a}),this.props.onPopulationChange(a,this.state.maxPopulation)}.bind(this);this.onChangeMaxPopulation=function(a){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CHANGE_CITY_POPULATION_FILTER},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.setState({maxPopulation:a}),this.props.onPopulationChange(this.state.minPopulation,a)}.bind(this);this.$7=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MULTICITY_CITY_LIST_CLICKED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.setState({showPopulationDialog:!0})}.bind(this);this.$5=function(){this.setState({showPopulationDialog:!1})}.bind(this);this.$2=function(){__p&&__p();var a=this,b=[],c={};for(var d=1;d<this.populationRanges.length;d++){var e={min:this.populationRanges[d-1],max:this.populationRanges[d]};b.push(e);c[e.min]=!1}if(!this.state.metaInfo)return;this.state.metaInfo.forEach(function(a){for(var d=0;d<b.length;d++){var e=b[d];if(a.population>=e.min&&a.population<=e.max){c[e.min]=!0;break}}});this.populationRanges.forEach(function(a){return this.validRanges[a]=[]}.bind(this));e=function(d){var e=a.populationRanges[d],f=function(d){var f=a.populationRanges[d];d=b.filter(function(a){return a.min>=e&&a.max<=f&&c[a.min]}).length>0;d&&(a.validRanges[e].push(f),a.validRanges[f].push(e))};for(var d=d+1;d<a.populationRanges.length;++d)f(d)};for(var d=0;d<this.populationRanges.length;++d)e(d)}.bind(this);this.populationRanges=this.props.location.country?l.getPopulationRangesForCountry():l.getPopulationRangesForCountryGroup();a=this.props.location.min_population?this.props.location.min_population:this.populationRanges[0];var c=this.props.location.max_population?this.props.location.max_population:l.getMaxPopulation();this.validRanges={};this.state={minPopulation:a,maxPopulation:c,showPopulationDialog:!1}}a.prototype.componentDidMount=function(){this.getRenderingData(function(a){a=(a.custom_locations||{})[this.$1()];this.setState({metaInfo:a.cities.sort(function(a,b){return b.population-a.population})},this.$2)}.bind(this))};a.prototype.render=function(){var a=[b("React").createElement(j,{clickable:!1,key:k.POPULATION_INPUT,label:h._("Population Filter"),value:k.POPULATION_INPUT},this.$3())];if(this.state.metaInfo&&this.state.metaInfo.length){var c=this.state.metaInfo.filter(function(a){return a.population<=this.state.maxPopulation&&a.population>=this.state.minPopulation}.bind(this)).length;c=b("React").createElement("span",{className:"_2pt8"},h._({"*":"{number of cities} Cities"},[h._param("number of cities",c,[0,c])]))}else c=b("React").createElement("span",{className:"_2pt8"},h._("Cities"));return b("React").createElement(b("AdsRichSelector.react"),{alignment:"left",defaultLabel:c,defaultValue:h._("Cities"),disabled:!1,suppressed:!0,useMenuDividers:!1},a)};a.prototype.$3=function(){__p&&__p();var a=this.state.minPopulation,c=this.state.maxPopulation,d=this.populationRanges.slice(),e=this.populationRanges.slice();d.pop();e.shift();d.indexOf(a)===-1&&d.push(a);e.indexOf(c)===-1&&e.push(c);var f=this.state.minPopulation,g=this.state.maxPopulation;d=d.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{disabled:a>=g||this.validRanges[g]&&this.validRanges[g].indexOf(a)<0,key:a,theme:b("SUIBusinessTheme"),value:a},l.getFormattedPopulation(a))}.bind(this));e=e.map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{disabled:a<=f||this.validRanges[f]&&this.validRanges[f].indexOf(a)<0,key:a,theme:b("SUIBusinessTheme"),value:a},l.getFormattedPopulation(a))}.bind(this));var h=this.$4();return b("React").createElement("div",null,b("React").createElement(b("AdsTargetingLocationCityPopulationDialog"),{citiesData:this.state.metaInfo,displayState:this.state.showPopulationDialog,location:this.props.location,maxPopulation:this.state.maxPopulation,minPopulation:this.state.minPopulation,onHide:this.$5}),h,b("React").createElement("div",{className:"_38bu"},b("React").createElement(b("SUISelector.react"),{className_DEPRECATED:"_38bv",disabled:d.length<=1,maxHeight:300,ref:"populationMin",theme:b("SUIBusinessTheme"),value:a,onChange:this.onChangeMinPopulation},d)," - ",b("React").createElement(b("SUISelector.react"),{className_DEPRECATED:"_38bv",disabled:e.length<=1,maxHeight:300,ref:"populationMax",theme:b("SUIBusinessTheme"),value:c,onChange:this.onChangeMaxPopulation},e)),b("React").createElement("div",{className:"_2ikf"},this.renderCityDataSection()))};a.prototype.getRenderingData=function(a){b("AdsCommonTargetingRDManager").getInstance(this.props.dao).getters().geoLocationMetaInfo.get(a,{custom_locations:[this.$1()]})};a.prototype.$6=function(){return b("React").createElement(b("FDSSimplePopover.react"),{content:b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._("Population sizes are based on third-party data."))),contentWidthUseSparingly:268,position:"right"})};a.prototype.$4=function(){var a=h._("Include cities with the following population"),c=h._("Exclude cities with the following population");return b("React").createElement("div",{className:"_38bt"},this.props.location.included?a:c,this.$6())};a.prototype.renderCityDataSection=function(){__p&&__p();if(!this.state.metaInfo)return null;if(this.props.location.country_group){var a=l.getPopulationRangesForCountryGroup()[0],c=b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._("For global regions, you can only target cities with a population of {population lower bound} and above. {complete city list}",[h._param("population lower bound",l.getFormattedPopulation(a)),h._param("complete city list",b("React").createElement(b("Link.react"),{ref:"label",onClick:this.$7},"See all."))]));a=b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._("For global regions, you can only exclude cities with a population of {population lower bound} and above. {complete city list}",[h._param("population lower bound",l.getFormattedPopulation(a)),h._param("complete city list",b("React").createElement(b("Link.react"),{ref:"label",onClick:this.$7},"See all."))]));return this.props.location.included?c:a}c=this.state.metaInfo.filter(function(a){return a.population<=this.state.maxPopulation&&a.population>=this.state.minPopulation}.bind(this));c.length===0&&b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MULTICITY_NO_CITY_TO_DISPLAY_ERROR},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);a=c.slice(0,m).map(function(a){return a.name});if(c&&c.length>m){c=c.length-m;return b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._({"*":"{most populated cities} and {cities count} more. {complete city list}"},[h._param("most populated cities",b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)),h._param("cities count",c,[0,c]),h._param("complete city list",b("React").createElement(b("Link.react"),{ref:"label",onClick:this.$7},"See all."))]))}return b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},h._("{most populated cities}. {complete city list}",[h._param("most populated cities",b("intlList")(a,b("intlList").CONJUNCTIONS.AND)),h._param("complete city list",b("React").createElement(b("Link.react"),{ref:"label",onClick:this.$7},"See all."))]))};a.prototype.$1=function(){var a=this.props.location.country;if(a)return a;a=this.props.location.country_group;return a||""};e.exports=a}),null);
__d("RangeAndTextInput.react",["cx","AdsAbstractSlider.react","Event","Keys","React","XUITextInput.react","dotAccess","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=1,j=0,k=2;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(a,c){__p&&__p();h.constructor.call(this,a,c);this.$3=function(a){a=this.$1(a[0],j);this.setState({value:a,textValue:String(a)});this.props.onFocus&&this.props.onFocus()}.bind(this);this.$4=function(a){this.props.onChange(this.$1(a[0],j))}.bind(this);this.$2=function(a){a=this.$1(a[0],j);this.props.onChange(a);this.setState({value:a,textValue:String(a)})}.bind(this);this.$6=function(){if(this.props.changeOnBlur)this.$8();else{var a=this.$1(this.props.value,k);this.setState({value:a,textValue:String(a)})}}.bind(this);this.$7=function(event){b("Event").getKeyCode(event)===b("Keys").RETURN&&this.$8()}.bind(this);this.$5=function(event){var a=b("dotAccess")(event,"currentTarget.value");this.setState({textValue:a})}.bind(this);this.$1=function(a,b){a=Number(a.toFixed(b));return Math.min(Math.max(a,this.props.min),this.props.max)}.bind(this);c=this.$1(a.value,k);this.state={value:c,textValue:String(c)}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=this.$1(a.value,k);this.setState({value:a,textValue:String(a)})};a.prototype.render=function(){var a=b("joinClasses")("_1k7_",this.props.className);return b("React").createElement("div",{className:a},b("React").createElement("span",{className:"_1k80"},this.props.minLabel||this.props.min),b("React").createElement(b("AdsAbstractSlider.react"),{className:"_2c1y",colorPattern:"single",minValue:this.props.min,maxValue:this.props.max,step:i,values:[this.state.value],shouldHandleClick:this.props.shouldHandleClick,showLegend:!1,showPipLines:!1,showPipLabels:!1,onClick:this.$2,onDrag:this.$3,onDrop:this.$4}),b("React").createElement("span",{className:"_1k80"},this.props.maxLabel||this.props.max),b("React").createElement(b("XUITextInput.react"),{className:"_1k81",onChange:this.$5,onBlur:this.$6,onFocus:this.props.onFocus,value:this.state.textValue,onKeyUp:this.$7}),this.props.textInputLabel)};a.prototype.$8=function(){var a=Number(this.state.textValue);a=isNaN(a)?this.props.value:this.$1(a,k);this.setState({value:a,textValue:String(a)},function(){return this.props.onChange(a)}.bind(this))};a.propTypes={max:c.number.isRequired,maxLabel:c.string,min:c.number.isRequired,minLabel:c.string,onChange:c.func.isRequired,onFocus:c.func,textInputLabel:c.node,value:c.number.isRequired,changeOnBlur:c.bool,shouldHandleClick:c.bool};e.exports=a}),null);
__d("AdsTargetingLocationRadiusEditor",["cx","fbt","AdsInterfacesLogger","AdsRichSelector.react","AdsTargetingLocationLoggingEvents","FDSSimplePopover.react","LocationConstants","RangeAndTextInput.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsRichSelector.react").Option,k=b("AdsRichSelector.react").Separator,l=b("LocationConstants").RadiusInfo.MENU_ITEMS,m=b("LocationConstants").RadiusInfo,n=245,o=140;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.UNSAFE_componentWillMount=function(){this.props.distanceUnit&&m.setLocalizedUnit(this.props.distanceUnit)};a.prototype.render=function(){return b("React").createElement(b("AdsRichSelector.react"),{alignment:this.props.alignment||"left",className:"_54g5",defaultValue:this.props.selectedMenuItem,disabled:!1,maxMenuWidth:n,suppressed:!0,useMenuDividers:!1,onChange:this.props.onSelectMenuItem,onDropdown:this.$1},this.$2())};a.prototype.$2=function(){return this.props.locationType===b("LocationConstants").CITIES?this.$3():this.$4()};a.prototype.$3=function(){var a=[],c=b("React").createElement(j,{key:l.CURRENT_CITY,label:"",value:l.CURRENT_CITY},b("React").createElement("span",null,h._("Current city only"))),d=b("React").createElement(k,{key:l.SEPARATOR},b("React").createElement("span",{className:"_2-89"})),e=b("React").createElement(j,{key:l.CITIES_IN_RADIUS,label:this.$5(),value:l.CITIES_IN_RADIUS},b("React").createElement("span",null,h._("Cities within radius")),this.$6()),f=b("React").createElement(j,{clickable:!1,key:l.RADIUS_INPUT,value:l.RADIUS_INPUT},this.$7());a.push(c,d,e,f);return a};a.prototype.$6=function(){return b("React").createElement(b("FDSSimplePopover.react"),{alignment:this.props.helpTextAlignment||"left",content:h._("Surrounding cities are included if the center of the city falls within the radius."),contentWidthUseSparingly:o,linger:0,position:this.props.helpTextPosition||"right"})};a.prototype.$4=function(){return[b("React").createElement(j,{clickable:!1,key:l.RADIUS_INPUT,label:this.$5(),value:l.RADIUS_INPUT},this.$7())]};a.prototype.$7=function(){var a=this.props.minRadius?this.props.minRadius(this.props.locationType):this.props.locationType===b("LocationConstants").CITIES?Math.ceil(m.getCityMinRadius(this.props.distanceUnit)):Math.ceil(m.getAddressMinRadius(this.props.distanceUnit));return b("React").createElement(b("RangeAndTextInput.react"),{className:this.$8(),max:m.getMaxRadius(this.props.distanceUnit),min:a,textInputLabel:m.getLocalizedUnitFbt(this.props.distanceUnit),value:this.props.radius,onChange:this.props.onRadiusChange})};a.prototype.$8=function(){if(this.props.locationType===b("LocationConstants").CITIES)if(this.props.selectedMenuItem===l.CURRENT_CITY)return"_1i3i _54h2";else return"_1i3i";else return"_1i3j"};a.prototype.$5=function(){var a=Math.ceil(this.props.radius),c=m.getLocalizedUnitFbt(this.props.distanceUnit);return b("React").createElement("span",{className:"_1i3k"},h._("+ {distance}{unit}",[h._param("distance",a),h._param("unit",c)]))};a.prototype.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CLICK_RADIUS_EDITOR},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};function a(){i.apply(this,arguments)}a.propTypes={alignment:c.oneOf(["left","center","right"]),distanceUnit:c.oneOf([b("LocationConstants").MILE_UNIT,b("LocationConstants").KILOMETER_UNIT]).isRequired,helpTextAlignment:c.oneOf(["left","center","right"]),helpTextPosition:c.oneOf(["above","below","left","right"]),locationType:c.oneOf([b("LocationConstants").CITIES,b("LocationConstants").CUSTOM_LOCATIONS,b("LocationConstants").PLACES]).isRequired,minRadius:c.func,radius:c.number.isRequired,selectedMenuItem:c.oneOf([l.CURRENT_CITY,l.CITIES_IN_RADIUS,l.RADIUS_INPUT]).isRequired,showMenu:c.bool.isRequired,onRadiusChange:c.func.isRequired,onSelectMenuItem:c.func.isRequired};e.exports=a}),null);
__d("AdsTargetingLocationRadiusEditorContainer",["AdsTargetingLocationRadiusEditor","LocationConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LocationConstants").RadiusInfo.MENU_ITEMS,i=b("LocationConstants").RadiusInfo;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(a){__p&&__p();g.constructor.call(this,a);this.$1=function(a){if(this.state.selectedMenuItem!==h.CURRENT_CITY&&a.value===h.CURRENT_CITY)this.props.onRadiusChange(0),this.setState({showMenu:!1,selectedMenuItem:a.value});else if(this.state.selectedMenuItem!==h.CITIES_IN_RADIUS&&a.value===h.CITIES_IN_RADIUS){var b=i.getDefaultRadius(this.props.locationType);this.setState({selectedMenuItem:a.value},function(){return this.props.onRadiusChange(b)}.bind(this))}else this.setState({showMenu:!1})}.bind(this);var c;a.locationType===b("LocationConstants").CUSTOM_LOCATIONS||a.locationType===b("LocationConstants").PLACES?c=h.RADIUS_INPUT:c=a.radius===0?h.CURRENT_CITY:h.CITIES_IN_RADIUS;this.state={selectedMenuItem:c,showMenu:!1}}a.prototype.render=function(){return b("React").createElement(b("AdsTargetingLocationRadiusEditor"),babelHelpers["extends"]({},this.props,{selectedMenuItem:this.state.selectedMenuItem,showMenu:this.state.showMenu,onSelectMenuItem:this.$1}))};a.propTypes={alignment:c.oneOf(["left","center","right"]),distanceUnit:c.oneOf([b("LocationConstants").MILE_UNIT,b("LocationConstants").KILOMETER_UNIT]).isRequired,helpTextAlignment:c.oneOf(["left","center","right"]),helpTextPosition:c.oneOf(["above","below","left","right"]),locationType:c.oneOf([b("LocationConstants").CITIES,b("LocationConstants").CUSTOM_LOCATIONS,b("LocationConstants").PLACES]).isRequired,minRadius:c.func,radius:c.number.isRequired,onRadiusChange:c.func.isRequired};e.exports=a}),null);
__d("AdsTargetingLocationRemoveIcon",["cx","AdsInterfacesLogger","AdsMultiCityExclusionWebDriverTestID","AdsTargetingLocationDataTransformer","AdsTargetingLocationLoggingEvents","BUIAdoptionCloseButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CLICK_XOUT},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var a=this.props.childLocations||[this.props.location];a=b("AdsTargetingLocationDataTransformer").convertProxyDataToDataStore(a);this.props.onRemoveAttempt(a)}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{className:"_47la"},b("React").createElement(b("BUIAdoptionCloseButton.react"),{"data-testid":b("AdsMultiCityExclusionWebDriverTestID").GEO_REMOVE_TARGET_LOCATION,className_DEPRECATED:this.props.alwaysShowXOut?"alwaysVisible":"",onClick:this.$1}))};a.propTypes={alwaysShowXOut:c.bool,location:c.object.isRequired,childLocations:c.array,onRemoveAttempt:c.func.isRequired};e.exports=a}),null);
__d("AdsGeoTargetingUserReportTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AdsGeoTargetingUserReportLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdsGeoTargetingUserReportLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdsGeoTargetingUserReportLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdAccountID=function(a){this.$1.ad_account_id=a;return this};a.prototype.setComments=function(a){this.$1.comments=a;return this};a.prototype.setIssueType=function(a){this.$1.issue_type=a;return this};a.prototype.setTargetedLocation=function(a){this.$1.targeted_location=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={ad_account_id:!0,comments:!0,issue_type:!0,targeted_location:!0,vc:!0};e.exports=a}),null);
__d("BUIAdoptionDialogSubmitButton.react",["BUIAdoptionButton.react","React","SUIBusinessTheme","SUIButton.react","SUIModalSubmitButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("SUIModalSubmitButton.react"),babelHelpers["extends"]({theme:b("SUIBusinessTheme")},this.props))};a.getButtonSize=function(a){return b("BUIAdoptionButton.react").getButtonSize(a)};function a(){g.apply(this,arguments)}a.defaultProps=b("SUIButton.react").defaultProps;a.propTypes=b("SUIButton.react").propTypes;e.exports=a}),null);
__d("AdsTargetingLocationReportDialog",["cx","fbt","BUIAdoptionDialogCancelButton.react","BUIAdoptionDialogSubmitButton.react","BUIAdoptionHorizontalLayout.react","LayerFadeOnHide","LocationConstants","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISelector.react","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("XUISelector.react").Option;c=b("React").PropTypes;var k=b("LocationConstants").LIST_ITEM_STATE,l=b("LocationConstants").REPORT_OPTIONS,m=500;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,width:m,onToggle:function(a){return this.props.onToggle(a)}.bind(this)},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Report a Problem")),b("React").createElement(b("XUIDialogBody.react"),{className:"_5864"},this.$3(),this.$4()),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("BUIAdoptionHorizontalLayout.react"),null,b("React").createElement(b("BUIAdoptionDialogCancelButton.react"),null),b("React").createElement(b("BUIAdoptionDialogSubmitButton.react"),{layerAction:"cancel",use:"confirm",onClick:this.$5}))))}.bind(this),this.$2=function(){return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},shown:!0,width:m,onToggle:function(a){return this.props.onToggle(a)}.bind(this)},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Report a Problem")),b("React").createElement(b("XUIDialogBody.react"),{className:"_5864"},b("React").createElement("div",null,h._("Thanks for reporting the problem. Your feedback helps make Facebook better."))))}.bind(this),this.$3=function(){var a=b("React").createElement("div",{className:"_5865"},h._("What would you like to report about this location?")),c=b("React").createElement(b("XUISelector.react"),{defaultValue:this.props.defaultIssueType,onChange:this.$6},b("React").createElement(j,{value:l.SHAPE_WRONG},h._("Wrong location shape")),b("React").createElement(j,{value:l.SHAPE_MISSING},h._("Location shape is missing")),b("React").createElement(j,{value:l.NAME_WRONG},h._("Incorrect name")),b("React").createElement(j,{value:l.OTHER},h._("Other")));return b("React").createElement("div",null,a,c)}.bind(this),this.$4=function(){var a=h._("Please explain the problem in more detail.");return b("React").createElement("div",{className:"_5866"},b("React").createElement("div",{className:"_5865"},h._("Comments (Optional)")),b("React").createElement(b("XUITextInput.react"),{className:"_5867",placeholder:a,ref:"comments"}))},this.$6=function(a){this.props.onChangeIssueType(a.value)}.bind(this),this.$5=function(){this.props.onSubmit(this.refs.comments.refs.textInput.getValue())}.bind(this),c}a.prototype.render=function(){switch(this.props.displayState){case k.REPORT:return this.$1();case k.COMPLETE:return this.$2();default:return null}};a.propTypes={defaultIssueType:c.oneOf([l.SHAPE_WRONG,l.SHAPE_MISSING,l.NAME_WRONG,l.OTHER]).isRequired,displayState:c.oneOf([k.HIDE,k.REPORT,k.COMPLETE]).isRequired,location:c.object.isRequired,onSubmit:c.func.isRequired,onToggle:c.func.isRequired};e.exports=a}),null);
__d("AdsTargetinglocationListItemMenu",["cx","fbt","ix","AdsFBIconDownsized.react","AdsInterfacesLogger","AdsMultiCityExclusionWebDriverTestID","AdsTargetingLocationLoggingEvents","Image.react","MenuSeparator.react","PopoverMenu.react","React","ReactXUIMenu","SUIBusinessThemeContainer.react","SUIText.react","asset","keyMirror"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").Item;c=b("React").PropTypes;var l=b("keyMirror")({SWITCH_INCLUSION:null,INCLUDE_ALL_AREAS:null,MULTICITY_TARGETING_INCLUSION:null,MULTICITY_TARGETING_EXCLUSION:null,REPORT_ISSUE:null});d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={highlightedItem:null},this.$10=function(a,c){a=c.item.getValue();a===l.SWITCH_INCLUSION?this.props.onSwitchInclusion():a===l.MULTICITY_TARGETING_INCLUSION?(b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_INCLUDE_CITIES_ONLY},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onSwitchMultiCityState(!0)):a===l.MULTICITY_TARGETING_EXCLUSION?(b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_EXCLUDE_CITIES_ONLY},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onRemoveAllExclusionFromArea(!1),this.props.onSwitchMultiCityState(!1)):a===l.INCLUDE_ALL_AREAS?(b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_INCLUDE_ALL_AREAS},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.isMultiCityIncluded===!1?this.props.onRemoveAllExclusionFromArea():this.props.onSwitchMultiCityState(null)):a===l.REPORT_ISSUE&&this.props.onClickReport()}.bind(this),this.$5=function(){this.setState({highlightedItem:null})}.bind(this),c}a.prototype.$1=function(a){var b=l.INCLUDE_ALL_AREAS;this.props.isMultiCityIncluded?b=l.MULTICITY_TARGETING_INCLUSION:this.props.isMultiCityIncluded===!1&&(b=l.MULTICITY_TARGETING_EXCLUSION);return a===b};a.prototype.$2=function(a,c){a?a=c===this.state.highlightedItem?i("22129"):i("22128"):a=c===this.state.highlightedItem?i("22127"):i("22126");return b("React").createElement(b("Image.react"),{className:"_1ub2",src:a})};a.prototype.$3=function(a){if(!this.props.included&&!this.props.isMultiCityLocation)return null;var c="_1jvz";return!this.$1(a)?b("React").createElement("div",{className:c}):b("React").createElement(b("AdsFBIconDownsized.react"),{className:c,src:i("367571")})};a.prototype.$4=function(){var a=this.props.included||this.props.isMultiCityLocation,c=a?h._("Exclude Location"):h._("Include Location"),d=a?b("AdsMultiCityExclusionWebDriverTestID").MENU_ITEM_EXCLUDE_LOCATION:b("AdsMultiCityExclusionWebDriverTestID").MENU_ITEM_INCLUDE_LOCATION,e=function(){this.setState({highlightedItem:l.SWITCH_INCLUSION})}.bind(this);return this.props.onlyInclusion?null:b("React").createElement(k,{className:"_1jv-","data-testid":d,key:l.SWITCH_INCLUSION,value:l.SWITCH_INCLUSION},b("React").createElement("div",{onMouseEnter:e,onMouseLeave:this.$5},this.$2(!a,l.SWITCH_INCLUSION),c))};a.prototype.$6=function(){return!this.props.included||!this.props.enableMultiCityExclusion&&this.props.isMultiCityLocation?null:this.$7(h._("Only include cities"),l.MULTICITY_TARGETING_INCLUSION,!0,b("AdsMultiCityExclusionWebDriverTestID").MENU_ITEM_INCLUDE_CITIES_ONLY)};a.prototype.$8=function(){return!this.props.included||!this.props.enableMultiCityExclusion&&!this.props.isMultiCityLocation?null:this.$7(h._("Include all areas"),l.INCLUDE_ALL_AREAS,!0,b("AdsMultiCityExclusionWebDriverTestID").MENU_ITEM_INCLUDE_ALL_AREAS)};a.prototype.$9=function(){return!this.props.enableMultiCityExclusion?null:this.$7(this.props.included?h._("Exclude cities"):h._("Only exclude cities"),l.MULTICITY_TARGETING_EXCLUSION,!1,b("AdsMultiCityExclusionWebDriverTestID").MENU_ITEM_EXCLUDE_CITIES_ONLY)};a.prototype.$7=function(a,c,d,e){d=this.$1(c);var f=function(){this.setState({highlightedItem:c})}.bind(this),g=(d?"":"_1jv-")+(d&&this.props.enableMultiCityExclusion?" _1jw1":"");d=this.props.enableMultiCityExclusion&&d?"bold":"normal";return b("React").createElement(k,{className:g,"data-testid":e,key:c,value:c},b("React").createElement("div",{onMouseEnter:f,onMouseLeave:this.$5},this.props.enableMultiCityExclusion?this.$3(c):this.$2(!0,c),b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIText.react"),{size:"meta1",weight:d},a))))};a.prototype.render=function(){var a=this.props.isMultiCityLocation&&!this.props.included,c=this.props.enableMultiCityExclusion||!this.props.isMultiCityLocation,d=(this.props.isValidTypeForMultiCityTargeting||this.props.isMultiCityLocation)&&(this.props.enableMultiCityExclusion||this.props.included);c=a||!c?[]:[this.$4(),b("React").createElement(b("MenuSeparator.react"),{key:"remove_seperator"})];a=!this.props.enableMultiCityTargeting||a||!d||this.props.isInvalidLocation?[]:[this.$8(),this.$6(),this.$9(),b("React").createElement(b("MenuSeparator.react"),{key:"remove_seperator"})];d=b("React").createElement(b("ReactXUIMenu"),{onItemClick:this.$10},c.map(function(a){return a}),a.map(function(a){return a}),b("React").createElement(k,{className:"_1jv-","data-testid":b("AdsMultiCityExclusionWebDriverTestID").MENU_ITEM_REPORT_ISSUE,value:l.REPORT_ISSUE},h._("Report a Problem")));c="_1i89";return b("React").createElement(b("PopoverMenu.react"),{alignh:"right","data-testid":b("AdsMultiCityExclusionWebDriverTestID").GEO_TARGET_POPOVER_MENU_CONTAINER,menu:d,onShow:this.$11},b("React").createElement(b("AdsFBIconDownsized.react"),{className:c,src:i("382797")}))};a.prototype.$11=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_OPEN_MULTICITY_CHEVRON_MENU},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.propTypes={enableMultiCityExclusion:c.bool.isRequired,enableMultiCityTargeting:c.bool.isRequired,included:c.bool.isRequired,isInvalidLocation:c.bool.isRequired,isMultiCityIncluded:c.bool,isMultiCityLocation:c.bool.isRequired,isValidTypeForMultiCityTargeting:c.bool.isRequired,onlyInclusion:c.bool.isRequired,onClickReport:c.func.isRequired,onSwitchInclusion:c.func.isRequired,onSwitchMultiCityState:c.func.isRequired};e.exports=a}),null);
__d("AdsTargetinglocationListItemMenuContainer",["AdsGeoTargetingUserReportTypedLogger","AdsInterfacesLogger","AdsTargetingLocationConstants","AdsTargetinglocationListItemMenu","AdsTargetingLocationLoggingEvents","AdsTargetingLocationReportDialog","LocationConstants","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;var h=b("LocationConstants").LIST_ITEM_STATE,i=b("LocationConstants").REPORT_OPTIONS;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={displayState:h.HIDE,issue:i.SHAPE_WRONG},this.$3=function(){this.props.onSwitchInclusion(this.props.location,!this.props.location.included)}.bind(this),this.$4=function(a){this.props.onSwitchMultiCityState(this.props.location,a)}.bind(this),this.$2=function(a){this.props.onRemoveAllExclusionFromArea(this.props.location,a)}.bind(this),this.$7=function(a){a||this.setState({displayState:h.HIDE})}.bind(this),this.$1=function(){this.setState({displayState:h.REPORT})}.bind(this),this.$5=function(a){this.setState({issue:a})}.bind(this),this.$6=function(a){var c=this.props.location;c.polygons;c=babelHelpers.objectWithoutPropertiesLoose(c,["polygons"]);b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_REPORT_ISSUE},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);var d=new(b("AdsGeoTargetingUserReportTypedLogger"))();d.setComments(a).setIssueType(this.state.issue).setTargetedLocation(JSON.stringify(c)).log();this.setState({displayState:h.COMPLETE})}.bind(this),c}a.prototype.render=function(){var a=this.props.location.type===b("LocationConstants").CUSTOM_LOCATIONS&&this.props.location.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY,c=this.props.location.type===b("LocationConstants").COUNTRIES&&b("AdsTargetingLocationConstants").invalidCountries.includes(this.props.location.key);c=b("React").createElement(b("AdsTargetinglocationListItemMenu"),{customType:this.props.location.custom_type,enableMultiCityExclusion:this.props.enableMultiCityExclusion,enableMultiCityTargeting:this.props.enableMultiCityTargeting,included:this.props.location.included,isInvalidLocation:c,isMultiCityIncluded:this.props.isMultiCityIncluded,isMultiCityLocation:a,isValidTypeForMultiCityTargeting:this.props.isValidTypeForMultiCityTargeting,onlyInclusion:this.props.onlyInclusion,onClickReport:this.$1,onRemoveAllExclusionFromArea:this.$2,onSwitchInclusion:this.$3,onSwitchMultiCityState:this.$4});return b("React").createElement("div",null,b("React").createElement(b("AdsTargetingLocationReportDialog"),{defaultIssueType:this.state.issue,displayState:this.state.displayState,location:this.props.location,onChangeIssueType:this.$5,onSubmit:this.$6,onToggle:this.$7}),c)};a.propTypes={enableMultiCityExclusion:c.bool.isRequired,enableMultiCityTargeting:c.bool.isRequired,isMultiCityIncluded:c.bool,isValidTypeForMultiCityTargeting:c.bool.isRequired,location:c.object.isRequired,onlyInclusion:c.bool.isRequired,onSwitchInclusion:c.func.isRequired,onSwitchMultiCityState:c.func.isRequired};e.exports=a}),null);
__d("AdsTargetingLocationListItem",["cx","fbt","ix","AdsCommonTargetingProxyCity","AdsCommonTargetingProxyCountry","AdsCommonTargetingProxyCountryGroup","AdsCommonTargetingProxyCustomLocation","AdsCommonTargetingProxyCustomMultiCityLocation","AdsCommonTargetingProxyElectoralDistrict","AdsCommonTargetingProxyGeoEntity.react","AdsCommonTargetingProxyGeoMarket","AdsCommonTargetingProxyLocationCluster.react","AdsCommonTargetingProxyPlace","AdsCommonTargetingProxyPoliticalDistrict","AdsCommonTargetingProxyRegion","AdsCommonTargetingProxyZip","AdsInterfacesLogger","AdsMultiCityExclusionWebDriverTestID","AdsTargetingLocationConstants","AdsTargetingLocationDataTransformer","AdsTargetinglocationListItemMenuContainer","AdsTargetingLocationLoggingEvents","AdsTargetingLocationPopulationEditor","AdsTargetingLocationRadiusEditorContainer","AdsTargetingLocationRemoveIcon","Image.react","Layout.react","LocationConstants","React","ReactDOM","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={highlight:!1},this.$8=function(a){if(this.props.onHighlightChange){var c=b("AdsTargetingLocationDataTransformer").convertProxyDataToDataStore([this.props.location]);this.props.onHighlightChange(c,a)}}.bind(this),this.$3=function(){if(this.props.enableMap){var a=b("AdsTargetingLocationDataTransformer").convertProxyDataToDataStore([this.props.location]);this.props.onClickShowOnMap(a)}}.bind(this),this.$4=function(){this.setState({highlight:!0}),this.$8(!0)}.bind(this),this.$5=function(){this.setState({highlight:!1}),this.$8(!1)}.bind(this),this.$6=function(){var a;this.state.highlight?a=this.props.location.included?i("22129"):i("22127"):a=this.props.location.included?i("22128"):i("22126");return b("React").createElement(b("Image.react"),{className:"_40n0",src:a})}.bind(this),this.$10=function(a,b){this.props.onPopulationChange&&this.props.onPopulationChange(a,b,this.props.location)}.bind(this),this.$9=function(a){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CHANGE_RADIUS},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.props.onRadiusChange&&this.props.onRadiusChange({key:this.props.location.key,type:this.props.location.type,radius:a},this.props.location.included)}.bind(this),c}a.prototype.componentDidMount=function(){if(this.props.isNewLocation){var a=b("ReactDOM").findDOMNode(this.refs.locationItem);a.scrollIntoViewIfNeeded&&a.scrollIntoViewIfNeeded()}};a.prototype.render=function(){__p&&__p();var a=this.props.location.key,c=null;switch(this.props.location.type){case b("LocationConstants").COUNTRY_GROUPS:c=b("React").createElement(b("AdsCommonTargetingProxyCountryGroup"),{countryGroup:a,dao:this.props.dao,metaInfo:this.props.location});break;case b("LocationConstants").COUNTRIES:c=b("React").createElement(b("AdsCommonTargetingProxyCountry"),{country:a,dao:this.props.dao,metaInfo:this.props.location});break;case b("LocationConstants").CITIES:c=b("React").createElement("div",null,b("React").createElement(b("AdsCommonTargetingProxyCity"),{cityKey:a,dao:this.props.dao,hideParent:!0,metaInfo:this.props.location,showRegion:!0}),this.$1(!0));break;case b("LocationConstants").CUSTOM_LOCATIONS:this.props.location.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY?c=b("React").createElement("div",null,b("React").createElement(b("AdsCommonTargetingProxyCustomMultiCityLocation"),{dao:this.props.dao,hideParent:!0,locationKey:a,metaInfo:this.props.location}),this.$2()):c=b("React").createElement("div",null,b("React").createElement(b("AdsCommonTargetingProxyCustomLocation"),{dao:this.props.dao,hideParent:!0,locationKey:a,metaInfo:this.props.location}),this.$1(!1));break;case b("LocationConstants").GEO_MARKETS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoMarket"),{dao:this.props.dao,hideParent:!0,marketKey:a,metaInfo:this.props.location});break;case b("LocationConstants").REGIONS:c=b("React").createElement(b("AdsCommonTargetingProxyRegion"),{dao:this.props.dao,hideParent:!0,metaInfo:this.props.location,regionKey:a});break;case b("LocationConstants").ELECTORAL_DISTRICTS:c=b("React").createElement(b("AdsCommonTargetingProxyElectoralDistrict"),{dao:this.props.dao,electoralDistrictKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").POLITICAL_DISTRICTS:c=b("React").createElement(b("AdsCommonTargetingProxyPoliticalDistrict"),{dao:this.props.dao,hideParent:!0,metaInfo:this.props.location,politicalDistrictKey:a,showRegion:!1});break;case b("LocationConstants").LARGE_GEO_AREAS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").MEDIUM_GEO_AREAS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").SMALL_GEO_AREAS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").METRO_AREAS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").SUBCITIES:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").NEIGHBORHOODS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").SUBNEIGHBORHOODS:c=b("React").createElement(b("AdsCommonTargetingProxyGeoEntity.react"),{dao:this.props.dao,geoEntityKey:a,hideParent:!0,metaInfo:this.props.location,showRegion:!1});break;case b("LocationConstants").ZIPS:c=b("React").createElement(b("AdsCommonTargetingProxyZip"),{dao:this.props.dao,hideParent:!0,metaInfo:this.props.location,showRegion:!!this.props.enableMapV2,zipKey:a});break;case b("LocationConstants").LOCATION_CLUSTER_IDS:c=b("React").createElement("div",null,b("React").createElement(b("AdsCommonTargetingProxyLocationCluster.react"),{locationKey:a.toString(),metaInfo:this.props.location}));break;case b("LocationConstants").PLACES:c=b("React").createElement("div",null,b("React").createElement(b("AdsCommonTargetingProxyPlace"),{dao:this.props.dao,hideParent:!0,metaInfo:this.props.location,placeKey:a}),this.$1(!1));break;default:c=h._("Invalid Location");break}a=this.props.readOnly?null:b("React").createElement(b("AdsTargetingLocationRemoveIcon"),{alwaysShowXOut:this.props.alwaysShowXOut,location:this.props.location,onRemoveAttempt:this.props.onRemoveAttempt});var d="_40m_",e="";this.props.location.type===b("LocationConstants").COUNTRIES?e=b("AdsMultiCityExclusionWebDriverTestID").LOCATION_TYPE_COUNTRIES:this.props.location.type===b("LocationConstants").COUNTRY_GROUPS?e=b("AdsMultiCityExclusionWebDriverTestID").LOCATION_TYPE_COUNTRY_GROUPS:this.props.location.type===b("LocationConstants").CUSTOM_LOCATIONS&&this.props.location.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY&&(e=b("AdsMultiCityExclusionWebDriverTestID").LOCATION_TYPE_MULTI_CITY);return b("React").createElement("li",{className:d,"data-testid":e,ref:"locationItem",onClick:this.$3},b("React").createElement(b("Layout.react"),{onMouseEnter:this.$4,onMouseLeave:this.$5},b("React").createElement(k,null,this.$6()),b("React").createElement(l,null,c),b("React").createElement(k,null,this.$7()),b("React").createElement(k,null,a)))};a.prototype.$7=function(){if(this.props.hideLocationListMenu)return null;var a=b("AdsTargetingLocationConstants").invalidCountries,c=this.props.enableMultiCityTargeting,d=this.props.location.type===b("LocationConstants").COUNTRIES||this.props.location.type===b("LocationConstants").COUNTRY_GROUPS||this.props.location.type===b("LocationConstants").CUSTOM_LOCATIONS&&this.props.location.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY;(!d||a.indexOf(this.props.location.key)>=0)&&(c=!1);return b("React").createElement(b("AdsTargetinglocationListItemMenuContainer"),{enableMultiCityExclusion:this.props.enableMultiCityExclusion,enableMultiCityTargeting:c,isMultiCityIncluded:this.props.isMultiCityIncluded,isValidTypeForMultiCityTargeting:d,location:this.props.location,onlyInclusion:this.props.onlyInclusion,onRemoveAllExclusionFromArea:this.props.onRemoveAllExclusionFromArea,onSwitchInclusion:this.props.onSwitchInclusion,onSwitchMultiCityState:this.props.onSwitchMultiCityState})};a.prototype.$1=function(a){if(this.props.readOnly||this.props.disallowRadiusSelection)return null;else return b("React").createElement(b("AdsTargetingLocationRadiusEditorContainer"),{alignment:this.props.radiusEditorAlignment,distanceUnit:this.props.location.distance_unit,helpTextAlignment:this.props.radiusEditorHelpTextAlignment,helpTextPosition:this.props.radiusEditorHelpTextPosition,locationType:this.props.location.type,minRadius:this.props.minRadius,radius:this.props.location.radius,onRadiusChange:this.$9})};a.prototype.$2=function(){return b("React").createElement(b("AdsTargetingLocationPopulationEditor"),{dao:this.props.dao,location:this.props.location,onPopulationChange:this.$10})};a.propTypes={alwaysShowXOut:c.bool,dao:c.object.isRequired,disallowRadiusSelection:c.bool,enableMap:c.bool.isRequired,enableMultiCityExclusion:c.bool.isRequired,enableMultiCityTargeting:c.bool.isRequired,hideLocationListMenu:c.bool,isMultiCityIncluded:c.bool,isNewLocation:c.bool,location:c.object.isRequired,minRadius:c.func,onlyInclusion:c.bool.isRequired,radiusType:c.string,readOnly:c.bool,onClickShowOnMap:c.func.isRequired,onHighlightChange:c.func.isRequired,onPopulationChange:c.func,onRadiusChange:c.func.isRequired,onRemoveAttempt:c.func.isRequired,onSwitchInclusion:c.func.isRequired,onSwitchMultiCityState:c.func};a.defaultProps={containExcludedCities:!1,disallowRadiusSelection:!1,enableMap:!1,enableMultiCityExclusion:!1,enableMultiCityTargeting:!1,hideLocationListMenu:!1,isNewLocation:!1,readOnly:!1,onClickShowOnMap:b("emptyFunction"),onHighlightChange:b("emptyFunction"),onPopulationChange:b("emptyFunction"),onRadiusChange:b("emptyFunction"),onRemoveAttempt:b("emptyFunction"),onSwitchInclusion:b("emptyFunction"),onSwitchMultiCityState:b("emptyFunction")};e.exports=a}),null);
__d("AdsTargetingLocationGroup",["cx","AdsCommonTargetingProxyCountry","AdsCommonTargetingProxyCountryGroup","AdsCommonTargetingProxyCustomMultiCityLocation","AdsTargetingLocationListItem","AdsTargetingLocationRemoveIcon","AdsTargetingLocationUtils","Layout.react","LocationConstants","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={highlight:!1},this.$1=function(){this.setState({highlight:!0})}.bind(this),this.$2=function(){this.setState({highlight:!1})}.bind(this),b}a.prototype.render=function(){var a=this.props.readOnly?null:b("React").createElement(b("AdsTargetingLocationRemoveIcon"),{alwaysShowXOut:this.props.alwaysShowXOut,childLocations:this.props.locations,location:this.props.group,onRemoveAttempt:this.props.onRemoveAttempt}),c="_53ga"+(this.state.highlight?" _53ge":"");a=!this.props.hideLocationGroupHeader&&b("React").createElement("li",null,b("React").createElement(b("Layout.react"),{className:"_53gb",onMouseEnter:this.$1,onMouseLeave:this.$2},b("React").createElement(j,null,this.$3()),b("React").createElement(i,null,a)));return b("React").createElement("li",{className:this.props.hideLocationGroupHeader?"_52a2":""},b("React").createElement("ul",{className:c},a,b("React").createElement("li",null,b("React").createElement("ul",null,this.$4()))))};a.prototype.$3=function(){var a=this.props.group.type===b("LocationConstants").CUSTOM_LOCATIONS&&this.props.locations[0].custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY;if(this.props.group.type===b("LocationConstants").COUNTRY_GROUPS)return b("React").createElement(b("AdsCommonTargetingProxyCountryGroup"),{countryGroup:this.props.group.key,dao:this.props.dao,metaInfo:{name:this.props.group.name}});else if(a)return b("React").createElement(b("AdsCommonTargetingProxyCustomMultiCityLocation"),{dao:this.props.dao,hideParent:!0,locationKey:this.props.group.key,metaInfo:this.props.locations[0]});else return b("React").createElement(b("AdsCommonTargetingProxyCountry"),{country:this.props.group.key,dao:this.props.dao,metaInfo:{name:this.props.group.name}})};a.prototype.$4=function(){var a=this.$5(),c=null;a.forEach(function(a){a.type===b("LocationConstants").CUSTOM_LOCATIONS&&a.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY&&(c=a.included)});return a.map(function(a){var d=b("AdsTargetingLocationUtils").getUniqueKey(a);return b("React").createElement(b("AdsTargetingLocationListItem"),{alwaysShowXOut:this.props.alwaysShowXOut,dao:this.props.dao,disallowRadiusSelection:this.props.disallowRadiusSelection,enableMap:this.props.enableMap,enableMultiCityExclusion:this.props.enableMultiCityExclusion,enableMultiCityTargeting:this.props.enableMultiCityTargeting,hideLocationListMenu:this.props.hideLocationListMenu,isMultiCityIncluded:c,isNewLocation:this.props.newLocationKey===d,key:d,location:a,minRadius:this.props.minRadius,onlyInclusion:this.props.onlyInclusion,radiusEditorAlignment:this.props.radiusEditorAlignment,radiusEditorHelpTextAlignment:this.props.radiusEditorHelpTextAlignment,radiusEditorHelpTextPosition:this.props.radiusEditorHelpTextPosition,readOnly:this.props.readOnly,onClickShowOnMap:this.props.onClickShowOnMap,onHighlightChange:this.props.onLocationHighlightChange,onPopulationChange:this.props.onPopulationChange,onRadiusChange:this.props.onRadiusChange,onRemoveAllExclusionFromArea:this.props.onRemoveAllExclusionFromArea,onRemoveAttempt:this.props.onRemoveAttempt,onSwitchInclusion:this.props.onSwitchInclusion,onSwitchMultiCityState:this.props.onSwitchMultiCityState})}.bind(this))};a.prototype.$5=function(){return this.props.locations.sort(function(a,b){if(a.included!=b.included)return b.included;if(a.name&&b.name)return a.name.localeCompare(b.name);return a.key&&b.key?String(a.key).localeCompare(String(b.key)):0})};a.propTypes={alwaysShowXOut:c.bool,dao:c.object.isRequired,disallowRadiusSelection:c.bool,enableMap:c.bool.isRequired,enableMultiCityExclusion:c.bool.isRequired,enableMultiCityTargeting:c.bool.isRequired,group:c.shape({key:c.string.isRequired,name:c.string,type:c.string.isRequired}).isRequired,hideLocationGroupHeader:c.bool,hideLocationListMenu:c.bool,locations:c.array.isRequired,minRadius:c.func,newLocationKey:c.string,onlyInclusion:c.bool.isRequired,readOnly:c.bool,onClickShowOnMap:c.func.isRequired,onLocationHighlightChange:c.func.isRequired,onPopulationChange:c.func,onRadiusChange:c.func,onRemoveAttempt:c.func.isRequired,onSwitchInclusion:c.func.isRequired,onSwitchMultiCityState:c.func};e.exports=a}),null);
__d("AdsTargetingLocationPresenter",["cx","invariant","AdsTargetingLocationGroup","AdsTargetingLocationUtils","LocationConstants","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){this.props.readOnly||this.props.onRemoveAttempt||h(0,6195);this.props.readOnly&&this.props.onRadiusChange&&h(0,6196);return b("AdsTargetingLocationUtils").getLocationsCount(this.props.included)===0&&b("AdsTargetingLocationUtils").getLocationsCount(this.props.excluded)===0?null:b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_4zmf")},b("React").createElement("ul",{className:"_4zmg"},this.$1()))};a.prototype.$1=function(){var a=b("AdsTargetingLocationUtils").groupByCountryOrCountryGroup(this.props.included,this.props.excluded),c=Object.keys(a).map(function(c){var d=a[c][0],e;d.type===b("LocationConstants").COUNTRIES||d.type===b("LocationConstants").COUNTRY_GROUPS?e=d.name:d.type===b("LocationConstants").CUSTOM_LOCATIONS&&d.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY?e=d.country||d.country_group:e=d.country_name;return b("React").createElement(b("AdsTargetingLocationGroup"),{alwaysShowXOut:this.props.alwaysShowXOut,dao:this.props.dao,disallowRadiusSelection:this.props.disallowRadiusSelection,enableMap:this.props.enableMap,enableMultiCityExclusion:this.props.enableMultiCityExclusion,enableMultiCityTargeting:this.props.enableMultiCityTargeting,group:{key:c,name:e,type:d.type},hideLocationGroupHeader:this.props.hideLocationGroupHeader,hideLocationListMenu:this.props.hideLocationListMenu,key:c,locations:a[c],minRadius:this.props.minRadius,newLocationKey:this.props.newLocationKey,onlyInclusion:this.props.onlyInclusion,radiusEditorAlignment:this.props.radiusEditorAlignment,radiusEditorHelpTextAlignment:this.props.radiusEditorHelpTextAlignment,radiusEditorHelpTextPosition:this.props.radiusEditorHelpTextPosition,readOnly:this.props.readOnly,onClickShowOnMap:this.props.onClickShowOnMap,onLocationHighlightChange:this.props.onLocationHighlightChange,onPopulationChange:this.props.onPopulationChange,onRadiusChange:this.props.onRadiusChange,onRemoveAllExclusionFromArea:this.props.onRemoveAllExclusionFromArea,onRemoveAttempt:this.props.onRemoveAttempt,onSwitchInclusion:this.props.onSwitchInclusion,onSwitchMultiCityState:this.props.onSwitchMultiCityState})}.bind(this));return c};function a(){i.apply(this,arguments)}a.propTypes={alwaysShowXOut:c.bool,dao:c.object.isRequired,disallowRadiusSelection:c.bool,enableMap:c.bool.isRequired,enableMultiCityExclusion:c.bool.isRequired,enableMultiCityTargeting:c.bool.isRequired,excluded:c.object.isRequired,hideLocationGroupHeader:c.bool,hideLocationListMenu:c.bool,included:c.object.isRequired,minRadius:c.func,newLocationKey:c.string,onlyInclusion:c.bool.isRequired,readOnly:c.bool,onClickShowOnMap:c.func.isRequired,onLocationHighlightChange:c.func.isRequired,onPopulationChange:c.func,onRadiusChange:c.func,onRemoveAttempt:c.func.isRequired,onSwitchInclusion:c.func.isRequired,onSwitchMultiCityState:c.func};e.exports=a}),null);
__d("AdsLocationBulkInputShowDialogFromTypeaheadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BULK_INPUT_SHOW_DIALOG_FROM_TYPEAHEAD");e.exports=a}),null);
__d("AdsLocationBulkInputShowNuxDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"BULK_INPUT_SHOW_NUX");e.exports=a}),null);
__d("AdsLocationTypeaheadPasteDialog.react",["cx","fbt","BUIAdoptionDialogButton.react","DialogPosition","Link.react","LocationConstants","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","XUIMenuStaticItem.react","XUISelector.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("XUISelector.react").Option,k=180;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={showDialog:!1,locationType:null},this.$3=function(){var a=[b("React").createElement(b("XUIMenuStaticItem.react"),{className:"_24e9 _24ea",key:"static_item"},h._("Choose one...")),b("React").createElement(j,{className:"_24ea",key:b("LocationConstants").COUNTRIES,value:b("LocationConstants").COUNTRIES},h._("Country")),b("React").createElement(j,{className:"_24ea",key:b("LocationConstants").REGIONS,value:b("LocationConstants").REGIONS},h._("State\/Region")),b("React").createElement(j,{className:"_24ea",key:b("LocationConstants").CITIES,value:b("LocationConstants").CITIES},h._("City")),b("React").createElement(j,{className:"_24ea",key:b("LocationConstants").ZIPS,value:b("LocationConstants").ZIPS},h._("ZIP\/Postal code"))];this.props.allowAddress&&a.push(b("React").createElement(j,{className:"_24ea",key:b("LocationConstants").CUSTOM_LOCATIONS,value:b("LocationConstants").CUSTOM_LOCATIONS},h._("Address")));return b("React").createElement(b("XUISelector.react"),{className:"_24eb",onChange:this.$5},a)}.bind(this),this.$4=function(){var a=this.$6(this.state.locationType),c=this.$7(this.state.locationType);if(!!a&&!!c)return b("React").createElement("div",{className:"mtm"},b("React").createElement("div",{style:{marginBottom:"5px"}},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Format:")),b("React").createElement("div",null,c)),b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Examples:")),b("React").createElement("div",null,a))}.bind(this),this.$7=function(){__p&&__p();var a=null;if(this.state.locationType)switch(this.state.locationType){case b("LocationConstants").COUNTRIES:a=h._("Country name 1, Country name 2, Country name 3");break;case b("LocationConstants").REGIONS:a=h._("State name 1, State name 2, State name 3");break;case b("LocationConstants").CITIES:a=h._("City name 1, State name 1; City name 2, State name 2");break;case b("LocationConstants").ZIPS:a=h._("Country code:zip 1, Country code:zip 2, Country code:zip 3");break;case b("LocationConstants").CUSTOM_LOCATIONS:a=h._("Street address, city name, state name(if applicable), country name;");break;default:break}return a}.bind(this),this.$6=function(){__p&&__p();var a=null;if(this.state.locationType)switch(this.state.locationType){case b("LocationConstants").COUNTRIES:a=h._("United States, Canada, Mexico");break;case b("LocationConstants").REGIONS:a=h._("Texas, California, New York");break;case b("LocationConstants").CITIES:a=h._("Menlo Park, California; Austin, Texas;");break;case b("LocationConstants").ZIPS:a=h._("US:94025, GB:NW1 3, FR:75003");break;case b("LocationConstants").CUSTOM_LOCATIONS:a=h._("1 Hacker Way, Menlo Park, United States; 1600 Pennsylvania Ave NW, Washington, DC, United States");break;default:break}return a}.bind(this),this.show=function(){b("DialogPosition").setFixedTopMargin(k),this.setState({showDialog:!0,locationType:null})}.bind(this),this.$2=function(){b("DialogPosition").setFixedTopMargin(0),this.setState({showDialog:!1,locationType:null}),this.props.onDialogHide&&this.props.onDialogHide()}.bind(this),this.$5=function(a){a=a.value;this.setState({locationType:a})}.bind(this),this.$1=function(){this.props.onLocationTypeSelect&&this.props.onLocationTypeSelect(this.state.locationType),this.setState({showDialog:!1})}.bind(this),c}a.prototype.render=function(){if(!this.state.showDialog)return null;var a=b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/help/782267941863427?_rdr",style:{fontSize:"12px"},target:"_blank"},h._("Learn More"));return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("SUIModalFooter.react"),{leftContent:a,primaryButton:b("React").createElement(b("BUIAdoptionDialogButton.react"),{disabled:!this.state.locationType,label:h._("Add Locations"),use:"confirm",onClick:this.$1}),secondaryButton:b("React").createElement(b("BUIAdoptionDialogButton.react"),{label:h._("Cancel"),layerAction:"cancel"}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:h._("Select Location Type")}),isShown:this.state.showDialog,key:"dialog",theme:b("SUIBusinessTheme"),width:400,onHide:this.$2},b("React").createElement("div",{className:"_2q35"},b("React").createElement("div",{className:"mbm"},h._("Only one type of location can be pasted at a time. Locations that can't be matched will be discarded.")),this.$3(),this.$4()))};a.propTypes={onLocationTypeSelect:c.func.isRequired,onDialogHide:c.func};e.exports=a}),null);
__d("AdsTargetingLocationNux",["fbt","AdsInterfacesLogger","AdsTargetingLocationLoggingEvents","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SimpleNUXMessageTypes").AUDIENCE_INLINE_SAVE_NUX,j=b("SimpleNUXMessageTypes").GEO_TARGETING_V2;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CLOSE_NUX},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),this.setState({shouldShow:!1})}.bind(this),this.$2=function(){var a=b("SimpleNUXMessage").hasUserSeenMessage(j);if(!a&&this.$3()){b("SimpleNUXMessage").markMessageSeenByUser(j);return!0}return!1}.bind(this),this.$3=function(){return b("SimpleNUXMessage").hasUserSeenMessage(i)},this.state={shouldShow:this.$2()},c}a.prototype.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{context:this.props.context,contextRef:this.props.contextRef,customwidth:280,position:"right",shown:this.state.shouldShow,width:"custom",onCloseButtonClick:this.$1},g._("Now you can reach people around custom addresses, within international postal codes or who live or travel in certain areas."))};a.propTypes={context:c.object,contextRef:c.func};e.exports=a}),null);
__d("AdsTargetingLocationTypeaheadBusyIndicator",["cx","fbt","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;i=babelHelpers.inherits(a,c);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_3pzl"},b("React").createElement(b("FDSSpinner.react"),{shade:"dark",size:"small"}),b("React").createElement("span",{className:"mls"},this.props.children||h._("Loading")))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("AdsTargetingLocationTypeahead",["cx","fbt","Promise","AbstractTypeahead.react","AdsInterfacesLogger","AdsLocationActions","AdsLocationBulkInputShowDialogFromTypeaheadDataAction","AdsLocationBulkInputShowNuxDataAction","AdsLocationSearchSource","AdsLocationTypeaheadPasteDialog.react","AdsTargetingIncludeExcludeSelector","AdsTargetingLocationBrowseListContainer.react","AdsTargetingLocationDataTransformer","AdsTargetingLocationLoggingEvents","AdsTargetingLocationNux","AdsTargetingLocationTypeaheadBusyIndicator","AdsTargetingLocationTypeaheadPresenter","AdsTargetingLocationUtils","DOMQuery","FBLogger","FDSSpinner.react","Image.react","Keys","Link.react","LocationConstants","PreferredAudienceTestIDs","React","ReactDOM","ReactInputSelection","SimpleNUXMessage","SimpleNUXMessageTypes","TooltipMixin","XUIButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIError.react","emptyFunction","getByPath","intlList","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=100,j=50,k=5,l=1,m=1,n=/[\n\r]/g,o=b("SimpleNUXMessageTypes").GEO_TARGETING_BULK_INPUT,p=3e4,q=95,r=450,s=b("React").createClass({displayName:"ComponentWithTooltipMixin",mixins:[b("TooltipMixin")],render:function(){return b("React").Children.only(this.props.children)}}),t="/business/help/285255905140138",u="";c=b("React").createClass({displayName:"AdsTargetingLocationTypeahead",_width:0,propTypes:{accountID:a.string,addLocationMode:a.oneOf(["include","exclude"]),dao:a.object.isRequired,disabledIncludeExcludeSelector:a.bool,disabledLocationTypeahead:a.bool,enableBulkInput:a.bool.isRequired,enableLocationBrowser:a.bool,excludedGeoLocations:a.object.isRequired,geoLocations:a.object.isRequired,hideAdsHelpLink:a.bool,hideTip:a.bool,maxNumLocations:a.number,onlyInclusion:a.bool,page:a.object,searchSourceOptions:a.shape({disallowedLocationTypes:a.instanceOf(Set).isRequired}).isRequired,shouldGetSuggestedRadius:a.bool,shouldShowNuxTooltip:a.bool.isRequired,shouldShowPageLocationSuggestion:a.bool,variantIndex:a.number,width:a.bool,onAddLocationModeChange:a.func.isRequired,onBrowseButtonMouseDown:a.func,onFocusTypeahead:a.func.isRequired,onMultiSelectAttempt:a.func.isRequired,onRemoveAttempt:a.func,onReplaceAttempt:a.func,onSelectAttempt:a.func.isRequired,onUsePageLocation:a.func,onUserSelectAttempt:a.func.isRequired},_inputBlurTimeout:null,_pasteText:null,_selectorBlurTimeout:null,_typeaheadSavedSelection:null,_userNoInteractionTimeout:null,getDefaultProps:function(){return{disabledLocationTypeahead:!1,excludedGeoLocations:{},searchSourceOptions:{disallowedLocationTypes:new Set()},onlyInclusion:!1,variantIndex:null,onAddLocationModeChange:b("emptyFunction"),onFocusTypeahead:b("emptyFunction"),onSelectAttempt:b("emptyFunction")}},getInitialState:function(){return{addedLocationsFromTypeahead:!1,inputHasFocus:!1,invalid:!1,duplicate:!1,isInsideTypeaheadTip:!1,isPasting:!1,isValidating:!1,queryString:"",selectorHasFocus:!1}},renderLayers:function(){return!this.props.shouldShowNuxTooltip?null:b("React").createElement(b("AdsTargetingLocationNux"),{contextRef:this._getContextRef,key:"nux"})},render:function(){var a=this._getDisallowedLocationTypes();a=!a.has(b("LocationConstants").CUSTOM_LOCATIONS);return b("React").createElement("div",null,this._renderTypeahead(),this._renderTypeaheadTip(),b("React").createElement(b("AdsLocationTypeaheadPasteDialog.react"),{allowAddress:a,ref:"pasteDialog",onDialogHide:this._onPasteDialogHide,onLocationTypeSelect:this._onPasteTypeSelect}),this.renderLayers())},UNSAFE_componentWillUpdate:function(){var a=b("ReactDOM").findDOMNode(this);this._width=a!=null&&typeof a.offsetWidth==="number"&&a.offsetWidth>0?a.offsetWidth:r},_renderTypeahead:function(){__p&&__p();if(this.state.isValidating)return b("React").createElement(b("AdsTargetingLocationTypeaheadBusyIndicator"),{ref:"typeahead"},h._("Validating Address"));if(this.state.isPasting)return b("React").createElement("div",{ref:"typeahead",width:this.props.width},b("React").createElement("div",{className:"_35b6"},b("React").createElement(b("FDSSpinner.react"),{shade:"dark",size:"small"}),b("React").createElement("span",{className:"_35b7 mls"},h._("Adding locations"))));var a=this._getPlaceHolderText(),c=b("AdsLocationSearchSource").getInstance(),d=b("AdsTargetingLocationTypeaheadPresenter");d.extraRendererProps={dao:this.props.dao};var e=this.state.inputHasFocus||this.state.selectorHasFocus;e="_438u"+(e?" _438v":"")+(this.state.invalid?" _7bo":"")+(this.state.duplicate?" _3x2j":"");var f=null;this.state.invalid?f=b("React").createElement("div",null,b("React").createElement("div",null,h._("Address not found.")),b("React").createElement("div",null,h._("- Check the spelling of the address")),b("React").createElement("div",null,h._("- Make sure you include a real street address, city, state or country")),b("React").createElement("div",null,h._("- Drop a pin on the map instead of searching"))):this.state.duplicate&&(f=b("React").createElement("div",null,b("React").createElement("div",null,h._("Duplicate address found.")),b("React").createElement("div",null,h._("- Check the addresses you have already added")),b("React").createElement("div",null,h._("- Drop a pin on the map instead of searching"))));var g=null;this.props.onlyInclusion||(g=b("React").createElement(b("AdsTargetingIncludeExcludeSelector"),{className:"_438w",isDisabled:this.props.disabledIncludeExcludeSelector,mode:this.props.addLocationMode,showDropIcon:!0,onBlur:this._onSelectorBlur,onChangeMode:this._onChangeMode,onFocus:this._onSelectorFocus}));return b("React").createElement("div",{className:e},g,b("React").createElement("div",{className:"_438x","data-testid":b("PreferredAudienceTestIDs").ADS_TARGETING_LOCATION_TYPEAHEAD,ref:"typeaheadRoot"},b("React").createElement("div",{className:"_60xf"},b("React").createElement("div",{className:"_60xg"},b("React").createElement(b("XUIError.react"),{xuiError:f,xuiErrorPosition:"below"},b("React").createElement(b("AbstractTypeahead.react"),{autoHighlight:!0,disabled:this.props.disabledLocationTypeahead,excludedEntries:this._getExcludedEntries(),hideViewWithEntries:!0,placeholder:a,presenter:d,queryString:this.state.queryString,ref:"typeahead",searchSource:c,searchSourceOptions:this.props.searchSourceOptions,selectOnTab:!0,selectedEntry:void 0,onBlur:this._onInputBlur,onChange:this._onInputChange,onEntriesFound:this._onEntriesFound,onFocus:this._onInputFocus,onKeyDown:this._onKeyDown,onPaste:this._onPaste,onSelectAttempt:this._onSelectAttempt}))),this._getLocationPicker())),this._renderPageLocationSuggestion())},_getPlaceHolderText:function(){return this.props.enableLocationBrowser?this.props.maxNumLocations===1?h._("Type to add location"):h._("Type to add more locations"):this.props.maxNumLocations===1?h._("Add location"):h._("Add locations")},_onMouseEnterTypeaheadTip:function(){this.setState({isInsideTypeaheadTip:!0})},_onMouseLeaveTypeaheadTip:function(){this.setState({isInsideTypeaheadTip:!1})},_renderTypeaheadTip:function(){if(!this.props.hideTip&&!this.state.addedLocationsFromTypeahead&&(this.state.inputHasFocus||this.state.isInsideTypeaheadTip)&&this.state.queryString===""){var a=function(){return this.refs.typeahead}.bind(this),c=this._width-q;return b("React").createElement("span",{onMouseEnter:this._onMouseEnterTypeaheadTip,onMouseLeave:this._onMouseLeaveTypeaheadTip},b("React").createElement(b("XUIContextualDialog.react"),{className:"_2jbi",contextRef:a,label:"targetingLocationTypeaheadTip",position:"below",shown:!0,width:c},b("React").createElement(b("XUIContextualDialogBody.react"),null,this._getTipContent())))}return null},_getLocationPicker:function(){if(this.props.enableLocationBrowser){var a=this._width-q;return b("React").createElement("div",{className:"_oon"},b("React").createElement(b("AdsTargetingLocationBrowseListContainer.react"),{accountID:this.props.accountID,addLocationMode:b("nullthrows")(this.props.addLocationMode),excludedGeoLocations:this.props.excludedGeoLocations,geoLocations:this.props.geoLocations,rootRef:this.refs.typeaheadRoot,variantIndex:this.props.variantIndex,width:a,onBrowseButtonMouseDown:this._onBrowseButtonMouseDown,onMultiSelectAttempt:this.props.onMultiSelectAttempt,onReplaceAttempt:this.props.onReplaceAttempt}))}return null},_onBrowseButtonMouseDown:function(){this.props.onBrowseButtonMouseDown&&this.props.onBrowseButtonMouseDown(),this.setState({queryString:""},function(){b("AdsLocationActions").toggleBrowseTreeIsActive(this.props.variantIndex)}.bind(this))},_getTipContent:function(){var a=this.props.searchSourceOptions.disallowedLocationTypes,c=[],d=[[b("LocationConstants").COUNTRIES,h._("countries")],[b("LocationConstants").REGIONS,h._("state\/regions")],[b("LocationConstants").CITIES,h._("cities")],[b("LocationConstants").ZIPS,h._("postal codes")],[b("LocationConstants").CUSTOM_LOCATIONS,h._("addresses")],[b("LocationConstants").GEO_MARKETS,h._("DMAs")],[b("LocationConstants").ELECTORAL_DISTRICTS,h._("congressional districts")]];d.forEach(function(b){a.has(b[0])||c.push(b[1])});d=b("React").createElement(b("Link.react"),{href:t,target:"_blank"},h._("Learn more"));d=this.props.hideAdsHelpLink?b("React").createElement("div",null,h._("You can also add worldwide or global regions.")):b("React").createElement("div",null,h._("You can also add worldwide or global regions. {Learn More link}",[h._param("Learn More link",d)]));return b("React").createElement("div",null,h._("You can type in specific {Supported location types}. {Country group location type}",[h._param("Supported location types",b("intlList")(c,b("intlList").CONJUNCTIONS.OR)),h._param("Country group location type",a.has(b("LocationConstants").COUNTRY_GROUPS)?"":d)]))},_renderPageLocationSuggestion:function(){var a=b("getByPath")(this.props,["page","picture"]);a=typeof a==="string"?null:b("getByPath")(a,["data","url"]);return!this.props.shouldShowPageLocationSuggestion||!b("getByPath")(this.props,["page","location"])||!a||!this._showLocationSuggestion()?null:b("React").createElement("div",{className:"_3-9s"},b("React").createElement(s,{tooltip:h._("Target address listed on the Page")},b("React").createElement(b("XUIButton.react"),{className:"_3-9t",image:b("React").createElement(b("Image.react"),{height:16,src:a,width:16}),label:h._("Target address listed on the Page"),labelIsHidden:!0,size:"medium",onClick:this.props.onUsePageLocation})))},_getExcludedEntries:function(){var a=b("AdsTargetingLocationUtils").getExcludedEntriesFromLocations(this.props.geoLocations),c=b("AdsTargetingLocationUtils").getExcludedEntriesFromLocations(this.props.excludedGeoLocations);return babelHelpers["extends"]({},a,c)},_onEntriesFound:function(){this._userNoInteractionTimeout=setTimeout(function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_TYPEAHEAD_NO_INTERACTION},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)},p)},_onSelectorBlur:function(){clearTimeout(this._selectorBlurTimeout),this._selectorBlurTimeout=setTimeout(function(){this.setState({selectorHasFocus:!1})}.bind(this),i)},_onSelectorFocus:function(){clearTimeout(this._selectorBlurTimeout),this.setState({selectorHasFocus:!0}),this.props.onFocusTypeahead()},_onInputBlur:function(){this._userNoInteractionTimeout&&this.state.queryString!==""&&(b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_ABANDONED_SEARCH},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),b("AdsTargetingLocationUtils").sendTypeaheadLog({event:b("AdsTargetingLocationLoggingEvents").ABANDONED_SEARCH,query:this.state.queryString})),this.setState({invalid:!1,duplicate:!1}),clearTimeout(this._inputBlurTimeout),clearTimeout(this._userNoInteractionTimeout),this._inputBlurTimeout=setTimeout(function(){this.isMounted()&&this.setState({inputHasFocus:!1})}.bind(this),i)},_onInputFocus:function(){clearTimeout(this._inputBlurTimeout),this.setState({inputHasFocus:!0}),this.props.onFocusTypeahead()},_onChangeMode:function(a){this.props.onAddLocationModeChange(a),this.refs.typeahead&&this.refs.typeahead.focusInput()},_onSelectAttempt:function(a){if(!a)return;this.setState({addedLocationsFromTypeahead:!0});a.getType()===b("LocationConstants").CUSTOM_LOCATIONS&&a.getAuxiliaryData().showSearchLabel?this._validateAddressAndSelectEntry(a):this._selectEntry(a)},_validateAddressAndSelectEntry:function(a){__p&&__p();this._saveTypeaheadSelection();this.setState({isValidating:!0});var c=b("AdsLocationSearchSource").getInstance();a=a.getAuxiliaryData().matchedText;c.validateAddress(a,function(a,c,d){__p&&__p();a&&b("FBLogger")("ads").warn("AdsLocationSearchSource returned error: %s",a);if(c){a=[].concat.call(this.props.geoLocations.custom_locations||[],this.props.excludedGeoLocations.custom_locations||[]);c=a.some(function(a){return b("AdsTargetingLocationUtils").areSameLatLng(a,d)});c?this.setState({isValidating:!1,duplicate:!0},function(){this._restoreTypeaheadSelection()}.bind(this)):b("promiseDone")(this._getSuggestedRadiusForLocation(d),function(a){this.setState({isValidating:!1}),this._transformAndSelectEntry(babelHelpers["extends"]({},d,{radius:a}))}.bind(this))}else{this.setState({isValidating:!1});var event=b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_GEOCODE_FAIL;a=this.refs.typeahead.props.queryString;b("AdsInterfacesLogger").log({eventName:event},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);b("AdsTargetingLocationUtils").sendTypeaheadLog({event:event,query:a,select_entry_json:null});this.setState({invalid:!0},function(){this._restoreTypeaheadSelection()}.bind(this))}}.bind(this))},_getSuggestedRadiusForLocation:function(a){return!this.props.shouldGetSuggestedRadius?b("Promise").resolve(b("LocationConstants").RadiusInfo.getAddressDefaultRadius()):b("AdsTargetingLocationUtils").fetchSuggestedRadiusOrDefault(a)},_transformAndSelectEntry:function(a){a=b("AdsTargetingLocationDataTransformer").getSearchableEntryFromGeoCoder(a);this._selectEntry(a)},_resetState:function(){clearTimeout(this._inputBlurTimeout),clearTimeout(this._selectorBlurTimeout),clearTimeout(this._userNoInteractionTimeout),this.setState({queryString:"",inputHasFocus:!0,selectorHasFocus:!1},function(){setTimeout(function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),i)}.bind(this))},_selectEntry:function(a){var event,c=b("AdsTargetingLocationDataTransformer").entriesToDataStore([a]);this.props.onUserSelectAttempt(a.getAuxiliaryData());this.props.onSelectAttempt(c,this.props.addLocationMode===b("LocationConstants").INCLUDE);this.props.addLocationMode===b("LocationConstants").INCLUDE?event=b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_SELECT:event=b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_SELECT_EXCLUDE;c=this.refs.typeahead&&this.refs.typeahead.props.queryString||u||a.getTitle();b("AdsInterfacesLogger").log({eventName:event},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);b("AdsTargetingLocationUtils").sendTypeaheadLog({event:event,query:c,select_position:a.getOrder(),select_entry_json:JSON.stringify(a.getAuxiliaryData())});u="";this._resetState()},_onInputChange:function(event){if(this.state.isValidating)return;var a=u===""&&event.target.value!=="";this.setState({queryString:event.target.value});u=event.target.value;a&&b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_START_TYPING},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)},_onKeyDown:function(a){if(this.state.isValidating)return;clearTimeout(this._userNoInteractionTimeout);this.setState({invalid:!1,duplicate:!1});a=a.keyCode;a===b("Keys").ESC&&(this.setState({queryString:""}),this.refs.typeahead.clearActiveEntries(),u="")},_onPaste:function(event){__p&&__p();if(this.state.isValidating)return;var a=this._getPastingText(event);if(this.props.enableBulkInput){this._shouldTriggerBulkInputDialog(a)?(b("AdsLocationBulkInputShowDialogFromTypeaheadDataAction").dispatch({text:a},{line:"805",module:"AdsTargetingLocationTypeahead.js"}),event.preventDefault()):b("SimpleNUXMessage").hasUserSeenMessage(o)||(b("SimpleNUXMessage").markMessageSeenByUser(o),b("AdsLocationBulkInputShowNuxDataAction").dispatch({},{line:"814",module:"AdsTargetingLocationTypeahead.js"}));return}if(this._isPastingMultipleLocations(a))this._pasteText=a,this.setState({isPasting:!0,inputHasFocus:!1,selectorHasFocus:!1}),this.refs.pasteDialog.show();else return;event.preventDefault()},_getPastingText:function(event){var a="";event.clipboardData&&event.clipboardData.getData&&(a=event.clipboardData.getData("Text")||event.clipboardData.getData("text/plain"));return a},_isPastingMultipleLocations:function(a){a=(a.split(/,|;/)||[]).filter(function(a){return!!a.trim()});return a.length>1},_onPasteDialogHide:function(){this.setState({isPasting:!1})},_onPasteTypeSelect:function(a){__p&&__p();var c=[];switch(a){case b("LocationConstants").COUNTRIES:case b("LocationConstants").REGIONS:case b("LocationConstants").ZIPS:c=b("nullthrows")(this._pasteText).split(/[,;\t\n]/).map(function(a){return a.trim()});break;case b("LocationConstants").CITIES:case b("LocationConstants").CUSTOM_LOCATIONS:c=b("nullthrows")(this._pasteText).split(/[;\r\n]/).map(function(a){return a.trim()});break}c=c.filter(function(a){return!!a});this.setState({locationType:a},function(){b("AdsLocationSearchSource").getInstance().validate(c,a,this._onPasteValidation,this.props.searchSourceOptions)}.bind(this))},_onPasteValidation:function(a,c){this.setState({isPasting:!1});b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_COPY_PASTE},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);c=b("LocationConstants").getEmptyLocations();c[this.state.locationType]=a;c=b("AdsTargetingLocationUtils").removeDuplicates(c);c=b("AdsTargetingLocationUtils").removeCommonLocations(this.props.geoLocations,this.props.excludedGeoLocations,c);this.props.onMultiSelectAttempt(c,this.props.addLocationMode===b("LocationConstants").INCLUDE,this.state.locationType)},_saveTypeaheadSelection:function(){var a=b("ReactDOM").findDOMNode(this.refs.typeahead);a=b("DOMQuery").find(a,"input");this._typeaheadSavedSelection=b("ReactInputSelection").getSelection(a)},_restoreTypeaheadSelection:function(){this.refs.typeahead.focusInput();var a=b("ReactDOM").findDOMNode(this.refs.typeahead);a=b("DOMQuery").find(a,"input");this._typeaheadSavedSelection&&b("ReactInputSelection").setSelection(a,this._typeaheadSavedSelection)},_shouldTriggerBulkInputDialog:function(a){return a.length>=j&&(a.split(",").length-1>=k||a.split(";").length-1>=l||(a.match(n)||[]).length>=m)},_showLocationSuggestion:function(){var a=b("AdsTargetingLocationUtils").getLocationsCount(this.props.geoLocations);return this.props.page!==null&&a>0&&!this._isPageLocationAdded()},_isPageLocationAdded:function(){if(!this.props.page)return!1;var a=this.props.page.location;if(!a)return!1;var c=this.props.geoLocations[b("LocationConstants").CUSTOM_LOCATIONS]||[];return c.some(function(c){return b("AdsTargetingLocationUtils").areSameLatLng(a,c)})},_getDisallowedLocationTypes:function(){return this.props.searchSourceOptions.disallowedLocationTypes},_getContextRef:function(){return this.refs.typeahead}});e.exports=c}),null);
__d("AdsTargetingLocationWarningMode",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ERROR_FETCHING_LOCATIONS:null,EXCLUDE_OVERLAP_IGNORE:null,EXCLUDE_REPLACE:null,INVALID_EXCLUDE:null,INCLUDE_REPLACE:null,INCLUDE_OVERWRITE_EXCLUDE:null,MAX_COUNTRIES:null,MAX_STORE_LOCATIONS:null,NO_INCLUDE_COUNTRY_POLYGON:null,NO_EXCLUDE_COUNTRY_POLYGON:null,NO_NEW_LOCATIONS_ADDED:null,NO_STORE_LOCATIONS_FOUND:null,TOO_MANY_LOCATIONS:null});e.exports=a}),null);
__d("AdsTargetingLocationTokenizer",["cx","AdsAPICampaignRecord","AdsApplicationUtils","AdsCertificationTargetingNoticeContainer.react","AdsCertificationUserHasCertified","AdsGeoLocationMetaInfoDataSource","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLocationClearNoticeStateDataAction","AdsLocationCopyPasteLocationsDataAction","AdsLocationDataFields","AdsLocationHasNoInclusionDataAction","AdsLocationHasTooManyCountriesDataAction","AdsLocationHasTooManyCountriesForMapDataAction","AdsLocationHasTooManyLocationsDataAction","AdsLocationInvalidExcludeDataAction","AdsLocationReplaceLocationsDataAction","AdsLocationSetSuggestedLocationNameDataAction","AdsLocationTargetingFocusTypeaheadDataAction","AdsPageLocationUtils","AdsTargetingLocationBulkInputContainer","AdsTargetingLocationConstants","AdsTargetingLocationDataTransformer","AdsTargetingLocationLoggingEvents","AdsTargetingLocationMapContainer.react","AdsTargetingLocationNoticeContainer","AdsTargetingLocationNoticeStore","AdsTargetingLocationPageSuggestion.react","AdsTargetingLocationPresenter","AdsTargetingLocationTypeahead","AdsTargetingLocationUtils","AdsTargetingLocationWarningMode","Arbiter","LocationConstants","React","StrSet","getByPath","joinClasses","nullthrows","promiseDone","AdsTargetingLocationTokenizerConfig"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsTargetingLocationUtils").isContained,j=b("AdsTargetingLocationUtils").isOverlappingLocationParent,k=b("AdsTargetingLocationUtils").getConflictingLocations,l=b("AdsTargetingLocationUtils").getLocationsCount,m=b("AdsTargetingLocationUtils").getUniqueCountries,n=b("AdsTargetingLocationUtils").mergeLocations,o=b("AdsTargetingLocationUtils").subtractLocations;c=b("React").PropTypes;var p=!1;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={showWarning:!1,warningMode:null,newLocations:null,oldLocations:null,currentLocationState:null,addLocationMode:b("LocationConstants").INCLUDE,showPastedLocationsInfo:!1,pastedLocationsSuccess:[],pastedLocationsFail:[],pastedLocationType:null,shouldShowMap:!!this.props.initiallyShowMap,mapFitLocations:n(this.props.geoLocations,this.props.excludedGeoLocations),highlightLocations:{},suggestedCountryGroup:null,suggestedMultiCityLocation:null,newLocationKey:null},this.$11=function(){__p&&__p();var a=this.props.page;if(!a)return;var c=b("AdsTargetingLocationDataTransformer").getDataStoreFormatFromPage(a);b("promiseDone")(b("AdsPageLocationUtils").getPageAddressFields(a.id).then(function(a){a&&(c=b("AdsTargetingLocationDataTransformer").fillPageAddressWithMetaInfo(c,a));return b("AdsTargetingLocationUtils").fetchSuggestedRadiusOrDefault(c)}),function(a){var d;a=(d={},d[b("LocationConstants").CUSTOM_LOCATIONS]=[babelHelpers["extends"]({},c,{radius:a})],d);this.onSelectAttempt(a,!0)}.bind(this))}.bind(this),this.$25=function(){b("AdsLocationTargetingFocusTypeaheadDataAction").dispatch({},{line:"545",module:"AdsTargetingLocationTokenizer.js"}),this.$24()}.bind(this),this.$24=function(){if(!this.props.enableMap)return;this.state.shouldShowMap||this.setState({shouldShowMap:!0,mapFitLocations:n(this.props.geoLocations,this.props.excludedGeoLocations)})}.bind(this),this.$12=function(a){p=!0,this.$32(a)}.bind(this),this.$30=function(a){this.onSelectAttempt(a,this.state.addLocationMode===b("LocationConstants").INCLUDE)}.bind(this),this.$31=function(a,c){__p&&__p();var event;if(a==="DELETE"){var d={};d[c.type]=[c.type===b("LocationConstants").COUNTRIES?c.key:babelHelpers["extends"]({},c)];event=b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_DELETE;this.onRemove(d);this.$32({})}else a==="INCLUDE"?(event=b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_INCLUDE,this.$17(c,!0)):(event=b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MAP_EXCLUDE,this.$17(c,!1));d=babelHelpers["extends"]({},c);delete d.polygons;b("AdsInterfacesLogger").log({eventName:event},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}.bind(this),this.$17=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},a),e={},f=babelHelpers["extends"]({},this.props.geoLocations),g=babelHelpers["extends"]({},this.props.excludedGeoLocations);if(!c&&d.type===b("LocationConstants").CUSTOM_LOCATIONS&&d.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY){e[b("LocationConstants").CUSTOM_LOCATIONS]=[d];f=o(f,e);var h=d.country?b("LocationConstants").COUNTRIES:b("LocationConstants").COUNTRY_GROUPS;g[h]||(g[h]=[]);g[h].push(h===b("LocationConstants").COUNTRIES?d.key:d);this.$28(f,g);this.props.onLocationsChange(f,g,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation);return}e[d.type]=[d.type===b("LocationConstants").COUNTRIES?d.key:d];h=!1;if(c){if(i(f,e))return;d.included=!0;g=o(g,e);h=!0}else{if(i(g,e))return;d.included=!1;f=o(f,e)}if(a.included&&(d.type===b("LocationConstants").COUNTRIES||d.type===b("LocationConstants").COUNTRY_GROUPS)){c=g[b("LocationConstants").CUSTOM_LOCATIONS]?g[b("LocationConstants").CUSTOM_LOCATIONS].find(function(a){return a.key===d.key&&a.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY}):null;if(c){a={};a[b("LocationConstants").CUSTOM_LOCATIONS]=[c];g=o(g,a)}}this.$33(f,g,e,h)}.bind(this),this.$18=function(a,c,d,e){__p&&__p();c&&(a=this.$34(a));var f=babelHelpers["extends"]({},this.props.geoLocations),g=babelHelpers["extends"]({},this.props.excludedGeoLocations),h=babelHelpers["extends"]({},a),i={};i[h.type]=[h.type===b("LocationConstants").COUNTRIES?h.key:h];var j={},k;if(c!==null){var l={included:c,type:b("LocationConstants").CUSTOM_LOCATIONS,custom_type:b("LocationConstants").CUSTOM_TYPE_MULTI_CITY,key:h.key,max_population:h.max_population?h.max_population:b("AdsTargetingLocationConstants").maxPopulationThreshold};h.type===b("LocationConstants").COUNTRIES||h.country?k=babelHelpers["extends"]({country:h.key,min_population:h.min_population?h.min_population:b("AdsTargetingLocationConstants").minPopulationThresholdForCountries},l):(h.type===b("LocationConstants").COUNTRY_GROUPS||h.country_group)&&(k=babelHelpers["extends"]({country_group:h.key,country_codes:h.country_codes,min_population:h.min_population?h.min_population:b("AdsTargetingLocationConstants").minPopulationThresholdForCountryGroups},l));j[b("LocationConstants").CUSTOM_LOCATIONS]=[k]}else if(a.country)j[b("LocationConstants").COUNTRIES]=[h.country];else if(a.country_group){if(!d){var m=a.country_group;b("promiseDone")(b("AdsGeoLocationMetaInfoDataSource").getMetaInfoForCountryGroups([m]),function(b){b=b.country_groups;b&&m in b&&(this.$18(a,c,b[m],e),e&&(f=babelHelpers["extends"]({},this.props.geoLocations),g=babelHelpers["extends"]({},this.props.excludedGeoLocations),this.$33(f,g,e,!1)))}.bind(this));return}j[b("LocationConstants").COUNTRY_GROUPS]=[d]}if(c!==!1)f=o(f,i);else if(h.type===b("LocationConstants").CUSTOM_LOCATIONS&&h.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY){this.$18(a,null,d,j);if(a.country_group)return;f=babelHelpers["extends"]({},this.props.geoLocations);g=babelHelpers["extends"]({},this.props.excludedGeoLocations)}else if(!h.included){l=null;h.type===b("LocationConstants").COUNTRIES?l=b("LocationConstants").COUNTRIES:h.type===b("LocationConstants").COUNTRY_GROUPS&&(l=b("LocationConstants").COUNTRY_GROUPS);if(l!==null){i={};i[l]=[l===b("LocationConstants").COUNTRIES?h.key:h];g=o(g,i);this.$33(f,g,i,!0);f=babelHelpers["extends"]({},this.props.geoLocations);g=babelHelpers["extends"]({},this.props.excludedGeoLocations)}}this.$33(f,g,j,c!==!1)}.bind(this),this.$16=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},this.props.geoLocations),e=babelHelpers["extends"]({},this.props.excludedGeoLocations),f=babelHelpers["extends"]({},e);Object.keys(e).forEach(function(d){__p&&__p();f[d]=e[d].filter(function(e){__p&&__p();if(!a.key)return!0;if(!e.key)return e!==a.key;else if(a.key===e.key)return!1;if(d!==b("LocationConstants").CITIES)return!0;if(a.type===b("LocationConstants").CUSTOM_LOCATIONS&&a.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY)return!b("AdsTargetingLocationUtils").checkIfMatchedPopulationWithMultiCityArea(a,e);if(a.cities){var f=a.cities.find(function(a){return e.key===a.id.toString()});return!f||f.population<a.min_population||f.population>a.max_population}if(!c)if(a.type===b("LocationConstants").COUNTRIES)return a.key!==e.country;else if(a.type===b("LocationConstants").COUNTRY_GROUPS){f=a.country_codes.find(function(a){return a===e.country});return f===void 0}return!0})});this.$28(d,f);this.props.onLocationsChange(d,f,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)}.bind(this),this.$14=function(a,c,d){__p&&__p();try{var e=babelHelpers["extends"]({},this.props.geoLocations),f=babelHelpers["extends"]({},this.props.excludedGeoLocations),g=babelHelpers["extends"]({},d),h={};h[g.type]=[g];g.included?e=o(e,h):f=o(f,h);h=babelHelpers["extends"]({},d);h.min_population=a;h.max_population=c;var i={};i[h.type]=[h];this.$33(e,f,i,g.included)}catch(f){h={newMinPopulation:a,newMaxPopulation:c,oldMinPopulation:d?d.min_population:null,oldMaxPopulation:d?d.max_population:null,country:d?d.country:null,isIncluded:d?d.included:null};b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MULTICITY_CITY_POPULATION_FILTER_ERROR,data:(e={},e[b("AdsInterfacesLoggerConfigColumns").TARGETING_UI_EVENT_DATA]=JSON.stringify(h),e)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}}.bind(this),this.$15=function(a,b){if(this.props.disallowRadiusSelection)return;var c=a.type,d={},e=babelHelpers["extends"]({},this.props.geoLocations),f=babelHelpers["extends"]({},this.props.excludedGeoLocations);b?e[c]=this.$36(e[c],a):f[c]=this.$36(f[c],a);b=(b?e[c]:f[c]).find(function(b){return b.key===a.key});d[c]=[b];this.$32(d);this.props.onLocationsChange(e,f,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)}.bind(this),this.$19=function(){__p&&__p();b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"1058",module:"AdsTargetingLocationTokenizer.js"});var a=b("AdsTargetingLocationLoggingEvents");if(this.state.suggestedCountryGroup){var c;b("AdsInterfacesLogger").log({eventName:a.GEO_LOCATION_COUNTRYGROUP_SUGGESTION_TOOLTIP_CLICKED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);c=babelHelpers["extends"]({},b("LocationConstants").getEmptyLocations(),(c={},c[b("LocationConstants").COUNTRY_GROUPS]=[this.state.suggestedCountryGroup],c));this.setState({suggestedCountryGroup:null});this.onSelectAttempt(c,!0)}else if(this.state.suggestedMultiCityLocation){b("AdsInterfacesLogger").log({eventName:a.GEO_LOCATION_MULTICITY_SUGGESTION_TOOLTIP_CLICKED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);c=babelHelpers["extends"]({},b("LocationConstants").getEmptyLocations(),(a={},a[b("LocationConstants").CUSTOM_LOCATIONS]=[this.state.suggestedMultiCityLocation],a));this.setState({suggestedMultiCityLocation:null});this.onSelectAttempt(c,!0)}}.bind(this),this.$20=function(){this.$2();b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"1096",module:"AdsTargetingLocationTokenizer.js"});b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!1,oldLocations:null,newLocations:null},{line:"1097",module:"AdsTargetingLocationTokenizer.js"});var a=b("nullthrows")(this.state.currentLocationState),c=babelHelpers["extends"]({},a.included,{location_types:this.props.geoLocations.location_types}),d=a.excluded;this.setState({currentLocationState:{included:c,excluded:d}},function(){this.$28(a.included,a.excluded),this.props.onLocationsChange(a.included,a.excluded,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)}.bind(this));this.$32(n(c,d))}.bind(this),this.$26=function(a,c,d){__p&&__p();b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"1143",module:"AdsTargetingLocationTokenizer.js"});this.$2();this.$3();var e,f,g;e=this.props.geoLocations;f=this.props.excludedGeoLocations;var h=new(b("StrSet"))(m(a).concat(m(e)).concat(m(f)));if(this.$37(h)){this.$35(b("AdsTargetingLocationWarningMode").MAX_COUNTRIES,a,c?e:f);b("AdsLocationHasTooManyCountriesDataAction").dispatch({hasTooManyCountries:!0,ignoredLocations:a},{line:"1161",module:"AdsTargetingLocationTokenizer.js"});return}h=b("AdsTargetingLocationUtils").removeOverlapping(a,c,e,f);e=h[0];f=h[1];g=h[2];h=h[3];var i=o(a,c?g:h);c?g=o(g,a):h=o(h,a);l(g)>0?b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!0,oldLocations:g,newLocations:a},{line:"1192",module:"AdsTargetingLocationTokenizer.js"}):l(h)>0&&b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!0,oldLocations:h,newLocations:a},{line:"1198",module:"AdsTargetingLocationTokenizer.js"});d&&b("AdsLocationCopyPasteLocationsDataAction").dispatch({validLocations:i[d],invalidLocationNames:[]},{line:"1206",module:"AdsTargetingLocationTokenizer.js"});this.$28(e,f);this.$32(a);this.props.onLocationsChange(e,f,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)}.bind(this),this.onSelectAttempt=function(a,c){b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"1223",module:"AdsTargetingLocationTokenizer.js"});this.$3();var d=babelHelpers["extends"]({},this.props.geoLocations),e=babelHelpers["extends"]({},this.props.excludedGeoLocations);this.$33(d,e,a,c)}.bind(this),this.onReplaceAttempt=function(a,c){__p&&__p();b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"1231",module:"AdsTargetingLocationTokenizer.js"});this.$2();this.$3();var d=babelHelpers["extends"]({},this.props.geoLocations),e=babelHelpers["extends"]({},this.props.excludedGeoLocations),f=new(b("StrSet"))(m(a).concat(m(d)).concat(m(e)));if(this.$37(f)){this.$35(b("AdsTargetingLocationWarningMode").MAX_COUNTRIES,a,c?d:e);b("AdsLocationHasTooManyCountriesDataAction").dispatch({hasTooManyCountries:!0,ignoredLocations:a},{line:"1248",module:"AdsTargetingLocationTokenizer.js"});return}c?d=Object.assign(d,a):e=Object.assign(e,a);this.$28(d,e);this.$32(a);this.props.onLocationsChange(d,e,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)}.bind(this),this.onRemove=function(a){__p&&__p();b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"1541",module:"AdsTargetingLocationTokenizer.js"});this.$2();this.setState({showPastedLocationsInfo:!1});var c=babelHelpers["extends"]({},this.props.geoLocations),d=babelHelpers["extends"]({},this.props.excludedGeoLocations);c=o(c,a);var e=l(c)===0&&!this.props.allowExclusionsWithoutInclusions;d=e?o(d,d):o(d,a);e=this.$40(d,a);d=o(d,e);this.$28(c,d);this.props.onLocationsChange(c,d,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)}.bind(this),this.$27=function(a){this.setState({newLocationKey:b("AdsTargetingLocationUtils").getUniqueKey(a),showPastedLocationsInfo:!1})}.bind(this),this.$23=function(a){var c=a===b("LocationConstants").INCLUDE?b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CLICK_INCLUDE:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CLICK_EXCLUDE;b("AdsInterfacesLogger").log({eventName:c},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);this.setState({addLocationMode:a})}.bind(this),this.$13=function(a,b){b?this.setState({highlightLocations:a}):this.setState({highlightLocations:{}})}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$1=b("Arbiter").subscribe(b("LocationConstants").CLEAR_WARNING,function(a){return this.$2()}.bind(this)),b("AdsLocationClearNoticeStateDataAction").dispatch({},{line:"242",module:"AdsTargetingLocationTokenizer.js"}),this.$3()};a.prototype.componentWillUnmount=function(){b("Arbiter").unsubscribe(this.$1)};a.prototype.componentDidUpdate=function(){p=!1};a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_4x6j",this.props.className)},this.$4(),this.$5(),this.$6(),this.$7(),this.$8(),this.$9(),this.$10())};a.prototype.$9=function(){var a=b("getByPath")(this.props,["geoLocations","countries"],[]);return(b("AdsApplicationUtils").isPowerEditor()||b("AdsApplicationUtils").isBoostedPost())&&!b("AdsCertificationUserHasCertified").HAS_USER_CERTIFIED&&b("AdsCertificationUserHasCertified").HAS_USER_SEEN_MEGAPHONE?b("React").createElement(b("AdsCertificationTargetingNoticeContainer.react"),{targetingCountries:a}):null};a.prototype.$4=function(){return this.props.shouldShowPageLocationSuggestion&&b("getByPath")(this.props,["page","location"])&&l(this.props.geoLocations)===0?b("React").createElement(b("AdsTargetingLocationPageSuggestion.react"),{page:b("nullthrows")(this.props.page),onClick:this.$11}):null};a.prototype.$5=function(){var a=!!this.props.enableMap&&!b("AdsTargetingLocationNoticeStore").getHasTooManyLocations()&&!b("AdsTargetingLocationNoticeStore").getHasTooManyCountriesForMap();return b("React").createElement(b("AdsTargetingLocationPresenter"),{alwaysShowXOut:this.props.alwaysShowXOut,dao:this.props.dao,disallowRadiusSelection:this.props.disallowRadiusSelection,enableMap:a,enableMultiCityExclusion:!!this.props.enableMultiCityExclusion,enableMultiCityTargeting:!!this.props.enableMultiCityTargeting,excluded:this.props.excludedGeoLocations,hideLocationGroupHeader:this.props.hideLocationGroupHeader,hideLocationListMenu:this.props.hideLocationListMenu,included:this.props.geoLocations,minRadius:this.props.minRadius,newLocationKey:this.state.newLocationKey||"",onlyInclusion:!!this.props.onlyInclusion,radiusEditorAlignment:this.props.radiusEditorAlignment,radiusEditorHelpTextAlignment:this.props.radiusEditorHelpTextAlignment,radiusEditorHelpTextPosition:this.props.radiusEditorHelpTextPosition,onClickShowOnMap:this.$12,onLocationHighlightChange:this.$13,onPopulationChange:this.$14,onRadiusChange:this.$15,onRemoveAllExclusionFromArea:this.$16,onRemoveAttempt:this.onRemove,onSwitchInclusion:this.$17,onSwitchMultiCityState:this.$18})};a.prototype.$7=function(){return!this.props.shouldShowNotice?null:b("React").createElement(b("AdsTargetingLocationNoticeContainer"),{geoLocations:this.props.geoLocations,suggestedLocation:this.state.suggestedCountryGroup||this.state.suggestedMultiCityLocation||void 0,onSuggestedLocationClick:this.$19,onUndo:this.$20})};a.prototype.$6=function(){return!this.$21(this.props.geoLocations)?b("React").createElement("div",{className:"_3231"}):b("React").createElement(b("AdsTargetingLocationTypeahead"),{accountID:this.props.accountID,addLocationMode:this.state.addLocationMode,dao:this.props.dao,disabledIncludeExcludeSelector:this.props.disableGeoLocationTargetingEditor,disabledLocationTypeahead:this.props.disableGeoLocationTargetingEditor,enableBulkInput:this.$22(),enableLocationBrowser:this.props.enableLocationBrowser,enableMultiCityTargeting:this.props.enableMultiCityTargeting,excludedGeoLocations:this.props.excludedGeoLocations,geoLocations:this.props.geoLocations,hideAdsHelpLink:this.props.hideAdsHelpLink,hideTip:this.props.hideTypeaheadTip,maxNumLocations:this.props.maxNumLocations,onlyInclusion:this.props.onlyInclusion,page:this.props.page,searchSourceOptions:this.props.searchSourceOptions,shouldGetSuggestedRadius:this.props.shouldGetSuggestedRadius,variantIndex:this.props.variantIndex,shouldShowNuxTooltip:this.props.shouldShowNuxTooltip,shouldShowPageLocationSuggestion:this.props.shouldShowPageLocationSuggestion,onAddLocationModeChange:this.$23,onBrowseButtonMouseDown:this.$24,onFocusTypeahead:this.$25,onMultiSelectAttempt:this.$26,onRemoveAttempt:this.onRemove,onReplaceAttempt:this.onReplaceAttempt,onSelectAttempt:this.onSelectAttempt,onUsePageLocation:this.$11,onUserSelectAttempt:this.$27})};a.prototype.$10=function(){return this.$22()?b("React").createElement(b("AdsTargetingLocationBulkInputContainer"),{accountID:this.props.accountID,addLocationMode:this.state.addLocationMode,disallowedLocationTypes:this.props.searchSourceOptions.disallowedLocationTypes,getMaxTargetLocationsCountOverride:this.props.getMaxTargetLocationsCountOverride,onAddLocations:this.$26,enableLocationCluster:this.props.enableLocationCluster}):null};a.prototype.$22=function(){return this.props.enableBulkInput&&this.$21(this.props.geoLocations)&&!this.props.disableGeoLocationTargetingEditor};a.prototype.$28=function(a,c){var d=l(a)+l(c)>b("AdsLocationDataFields").map_render_locations_limit,e=b("AdsTargetingLocationNoticeStore").getHasTooManyLocations();e&&!d&&b("AdsLocationHasTooManyLocationsDataAction").dispatch({hasTooManyLocations:!1},{line:"468",module:"AdsTargetingLocationTokenizer.js"});var f=b("AdsTargetingLocationTokenizerConfig");f=f.mapRenderCountriesLimit;a=(a.countries?a.countries.length:0)+(c.countries?c.countries.length:0);c=a>f;a=b("AdsTargetingLocationNoticeStore").getHasTooManyCountriesForMap();!a&&c?b("AdsLocationHasTooManyCountriesForMapDataAction").dispatch({hasTooManyCountriesForMap:!0,countryMapThreshold:f},{line:"481",module:"AdsTargetingLocationTokenizer.js"}):a&&!c&&b("AdsLocationHasTooManyCountriesForMapDataAction").dispatch({hasTooManyCountriesForMap:!1},{line:"486",module:"AdsTargetingLocationTokenizer.js"});!c&&!e&&d&&b("AdsLocationHasTooManyLocationsDataAction").dispatch({hasTooManyLocations:!0},{line:"497",module:"AdsTargetingLocationTokenizer.js"})};a.prototype.$8=function(){return this.props.enableMap&&this.state.shouldShowMap?b("React").createElement("div",{className:"_5f76"},b("React").createElement(b("AdsTargetingLocationMapContainer.react"),{addLocationMode:this.state.addLocationMode,dao:this.props.dao,disableCollapseButton:this.props.disableCollapseButton,disableScrollWheelZoom:this.props.disableScrollWheelZoom,enableDropPin:this.$29(),excludedLocations:this.props.excludedGeoLocations,fitLocations:this.state.mapFitLocations,forceExpandMap:p,highlightLocations:this.state.highlightLocations,locations:this.props.geoLocations,mapHeight:b("LocationConstants").MAP_DEFAULT_HEIGHT,onlyInclusion:!!this.props.onlyInclusion,shouldGetSuggestedRadius:this.props.shouldGetSuggestedRadius,tooManyLocations:b("AdsTargetingLocationNoticeStore").getHasTooManyLocations()||b("AdsTargetingLocationNoticeStore").getHasTooManyCountriesForMap(),onAddLocationFromMap:this.$30,onPopupMenuItemSelect:this.$31})):null};a.prototype.$29=function(){return this.props.enableDropPin&&!this.props.searchSourceOptions.disallowedLocationTypes.has(b("LocationConstants").CUSTOM_LOCATIONS)&&this.$21(this.props.geoLocations)};a.prototype.$32=function(a){if(!this.props.enableMap)return;this.setState({shouldShowMap:!0,mapFitLocations:a})};a.prototype.$34=function(a){var c=babelHelpers["extends"]({},a),d=babelHelpers["extends"]({},this.props.excludedGeoLocations);d=d[b("LocationConstants").CUSTOM_LOCATIONS]?d[b("LocationConstants").CUSTOM_LOCATIONS].find(function(c){return c.key===a.key&&c.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY}):null;d&&(c.min_population=d.min_population,c.max_population=d.max_population);this.$16(a,!0);return c};a.prototype.$2=function(){this.setState({showWarning:!1})};a.prototype.$35=function(a,b,c){this.setState({showWarning:!0,warningMode:a,newLocations:b,oldLocations:c})};a.prototype.$36=function(a,b){return a.map(function(a){var c=babelHelpers["extends"]({},a);a.key===b.key&&(c.radius=b.radius);return c})};a.prototype.$3=function(){var a={},c={};b("LocationConstants").locationTypes.forEach(function(b){a[b]=this.props.geoLocations[b]||[],c[b]=this.props.excludedGeoLocations[b]||[]}.bind(this));this.setState({currentLocationState:{included:a,excluded:c}})};a.prototype.$37=function(a){return a.count()>b("LocationConstants").MAX_COUNTRIES};a.prototype.$21=function(a){return l(a)<this.props.maxNumLocations};a.prototype.$38=function(a){__p&&__p();b("promiseDone")(b("AdsGeoLocationMetaInfoDataSource").getMetaInfoForCountryGroups(b("LocationConstants").SUGGESTED_COUNTRY_GROUPS_KEYS),function(c){__p&&__p();var d=this,e=c.country_groups;c=function(c){var f=e[c];if(b("AdsTargetingLocationUtils").checkIfCountrySetContainsCountries(new(b("StrSet"))(f.country_codes),a)){d.setState({suggestedCountryGroup:f},function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_COUNTRYGROUP_SUGGESTION_TOOLTIP_SURFACED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),b("AdsLocationSetSuggestedLocationNameDataAction").dispatch({hasSuggestedLocation:!0,suggestedLocationName:f.name},{line:"1295",module:"AdsTargetingLocationTokenizer.js"})});return{v:void 0}}};for(var f in e){var g=c(f);if(typeof g==="object")return g.v}}.bind(this))};a.prototype.$39=function(a,c){__p&&__p();var d=b("AdsTargetingLocationUtils").getSuggestedCountryForMultiCityLocation(a.map(function(a){return a.country||""}));a=b("AdsTargetingLocationUtils").getSuggestedCountryGroupForMultiCityLocation(a.map(function(a){return a.country||""}),c);if(!d&&!a)return;if(!this.props.enableMultiCityTargeting)return;c={};var e=d||a,f=e?e.key:"",g={custom_type:b("LocationConstants").CUSTOM_TYPE_MULTI_CITY,included:!0,type:b("LocationConstants").CUSTOM_LOCATIONS,key:f};c[b("LocationConstants").CUSTOM_LOCATIONS]=[g];b("promiseDone")(b("AdsGeoLocationMetaInfoDataSource").getMetaInfo(c),function(a){a=a.custom_locations[f];if(a.name){var c=[];a&&(c=a.cities||[]);this.setState({suggestedMultiCityLocation:babelHelpers["extends"]({cities:c,name:a.name},g,e)},function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_MULTICITY_SUGGESTION_TOOLTIP_SURFACED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP),b("AdsLocationSetSuggestedLocationNameDataAction").dispatch({hasSuggestedLocation:!0,suggestedLocationName:b("nullthrows")(this.state.suggestedMultiCityLocation).name||""},{line:"1362",module:"AdsTargetingLocationTokenizer.js"})}.bind(this))}}.bind(this))};a.prototype.$33=function(a,c,d,e){__p&&__p();this.$2();var f=new(b("StrSet"))(m(d,!1).concat(m(a,!1)).concat(m(c,!1)));if(this.$37(f)){this.$35(b("AdsTargetingLocationWarningMode").MAX_COUNTRIES,d,e?a:c);b("AdsLocationHasTooManyCountriesDataAction").dispatch({hasTooManyCountries:!0,ignoredLocations:d},{line:"1392",module:"AdsTargetingLocationTokenizer.js"});return}f=k(d,a,c);var g=l(f.included)>0,h=l(f.excluded)>0;if(e){a=n(a,d);if(g){a=o(a,f.included);e=this.$40(c,f.included);c=o(c,e);this.$35(b("AdsTargetingLocationWarningMode").INCLUDE_REPLACE,d,f.included);b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!0,oldLocations:f.included,newLocations:d},{line:"1418",module:"AdsTargetingLocationTokenizer.js"})}h&&(j(d,f.excluded)||(c=o(c,f.excluded),this.$35(b("AdsTargetingLocationWarningMode").INCLUDE_OVERWRITE_EXCLUDE,d,f.excluded),b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!0,oldLocations:f.excluded,newLocations:d},{line:"1434",module:"AdsTargetingLocationTokenizer.js"})))}else{if(l(a)===0&&!this.props.allowExclusionsWithoutInclusions){this.$35(b("AdsTargetingLocationWarningMode").INVALID_EXCLUDE,d,null);b("AdsLocationHasNoInclusionDataAction").dispatch({hasNoInclusion:!0},{line:"1452",module:"AdsTargetingLocationTokenizer.js"});return}c=n(c,d);if(g&&j(d,f.included)){a=o(a,f.included);this.$35(b("AdsTargetingLocationWarningMode").EXCLUDE_OVERLAP_IGNORE,d,f.included);b("AdsLocationInvalidExcludeDataAction").dispatch({hasInvalidExclude:!0,ignoredLocations:f.included},{line:"1468",module:"AdsTargetingLocationTokenizer.js"});return}h&&(c=o(c,f.excluded),this.$35(b("AdsTargetingLocationWarningMode").EXCLUDE_REPLACE,d,f.excluded),b("AdsLocationReplaceLocationsDataAction").dispatch({hasReplacedLocations:!0,oldLocations:f.excluded,newLocations:d},{line:"1484",module:"AdsTargetingLocationTokenizer.js"}))}e=new(b("StrSet"))(m({countries:d.countries}).concat(m({countries:a.countries})).concat(m({countries:c.countries})));!this.props.searchSourceOptions.disallowedLocationTypes.has(b("LocationConstants").COUNTRY_GROUPS)&&this.state.suggestedCountryGroup===null&&e.count()>=b("LocationConstants").SUGGEST_LOCATION_COUNTRIES_THRESHOLD&&b("AdsTargetingLocationUtils").getLocationsCount(a)>1&&this.$38(e);if(this.state.suggestedMultiCityLocation===null&&b("AdsTargetingLocationUtils").getLocationsCount(a)>1){g=(d.cities||[]).concat(a.cities);var i=Array.from(new Set(g));b("promiseDone")(b("AdsGeoLocationMetaInfoDataSource").getMetaInfoForCountryGroups(b("LocationConstants").SUGGESTED_COUNTRY_GROUPS_KEYS),function(a){a=a.country_groups;this.$39(i,a)}.bind(this))}this.$28(a,c);this.$32(d);this.props.onLocationsChange(a,c,this.props.variantIndex,this.props.campaignIDs,this.props.eligibilityInformation)};a.prototype.$40=function(a,c){__p&&__p();var d={},e=a[b("LocationConstants").CUSTOM_LOCATIONS];if(!e)return d;d[b("LocationConstants").CUSTOM_LOCATIONS]=[];Object.keys(c).forEach(function(a){if(a!==b("LocationConstants").COUNTRIES&&a!==b("LocationConstants").COUNTRY_GROUPS)return;(c[a]||[]).forEach(function(a){var c=e.find(function(c){return(a===c.key||a.key===c.key)&&c.custom_type===b("LocationConstants").CUSTOM_TYPE_MULTI_CITY});c&&d[b("LocationConstants").CUSTOM_LOCATIONS].push(c)})});return d};a.propTypes={accountID:c.string,alwaysShowXOut:c.bool,campaign:c.instanceOf(b("AdsAPICampaignRecord")),campaignIDs:c.array,dao:c.object.isRequired,disableCollapseButton:c.bool,disableGeoLocationTargetingEditor:c.bool,disableScrollWheelZoom:c.bool,disallowRadiusSelection:c.bool,eligibilityInformation:c.object,enableBulkInput:c.bool.isRequired,enableDropPin:c.bool.isRequired,enableLocationBrowser:c.bool,enableLocationCluster:c.bool,enableMap:c.bool,enableMultiCityExclusion:c.bool,enableMultiCityTargeting:c.bool,enablePageLocationTargeting:c.bool,excludedGeoLocations:c.object.isRequired,geoLocations:c.object.isRequired,getMaxTargetLocationsCountOverride:c.func,hideAdsHelpLink:c.bool,hideLocationGroupHeader:c.bool,hideLocationListMenu:c.bool,hideTypeaheadTip:c.bool,initiallyShowMap:c.bool,maxNumLocations:c.number.isRequired,minRadius:c.func,onlyInclusion:c.bool,page:c.object,radiusType:c.string,searchSourceOptions:c.shape({disallowedLocationTypes:c.object.isRequired}).isRequired,shouldGetSuggestedRadius:c.bool,shouldShowNotice:c.bool,shouldShowNuxTooltip:c.bool,shouldShowPageLocationSuggestion:c.bool,onLocationsChange:c.func.isRequired};a.defaultProps={disableGeoLocationTargetingEditor:!1,disallowRadiusSelection:!1,enableMultiCityExclusion:!1,enableMultiCityTargeting:!1,searchSourceOptions:{disallowedLocationTypes:new Set()},enableLocationBrowser:!0,enableLocationCluster:!1,enableBulkInput:!1,enableMap:!1,enableDropPin:!0,maxNumLocations:Infinity,shouldShowNotice:!0,shouldShowNuxTooltip:!0,onlyInclusion:!1,variantIndex:null};e.exports=a}),null);
__d("AdsTargetingLocationTypeSelector",["cx","AdsInterfacesLogger","AdsTargetingLocationLoggingEvents","AdsTargetingLocationTypeStrings","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","LocationConstants","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;function i(a){__p&&__p();var c="";switch(a){case b("LocationConstants").TYPE_ALL:c=b("AdsTargetingLocationTypeStrings").TYPE_ALL_LABEL;break;case b("LocationConstants").TYPE_HOME:c=b("AdsTargetingLocationTypeStrings").TYPE_HOME_LABEL;break;case b("LocationConstants").TYPE_RECENT:c=b("AdsTargetingLocationTypeStrings").TYPE_RECENT_LABEL;break;case b("LocationConstants").TYPE_TRAVELING:c=b("AdsTargetingLocationTypeStrings").TYPE_TRAVELING_LABEL;break}return c}function j(a){__p&&__p();var c="";switch(a){case b("LocationConstants").TYPE_ALL:c=b("AdsTargetingLocationTypeStrings").TYPE_ALL_TOOLTIP;break;case b("LocationConstants").TYPE_HOME:c=b("AdsTargetingLocationTypeStrings").TYPE_HOME_TOOLTIP;break;case b("LocationConstants").TYPE_RECENT:c=b("AdsTargetingLocationTypeStrings").TYPE_RECENT_TOOLTIP;break;case b("LocationConstants").TYPE_TRAVELING:c=b("AdsTargetingLocationTypeStrings").TYPE_TRAVELING_TOOLTIP;break}return c}d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.$3=function(a){this.$1(a)}.bind(this),this.state=this.getTargetingLocationConfig(a)}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.getTargetingLocationConfig(a))};a.prototype.componentDidUpdate=function(){this.props.geoLocationTypes.length===0&&this.$1(this.state.selectedValue)};a.prototype.render=function(){var a="_2ypo",c=this.state.possibleTypes.map(function(a){return this.$2(a)}.bind(this));return b("React").createElement("div",{className:a},b("React").createElement(b("FDSDropdownSelector.react"),{isDisabled:this.props.disabledLocationTypeSelector,value:this.state.selectedValue,onChange:this.$3,onOpen:this.$4},c))};a.prototype.$2=function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:"option_"+a,tooltip:j(a),value:a},i(a))};a.prototype.$4=function(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_EXPLORE_TARGETING_TYPE},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};a.prototype.$1=function(a){a=a.split(",");b("AdsInterfacesLogger").log({eventName:b("AdsTargetingLocationLoggingEvents").GEO_LOCATION_CHANGE_TARGETING_TYPE},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);this.props.onLocationTypesChange(a)};a.prototype.getTargetingLocationConfig=function(a){var c=[];a.disallowAll||(c=c.concat([b("LocationConstants").TYPE_ALL]));a.disallowHome||(c=c.concat([b("LocationConstants").TYPE_HOME]));a.disallowRecent||(c=c.concat([b("LocationConstants").TYPE_RECENT]));a.disallowTravelling||(c=c.concat([b("LocationConstants").TYPE_TRAVELING]));a.geoLocationTypes.length>0?a=a.geoLocationTypes.slice().sort().join(","):a=c.includes(b("LocationConstants").TYPE_HOME)?b("LocationConstants").TYPE_HOME:c[0];c.indexOf(a)<0&&c.push(a);return{possibleTypes:c,selectedValue:a}};a.propTypes={disallowAll:c.bool,disallowHome:c.bool,disallowRecent:c.bool,disallowTravelling:c.bool,geoLocationTypes:c.array.isRequired,size:c.oneOf(["medium","large"]),onLocationTypesChange:c.func.isRequired};a.defaultProps={disabledLocationTypeSelector:!1,disallowAll:!1,disallowHome:!1,disallowRecent:!1,disallowTravelling:!1};e.exports=a}),null);
__d("AdsTargetingMissingLocationNotice.react",["cx","fbt","AdsAPICampaignPaths","AdsCCCardComponent.react","AdsCCCategory","AdsCCCategoryConfig","AdsCCContentComponent.react","AdsErrorUtils","React","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCCategoryConfig").CardLayout;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){if(!this.props.errors)return null;var a=this.$1();if(a.length===0)return null;a=a.map(function(a,c){return b("React").createElement(b("AdsCCContentComponent.react"),{key:a,messageID:"missing_location_error"+c,textData:[{type:"PARAGRAPH",data:{text:a}}]})});return b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("AdsCCCardComponent.react"),{category:b("AdsCCCategory").ERROR,headerData:{type:"TEXT",data:{text:h._("Missing Audience Location")}},layout:j.HORIZONTAL,messageID:"missing_location_errors"},a))};a.prototype.$1=function(){var a=b("AdsErrorUtils").getErrorsForPath(b("nullthrows")(this.props.errors),b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.path);return b("AdsErrorUtils").getRawMessages(a)};function a(){i.apply(this,arguments)}a.propTypes={errors:c.array};e.exports=a}),null);
__d("AdsTargetingLocationEditorV2",["cx","AdsAPICampaignPaths","AdsCommonTargetingField","AdsCommonTargetingFields","AdsGeoLocationMetaInfoDataSource","AdsLocationHasDuplicatesDataAction","AdsLocationHasNoInclusionDataAction","AdsPathLink","AdsTargetingLoadTimeActions","AdsTargetingLocationDataTransformer","AdsTargetingLocationPromotedPageAddressContainer.react","AdsTargetingLocationTokenizer","AdsTargetingLocationTypeSelector","AdsTargetingLocationUtils","AdsTargetingMissingLocationNotice.react","AdsTargetingWronglyRemappedAdsetNotice.react","FBLogger","FDSSpinner.react","LocationConstants","React","immutable","performanceNow","promiseDone","AdsTargetingLookalikeLocationsInfo.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsPathLink").Field,j=b("LocationConstants").RadiusInfo,k=b("AdsTargetingLocationUtils").getDuplicates,l=b("AdsTargetingLocationUtils").getLocationsCount,m=b("AdsTargetingLocationUtils").removeDuplicates,n=b("AdsTargetingLocationUtils").subtractLocations,o=b("immutable").List([b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.path]);c={allowedCountryList:[],alwaysShowXOut:!1,disableAddBulkLocations:!1,disableGeoLocationTargetingEditor:!1,disableScrollWheelZoom:!1,disableCollapseButton:!1,disallowedCountryList:[],disallowedLocationTypes:new Set(),enableLocationBrowser:!0,enableLocationCluster:!1,enableLookalikeLocationView:!1,enableMultiCityExclusion:!1,enableMultiCityTargeting:!1,disallowRadiusSelection:!1,enableMap:!0,initiallyShowMap:!1,hideLocationGroupHeader:!1,hideLocationListMenu:!1,hideTypeaheadTip:!1,showLocationTypeSelector:!0,showNotice:!0,onlyInclusion:!1,allowExclusionsWithoutInclusions:!0,getMaxTargetLocationsCountOverride:null,variantIndex:null};d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.$2=!1,this.$7=function(){b("AdsTargetingLoadTimeActions").componentDidFinishLoadingEntries("AdsCommonTargetingLocationEditorV2",b("performanceNow")()),this.$2||(this.$2=!0,this.props.onFinishedLoading&&this.props.onFinishedLoading())}.bind(this),this.$11=function(a){this.refs.locationTokenizer&&this.refs.locationTokenizer.onRemove(a)}.bind(this),this.$12=function(a,b){this.refs.locationTokenizer&&this.refs.locationTokenizer.onSelectAttempt(a,b)}.bind(this),this.$1=!1,this.state={ready:!1}}a.prototype.UNSAFE_componentWillMount=function(){this.$3(this.props.geoLocations,this.props.excludedGeoLocations),this.$4(this.props.geoLocations,this.props.excludedGeoLocations),this.$5(this.props.geoLocations,this.props.excludedGeoLocations)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){(JSON.stringify(a.geoLocations)!==JSON.stringify(this.props.geoLocations)||JSON.stringify(a.excludedGeoLocations)!==JSON.stringify(this.props.excludedGeoLocations))&&(this.$3(a.geoLocations,a.excludedGeoLocations),this.$4(this.props.geoLocations,this.props.excludedGeoLocations)),this.$5(a.geoLocations,a.excludedGeoLocations)};a.prototype.$5=function(a,c){b("AdsTargetingLocationUtils").getLocationsCount(a)===0&&b("AdsTargetingLocationUtils").getLocationsCount(c)===0&&j.unsetLocalizedUnit()};a.prototype.$3=function(a,c){var d=b("AdsTargetingLocationUtils").shouldFetchMetaData;d(a)||d(c)?(this.setState({ready:!1}),b("promiseDone")(b("AdsGeoLocationMetaInfoDataSource").getMetaInfo(a,c),function(a){return this.$6(a)}.bind(this),function(a){this.$7(),b("FBLogger")("ads").catching(a).mustfix("Dao fetch error")}.bind(this))):this.setState({ready:!0},this.$7)};a.prototype.$6=function(a){var c=b("AdsTargetingLocationDataTransformer").fillMetaInfoForLocations(this.props.geoLocations,a,!1);a=b("AdsTargetingLocationDataTransformer").fillMetaInfoForLocations(this.props.excludedGeoLocations,a,!1);this.props.onLocationsChange(c,a);this.setState({ready:!0},this.$7)};a.prototype.$4=function(a,c){var d=l(a),e=l(c);if(d===0&&e>0&&!this.props.allowExclusionsWithoutInclusions)this.props.onLocationsChange(a,b("LocationConstants").getEmptyLocations()),b("AdsLocationHasNoInclusionDataAction").dispatch({hasNoInclusion:!0},{line:"301",module:"AdsTargetingLocationEditorV2.js"});else{a=m(a);c=m(c);var f=k(a,c),g=l(f);d=g>0||l(a)!=d||l(c)!=e;d&&(g>0&&(c=n(c,f)),this.props.onLocationsChange(a,c),b("AdsLocationHasDuplicatesDataAction").dispatch({hasDuplicates:!0},{line:"319",module:"AdsTargetingLocationEditorV2.js"}))}};a.prototype.render=function(){__p&&__p();if(!this.state.ready&&!this.$1)return b("React").createElement(b("FDSSpinner.react"),null);this.$1=!0;var a={allowedCountryList:this.props.allowedCountryList,disallowedCountryList:this.props.disallowedCountryList,disallowedLocationTypes:this.props.disallowedLocationTypes},c=null,d=this.props.enableLookalikeLocationView&&this.props.customAudiences&&this.props.customAudiences.length>0,e=this.$8();if(d&&this.props.customAudiences!==void 0){d=b("AdsTargetingLookalikeLocationsInfo.react");c=b("React").createElement(d,{customAudiences:this.props.customAudiences})}else c=b("React").createElement(b("AdsTargetingLocationTokenizer"),{accountID:this.props.accountID,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,alwaysShowXOut:this.props.alwaysShowXOut,campaign:this.props.campaign,campaignIDs:this.props.campaignIDs,dao:this.props.dao,disableCollapseButton:this.props.disableCollapseButton,disableGeoLocationTargetingEditor:this.props.disableGeoLocationTargetingEditor,disableScrollWheelZoom:this.props.disableScrollWheelZoom,disallowRadiusSelection:this.props.disallowRadiusSelection,eligibilityInformation:this.props.eligibilityInformation,enableBulkInput:!this.props.disableAddBulkLocations,enableLocationBrowser:e,enableLocationCluster:this.props.enableLocationCluster,enableMap:this.props.enableMap,enableMultiCityExclusion:this.props.enableMultiCityExclusion,enableMultiCityTargeting:this.props.enableMultiCityTargeting,enablePageLocationTargeting:this.props.enablePageLocationTargeting,excludedGeoLocations:this.props.excludedGeoLocations,geoLocations:this.props.geoLocations,getMaxTargetLocationsCountOverride:this.props.getMaxTargetLocationsCountOverride,hideAdsHelpLink:this.props.hideAdsHelpLink,hideLocationGroupHeader:this.props.hideLocationGroupHeader,hideLocationListMenu:this.props.hideLocationListMenu,hideTypeaheadTip:this.props.hideTypeaheadTip,initiallyShowMap:this.props.initiallyShowMap,maxNumLocations:this.props.maxNumLocations,minRadius:this.props.minRadius,onlyInclusion:this.props.onlyInclusion,page:this.props.page,radiusEditorAlignment:this.props.radiusEditorAlignment,radiusEditorHelpTextAlignment:this.props.radiusEditorHelpTextAlignment,radiusEditorHelpTextPosition:this.props.radiusEditorHelpTextPosition,radiusType:this.props.radiusType,ref:"locationTokenizer",searchSourceOptions:a,shouldGetSuggestedRadius:this.props.shouldGetSuggestedRadius,shouldShowNotice:this.props.showNotice,shouldShowPageLocationSuggestion:this.props.shouldShowPageLocationSuggestion,variantIndex:this.props.variantIndex,onLocationsChange:this.props.onLocationsChange});d=this.$9();e=this.$10();a=this.props.campaignIDs;var f=null;a!==null&&a!==void 0&&(f=b("React").createElement(b("AdsTargetingWronglyRemappedAdsetNotice.react"),{adsetIDs:a}));a=b("React").createElement(b("React").Fragment,null,e,b("React").createElement("div",{className:!!e&&!!d?"_51gz":""},b("React").createElement(b("AdsTargetingMissingLocationNotice.react"),{errors:this.props.errors}),f,d),c);e="_3lmq uiContextualLayerParent";return b("React").createElement(i,{paths:o},b("React").createElement(b("AdsCommonTargetingField"),{className:e,id:b("AdsCommonTargetingFields").LOCATION},a))};a.prototype.$10=function(){return this.props.enablePageLocationTargeting?b("React").createElement(b("AdsTargetingLocationPromotedPageAddressContainer.react"),{campaign:this.props.campaign,geoLocations:this.props.geoLocations,onRemoveAttempt:this.$11,onSelectAttempt:this.$12}):null};a.prototype.$8=function(){return this.props.enableLocationBrowser&&!this.props.disableGeoLocationTargetingEditor};a.prototype.$9=function(){if(this.props.showLocationTypeSelector){var a=this.props.geoLocations.location_types||[];return b("React").createElement(b("AdsTargetingLocationTypeSelector"),{disabledLocationTypeSelector:this.props.disableGeoLocationTargetingEditor,geoLocationTypes:a,size:this.props.locationTypeSelectorSize,onLocationTypesChange:this.props.onLocationTypesChange})}return null};a.defaultProps=c;e.exports=a}),null);