if (self.CavalryLogger) { CavalryLogger.start_js(["BYqhe"]); }

__d("AdsMediaDialogFilterConstants",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD:null,DELETE:null,UPDATE:null});e.exports={FilteringAction:a}}),null);
__d("AdsMediaDialogFilter.react",["cx","fbt","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMediaDialogFilterConstants","BUIFilterTokenizer.react","FDSDropdownButton.react","FDSDropdownMultiSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsMediaDialogFilterConstants").FilteringAction,k="",l="-",m={MEDIA_FILTER:{value:null}};c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={filterSet:null,selectorValue:null},this.$1=function(a){__p&&__p();var c=[],d,e=this.state.selectorValue,f=this.state.filterSet;if(!e||a.length>e.length){var g=a[a.length-1];this.$4(g,j.ADD);var h=this.$5(g);c=f?f.values.filter(function(a){return a.value!==k&&a.field.key!==h.field.key}):[];c.push(h);d=c.length?new(b("AdsGenericFilterSet"))(c):null;this.$6(d,g)}else{g=e.filter(function(b){return!a.includes(b)});this.$4(g[0],j.DELETE);var i=this.$5(g[0]);c=f?f.values.filter(function(a){return a.field.key!==i.field.key}):[];d=c.length?new(b("AdsGenericFilterSet"))(c):null;this.$6(d,g[0])}this.$7(d)}.bind(this),this.$3=function(a){this.$7(a),this.$6(a)}.bind(this),c}a.prototype.render=function(){var a=[];Object.keys(this.props.fieldConfig).forEach(function(b){a.push(this.props.fieldConfig[b])}.bind(this));var c=h._("Filters");c=b("React").createElement(b("FDSDropdownButton.react"),{label:c});return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSDropdownMultiSelector.react"),{button:c,value:this.state.selectorValue,onChange:this.$1},this.$2()),b("React").createElement(b("BUIFilterTokenizer.react"),{className:"_1ho9",dismissCreatedTokensOnBlur:!1,fieldsConfig:this.props.fieldConfig,filterSet:this.state.filterSet,hideAddButton:!1,hideLabel:!0,validFieldConfigs:a,valuesConfig:m,onChange:this.$3}))};a.prototype.$7=function(a){var b=a?a.values.map(function(a){return a.field.name==="title"?a.field.key:a.field.key+l+a.value}):null;this.setState({selectorValue:b,filterSet:a})};a.prototype.$2=function(){var a=[];Object.keys(this.props.fieldConfig).forEach(function(c){switch(this.props.fieldConfig[c].field.type){case b("AdsGenericFilterFieldType").STRING_SET:a.push(this.$8(c));break;case b("AdsGenericFilterFieldType").STRING:a.push(this.$9(c));break;default:break}}.bind(this));return a};a.prototype.$10=function(a){a=this.props.fieldConfig[a];var c=a.field.key,d=[];Array.isArray(a.values)?d=a.values:a.values!=null&&(d=[a.values]);return d.map(function(a){typeof a!=="string"&&(a=a.value);var d=c+l+a,e=this.props.valueLabelMap[a];return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:c+a,value:d},e)}.bind(this))};a.prototype.$8=function(a){var c=this.props.fieldConfig[a];c=c.text;return b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{key:c,label:c},this.$10(a))};a.prototype.$9=function(a){a=this.props.fieldConfig[a];var c=a.field.key;a=a.text;var d=h._("Search by"),e=[];e.push(b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:c,value:c},d));return b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{key:a,label:a},e)};a.prototype.$5=function(a){a=a.split(l);var c=a[0],d=a[1];a=a[2]?a[2]:null;c=new(b("AdsGenericFilterField"))(c,d);return!a?new(b("AdsGenericFilter"))(c,b("AdsGenericFilterOperator").CONTAIN,k):new(b("AdsGenericFilter"))(c,b("AdsGenericFilterOperator").EQUAL,a)};a.prototype.$6=function(a,b){var c=b&&this.$11(b);this.props.onApplyFilters(a,b,c)};a.prototype.$11=function(a){a=a.split(l);return a.length>1?a[0]:null};a.prototype.$4=function(a,c){a=this.$11(a);c=this.props.loggerMap[c];if(c==null||a==null)return;c=c[a];if(c==null)return;b("AdsInterfacesLogger").log({eventName:c,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})};e.exports=a}),null);
__d("AdsMediaInfiniteScroll.react",["cx","FDSSpinner.react","InfiniteScroll.react","React","emptyFunction","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=300;function i(a){var c=a.isLoading,d=a.hasNextPage;a=a.endMessage;if(c)return b("React").createElement("div",{className:"_3_-1"},b("React").createElement(b("FDSSpinner.react"),null));return!d?b("React").createElement("div",{className:"_3_-2"},b("React").createElement("div",{className:"_3_-i"},b("React").createElement("div",{className:"_3_-j"},a))):null}function a(a){var c=a.children,d=a.className,e=a.distanceToEnd,f=a.endMessage,g=a.hasNextPage,j=a.isLoading;a=a.onEndReached;a=j||!g?b("emptyFunction"):b("throttle")(a,h);return b("React").createElement(b("InfiniteScroll.react"),{className:d,distanceToEnd:e,onEndReached:a},c,b("React").createElement(i,{endMessage:f,hasNextPage:g,isLoading:j}))}e.exports=a}),null);
__d("AdsMediaPanelFbts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("NO MORE IMAGES FOUND");b=g._("NO MORE VIDEOS FOUND");e.exports={NO_MORE_IMAGES:a,NO_MORE_VIDEOS:b}}),null);
__d("AdsMediaPickerCurrentSelectionBarItem.react",["ix","cx","AdsMediaPickerConstants","BackgroundImage.react","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FDSSpinner.react","Image.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onRemoveItem(this.props.item.id)}.bind(this),b}a.prototype.render=function(){var a=this.props.item.thumbnail.hasValue()&&this.props.item.thumbnail.getValue()?b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"cover",height:b("AdsMediaPickerConstants").CURRENT_SELECTION_THUMBNAIL_SIZE,src:this.props.item.thumbnail.getValueEnforcing(),width:b("AdsMediaPickerConstants").CURRENT_SELECTION_THUMBNAIL_SIZE}):b("React").createElement("div",{style:{height:b("AdsMediaPickerConstants").CURRENT_SELECTION_THUMBNAIL_SIZE,width:b("AdsMediaPickerConstants").CURRENT_SELECTION_THUMBNAIL_SIZE}},b("React").createElement(b("FDSSpinner.react"),{center:!0,size:"small"}));return b("React").createElement(b("ShimButton.react"),{className:"_79ql",onClick:this.$1},b("React").createElement(b("FBOverlayContainer.react"),null,b("React").createElement(b("FBOverlayBase.react"),null,a),b("React").createElement(b("FBOverlayElement.react"),null,b("React").createElement("div",{className:"_79qm"},b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0},b("React").createElement(b("Image.react"),{src:g("480719")}))))))};e.exports=a}),null);
__d("AdsMediaPickerFilterSelector.react",["ix","cx","fbt","AdsGenericFilter","AdsGenericFilterSet","AdsGenericFilterSetUtil","AdsMediaDialogFilterConstants","FDSCheckboxInput.react","FDSText.react","Image.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("AdsMediaDialogFilterConstants").FilteringAction,n=[];function o(a,c,d){__p&&__p();if(!a){d(m.ADD,c);return new(b("AdsGenericFilterSet"))([c])}var e=new(b("AdsGenericFilterSet"))([c]);if(b("AdsGenericFilterSetUtil").contains(a,e)){d(m.DELETE,c);return b("AdsGenericFilterSetUtil").exclude(a,e)}b("AdsGenericFilterSetUtil").getFiltersByField(a,c.getField()).length>0?d(m.UPDATE,c):d(m.ADD,c);return b("AdsGenericFilterSetUtil").mergeByField(a,e)}c=babelHelpers.inherits(p,b("React").PureComponent);j=c&&c.prototype;function p(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){return this.props.onToggleFilter(this.props.fieldName,this.props.operator,this.props.value)}.bind(this),b}p.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("FDSCheckboxInput.react"),{label:b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},this.props.label),value:this.props.isSelected,onChange:this.$1}))};d=babelHelpers.inherits(q,b("React").PureComponent);k=d&&d.prototype;function q(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.state={isOpen:!0},this.$1=function(){return this.setState(function(a){return{isOpen:!a.isOpen}})}.bind(this),b}q.prototype.componentDidMount=function(){this.setState(function(a,b){return Array.isArray(b.fieldConfig.values)&&b.fieldConfig.values.length>2?{isOpen:!1}:a})};q.prototype.render=function(){if(!Array.isArray(this.props.fieldConfig.values))return null;var a=this.state.isOpen?this.props.fieldConfig.values.map(function(a){var c=a.value;return b("React").createElement(p,{fieldName:this.props.fieldName,isSelected:this.props.activeFilters.some(function(a){return a.getValue()===c}),key:c,label:this.props.valueLabelMap[c]||c,operator:this.props.fieldConfig.operators[0].operator,value:c,onToggleFilter:this.props.onToggleFilter})}.bind(this)):null;return b("React").createElement("div",{className:"_76b4"},b("React").createElement(b("ShimButton.react"),{className:"_76b5",onClick:this.$1},b("React").createElement("div",{className:"_76b6"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"body3"},this.props.fieldConfig.text)),this.state.isOpen?b("React").createElement(b("Image.react"),{src:g("492462")}):b("React").createElement(b("Image.react"),{src:g("505567")})),b("React").createElement("div",null,a))};f=babelHelpers.inherits(a,b("React").Component);l=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.state={filterSet:null},this.$1=function(a,c,d){a=this.props.fieldConfig[a].field;var e=new(b("AdsGenericFilter"))(a,c,d);this.setState(function(a){a=a.filterSet;return{filterSet:o(a,e,this.props.onLogFilterChange)}}.bind(this))}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=Object.keys(this.props.fieldConfig);if(a.length===0)return null;var c=a.filter(function(a){return Array.isArray(this.props.fieldConfig[a].values)}.bind(this));if(c.length===0)return null;c=a.map(function(a){return b("React").createElement(q,{activeFilters:this.state.filterSet?b("AdsGenericFilterSetUtil").getFiltersByField(this.state.filterSet,this.props.fieldConfig[a].field):n,fieldConfig:this.props.fieldConfig[a],fieldName:a,key:a,valueLabelMap:this.props.valueLabelMap,onToggleFilter:this.$1})}.bind(this));return b("React").createElement("div",{className:"_76b7"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold"},b("React").createElement(b("Image.react"),{className:"_76b8",src:g("500227")}),i._("Filter by")),c)};a.prototype.componentDidUpdate=function(a,b){b.filterSet!==this.state.filterSet&&this.props.onApplyFilters(b.filterSet,this.state.filterSet)};e.exports=a}),null);
__d("AdsMediaPickerGridDisplayItem.react",["ix","cx","AdsError","AdsMediaPickerConstants","AdsMediaPickerItemErrorIcon.react","BackgroundImage.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FDSSpinner.react","Image.react","React","ShimButton.react","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){this.props.onSelect(this.props.item.id)}.bind(this),b}a.prototype.render=function(){var a=this.props.isDisabled||this.props.errors&&this.props.errors.some(function(a){return a.level===b("AdsError").Level.WARN}),c=this.props.isSelected?[b("React").createElement(b("FBOverlayElement.react"),{key:"wash"},b("React").createElement("div",{className:"_79qh"},"\xa0")),b("React").createElement(b("FBOverlayElement.react"),{key:"checkbox"},b("React").createElement("div",{className:"_79qi"},b("React").createElement(b("Image.react"),{src:g("494151")}))),b("React").createElement(b("FBOverlayElement.react"),{key:"border"},b("React").createElement("div",{className:"_79q8"},"\xa0"))]:[],d=this.props.item.thumbnail.getValue()?b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",height:b("AdsMediaPickerConstants").GRID_THUMBNAIL_SIZE,loadingIndicatorStyle:"small",src:this.props.item.thumbnail.getValueEnforcing(),width:b("AdsMediaPickerConstants").GRID_THUMBNAIL_SIZE}):b("React").createElement("div",{style:{height:b("AdsMediaPickerConstants").GRID_THUMBNAIL_SIZE,width:b("AdsMediaPickerConstants").GRID_THUMBNAIL_SIZE}},b("React").createElement(b("FDSSpinner.react"),{center:!0}));a===!0&&c.push(b("React").createElement(b("FBOverlayElement.react"),{key:"disabled_wash"},b("React").createElement("div",{className:"_7b7n"},"\xa0")));return b("React").createElement(b("ShimButton.react"),{className:"_79q9",style:{width:b("AdsMediaPickerConstants").GRID_THUMBNAIL_SIZE},onClick:a===!0?b("emptyFunction"):this.$1},b("React").createElement(b("FBOverlayContainer.react"),null,b("React").createElement(b("FBOverlayBase.react"),null,d),c),b("React").createElement(b("FBOverlayElement.react"),null,b("React").createElement(b("AdsMediaPickerItemErrorIcon.react"),{errors:this.props.errors,key:"error"})))};e.exports=a}),null);