if (self.CavalryLogger) { CavalryLogger.start_js(["SsNPG"]); }

__d("AdsBugReportUploader.react",["cx","fbt","AdsBugReportConfigSwitch","FileInput.react","FileInputUploader","List.react","React","SUIBusinessTheme","SUIButton.react","SUICloseButton.react","SUIText.react","getOwnObjectValues","objectEntries"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("AdsBugReportConfigSwitch").module;d=b("getOwnObjectValues")(j.products);var k={FAILURE:"failure",REMOVED:"removed",SUCCESS:"success",UPLOADING:"progress"};function l(a){switch(a.status){case k.SUCCESS:return h._("(Upload Complete)");case k.UPLOADING:a=a.bytesLoaded/a.size*100;return h._("({percentage_uploaded}\u0025 Uploaded)",[h._param("percentage_uploaded",a.toFixed(2))]);case k.FAILURE:return h._("(Upload Failed)");default:return null}}function m(a,b,c){return function(){var d=babelHelpers["extends"]({},a);d[b].status=k.REMOVED;c(d)}}function n(a){var c=a.attachedFiles,d=a.onFileListChange;a=b("objectEntries")(c).filter(function(a){a[0];a=a[1];return a.status!==k.REMOVED}).map(function(a){var e=a[0];a=a[1];return b("React").createElement("li",{key:e},b("React").createElement(b("SUICloseButton.react"),{id:e,theme:b("SUIBusinessTheme"),onClick:m(c,e,d)}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},a.name," ",l(a)))});return a.length?b("React").createElement(b("List.react"),{border:"none",className:"_3-8x",spacing:"none"},a):null}f=babelHelpers.inherits(a,b("React").PureComponent);i=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(event,a){__p&&__p();var b=a.upload.getFile().lastModified,c={};Object.assign(c,this.props.attachedFiles);if(c[b]&&c[b].status===k.REMOVED){a.upload.abort();return}switch(event){case k.SUCCESS:c[b].status=k.SUCCESS;c[b].handle=a.response.payload.meta;break;case k.FAILURE:c[b].status=k.FAILURE;break;case k.UPLOADING:c[b]||(c[b]={status:k.UPLOADING,name:a.upload.getFile().name,size:a.event.total});c[b].bytesLoaded=a.event.loaded;break}this.props.onFileListChange(c)}.bind(this),this.$3=function(event){var a=event.target;a=new(b("FileInputUploader"))(a).setURI("/ajax/file_handle/upload.php");a.subscribe("success",this.$4);a.subscribe("failure",this.$4);a.subscribe("progress",this.$4);a.setUploadInParallel(!0);a.send()}.bind(this),c}a.prototype.render=function(){if(this.props.product!==j.products.ADS_CREATOR&&this.props.product!==j.products.ADS_MANAGER&&this.props.product!==j.products.POWER_EDITOR&&this.props.product!==j.products.CAMPAIGN_MANAGER&&this.props.product!==j.products.CREATIVE_STUDIO&&this.props.product!==j.products.BUSINESS_SITE)return null;var a=h._("Upload"),c=this.props.showLabel?b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("SUIText.react"),{size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),weight:"bold"},this.$1())," ",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("(Optional)")),b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.$2())):null;return b("React").createElement("div",null,c,b("React").createElement(b("FileInput.react"),{multiple:!0,name:"files[]",onChange:this.$3},b("React").createElement(b("SUIButton.react"),{href:"#",label:a,theme:b("SUIBusinessTheme")})),this.props.showAttachedFilesPreviewList?b("React").createElement(n,{attachedFiles:this.props.attachedFiles,onFileListChange:this.props.onFileListChange}):null)};a.prototype.$1=function(){switch(this.props.product){case j.products.ADS_CREATOR:return h._("Please add a screenshot or video");case j.products.ADS_MANAGER:case j.products.CAMPAIGN_MANAGER:case j.products.BUSINESS_SITE:case j.products.POWER_EDITOR:case j.products.CREATIVE_STUDIO:return h._("Please add a screenshot, video, or file");default:return null}};a.prototype.$2=function(){switch(this.props.product){case j.products.ADS_CREATOR:return h._("Attach a screenshot or video to help us understand the problem");case j.products.ADS_MANAGER:case j.products.BUSINESS_SITE:case j.products.CAMPAIGN_MANAGER:case j.products.CREATIVE_STUDIO:return h._("Attach a screenshot, video or file to help us understand the problem");case j.products.POWER_EDITOR:return h._("Attach a screenshot , video, or file to help us understand the problem. If you experienced a bulk import\/upload issue, please attach the excel spreadsheet that you were using");default:return null}};a.FileList=n;a.propTypes={attachedFiles:c.object.isRequired,product:c.oneOf(d).isRequired,showAttachedFilesPreviewList:c.bool,showLabel:c.bool,onFileListChange:c.func.isRequired};a.defaultProps={showAttachedFilesPreviewList:!0,showLabel:!0};e.exports=a;e.exports.UPLOAD_STATUS=k}),null);
__d("BugReportUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("keyMirror")({HIDDEN:null,FORM:null,SUBMISSION:null,CONFIRMATION:null});function a(a){var b=a.body,c=a.description;a=a.header;return"\n===== "+a+" =====\n"+c+"\n"+b+"\n========"}function c(a){return a.map(g.formatSection).join("\n")}var g={BUG_REPORT_FORM_STEP:d,formatSection:a,formatSectionList:c};e.exports=g}),null);
__d("AdsFeedStoryShim.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2iwo"},b("React").createElement("div",{className:"_2iwq"},b("React").createElement("div",{className:"_2iwr"}),b("React").createElement("div",{className:"_2iws"}),b("React").createElement("div",{className:"_2iwt"}),b("React").createElement("div",{className:"_2iwu"}),b("React").createElement("div",{className:"_2iwv"}),b("React").createElement("div",{className:"_2iww"}),b("React").createElement("div",{className:"_2iwx"}),b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsIncreaseImageAspectRatioMobileFeedCompatibilityTipConfig",["fbt","AdsCCCategory","AdsCCCategoryConfig","AdsRecommendationTipConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("AdsCCCategoryConfig").CardLayout;c=babelHelpers.inherits(a,b("AdsRecommendationTipConfig"));h=c&&c.prototype;function a(a){h.constructor.call(this,{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"ads_increase_image_aspect_ratio_image_overlays_unsupported",header:g._("Square Images Not Available on Older Versions"),layout:i.HORIZONTAL,textData:[{type:"PARAGRAPH",data:{text:g._("Your ad may look slightly different for people with an older version of the Facebook app.")}}],ctaData:[{type:"LINK",data:{text:g._("See how it looks"),onCallToAction:a}}]})}e.exports=a}),null);
__d("AdsIncreaseImageAspectRatioMobileFeedCompatibilityTip.react",["cx","fbt","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","AdsCCPopUpModal.react","AdsIncreaseImageAspectRatioMobileFeedCompatibilityTipConfig","FDSText.react","Image.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsCCMigrationCategory").MigrationCategory;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={showPreviewModal:!1},this.$1=function(){this.setState({showPreviewModal:!0})}.bind(this),this.$2=function(){this.setState({showPreviewModal:!1})}.bind(this),b}a.prototype.render=function(){var a=new(b("AdsIncreaseImageAspectRatioMobileFeedCompatibilityTipConfig"))(this.$1);a=a.getTipProps();var c=a.category,d=a.ctaData,e=a.header,f=a.messageID;a=a.textData;return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:c,header:e,messageID:f,textData:a,ctaData:d},migrationCategory:j.INFO,suiNoticeProps:{type:"information",messageBody:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",size:"body2",weight:"bold"},e),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8w",size:"body2"},a[0].type==="PARAGRAPH"&&a[0].data.text),b("React").createElement("div",{margin:"_3-8w",role:"link",tabIndex:0,onClick:this.$1},b("React").createElement(b("FDSText.react"),{color:"blueLink",display:"block",margin:"_3-8w",size:"body2"},d!=null&&d[0].type==="LINK"&&d[0].data.text)))}}),b("React").createElement(b("AdsCCPopUpModal.react"),{content:b("React").createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-94",size:"header2",textAlign:"center",width:250},h._("Ad in Newer Version of Facebook App")),b("React").createElement(b("Image.react"),{display:"block",height:390,src:"/images/ads/fam/jaspers_market_tall.jpg",width:250})),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-94",size:"header2",textAlign:"center",width:250},h._("Ad in Older Version of Facebook App")),b("React").createElement(b("Image.react"),{display:"block",height:270,src:"/images/ads/fam/jaspers_market_padded.jpg",width:250}))),showModal:this.state.showPreviewModal,width:600,onCloseModal:this.$2}))};e.exports=a}),null);
__d("AdFacebookStoryAdPreviewDisclaimer.react",["fbt","AdsAdgroupSpecUtils","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsAdgroupSpecUtils").isStaticCarouselAd(c)?g._("Only the first 3 images of your carousel ad will deliver in Facebook Stories."):g._("People can open your link by tapping on it or swiping up. This interaction may vary by platform or device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsInstagramStoryAdPreviewDisclaimer.react",["fbt","AdsAdgroupSpecUtils","React","SUIBusinessTheme","SUIText.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsAdgroupSpecUtils").isCarouselAd(c)&&!b("gkx")("706478")?g._("Carousel ads will not be delivered if you select placements other than Instagram stories."):g._("Text appearance may vary by device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdPreviewBorderStyles",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",STANDARD:"standard"})}),null);
__d("AdsAdgroupOptimisticAdPreviewErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWERRROR");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewSkippedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSKIPPED");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewSuccessAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSUCCESS");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.ERROR");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadFinishedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.FINISHED");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadStartDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.START");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.SUCCESS");e.exports=a}),null);
__d("AdsAdgroupPreviewLoader.react",["cssVar","AdsPreviewApiFormats","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(c={},c[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD]={x:320,y:385},c[b("AdsPreviewApiFormats").MARKETPLACE_MOBILE]={x:378,y:407},c[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD]={x:320,y:528},c[b("AdsPreviewApiFormats").INSTAGRAM_STORY]={x:320,y:567},c[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL]={x:285,y:568},c[b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE]={x:255,y:511},c[b("AdsPreviewApiFormats").MOBILE_NATIVE]={x:255,y:511},c[b("AdsPreviewApiFormats").MOBILE_BANNER]={x:324,y:148},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA]={x:360,y:321},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_TV]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_BANNER]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INTERSTITIAL_DESKTOP]={x:285,y:568},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_OUTSTREAM_VIDEO]={x:320,y:387},c[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD]={x:320,y:387},c[b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").GROUPS_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").GROUPS_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTAGRAM_IGTV]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").MARKETPLACE_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_DESKTOP_THREAD_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_MOBILE_STORY_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_MOBILE_THREAD_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").MOBILE_FEED_BASIC]={x:320,y:387},c[b("AdsPreviewApiFormats").MOBILE_FULLWIDTH]={x:320,y:387},c[b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD]={x:320,y:387},c[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").WHATSAPP_STATUS_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").WATCH_FEED_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").MARKETPLACE_SEARCH_ADS_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").SEARCH_SERP_ADS_MOBILE]={x:320,y:387},c);h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #DADDE1",height:i[this.props.format].y,width:i[this.props.format].x,marginBottom:12,marginLeft:"auto",marginRight:"auto"}},b("React").createElement(b("FDSSpinner.react"),{center:!0}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupPreviewRefreshButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.isDisabled;a=a.onRefreshClick;return b("React").createElement(b("FDSButton.react"),{icon:c?b("React").createElement(b("Image.react"),{src:g("669095")}):b("React").createElement(b("Image.react"),{src:g("580899")}),isDisabled:c,label:h._("Refresh preview"),size:"medium",onClick:a})};function a(){i.apply(this,arguments)}a.defaultProps={onRefreshClick:b("emptyFunction"),isDisabled:!1};e.exports=a}),null);
__d("AdsAdgroupPreviewRefreshLink.react",["cx","fbt","FDSLink.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSLink.react"),{onClick:this.props.onRefreshClick},h._("Refresh preview")),b("React").createElement("div",{className:"_1k43"},String.fromCodePoint(8226)))};function a(){i.apply(this,arguments)}a.defaultProps={onRefreshClick:b("emptyFunction")};e.exports=a}),null);
__d("AdsAdgroupPreviewSelectedPreviewLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.SELECTED_PREVIEW_LOADED");e.exports=a}),null);
__d("AdsAdgroupPreviewBugReportButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.isDisabled;a=a.onClick;return b("React").createElement(b("FDSButton.react"),{icon:c?b("React").createElement(b("Image.react"),{src:g("579927")}):b("React").createElement(b("Image.react"),{src:g("530511")}),isDisabled:c,label:h._("Report problem"),size:"medium",onClick:a})};function a(){i.apply(this,arguments)}a.defaultProps={onClick:b("emptyFunction"),isDisabled:!1};e.exports=a}),null);
__d("AdsAdgroupPreviewBugReportLink.react",["fbt","FDSLink.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("FDSLink.react"),{onClick:this.props.onClick},g._("Report a problem with this preview"))};function a(){h.apply(this,arguments)}a.defaultProps={onClick:b("emptyFunction")};e.exports=a}),null);
__d("AdsBugReportCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATING_OR_USING_CONVERSION_PIXEL:"creating_or_using_conversion_pixel",MANAGING_AUDIENCES:"managing_audiences",ACCOUNT_SETTINGS:"account_settings",BILLING:"billing",OTHER:"other",AD_DELIVERY:"ad_delivery",AD_POLICY_FRAUD:"ad_policy_fraud",ADS_REPORTING:"ads_reporting",CREATING_AN_AD:"creating_an_ad",EDITING_AN_AD:"editing_an_ad",PUBLISHING_CHANGES:"publishing_changes",CANVAS_ADS:"canvas_ads",CAROUSEL_ADS:"carousel_ads",EDITING_TEXT_AND_LINKS:"editing_text_and_links",LOADING_MOCKUPS:"loading_mockups",MOBILE_PREVIEW:"mobile_preview",SAVING_MOCKUPS:"saving_mockups",SELECTING_IMAGES:"selecting_images",SELECTING_VIDEOS:"selecting_videos",SHARING_MOCKUPS:"sharing_mockups",BUYING_PLAN:"buying_plan",CREATING_PLAN:"creating_plan",PLANNER_ACCESS:"planner_access",PLANNER_OTHER:"planner_other",PREDICTION:"prediction",SHARING_PLAN:"sharing_plan",CREATING_AUDIENCE:"creating_audience",COMPARING_AUDIENCE:"comparing_audience",VIEWING_INSIGHTS:"viewing_insights",SAVED_AUDIENCE:"saved_audience",CREATING_AD:"creating_ad",BUSINESS_AD_ACCOUNTS:"business_ad_accounts",BUSINESS_NAVIGATION:"business_navigation",BUSINESS_NOTIFICATIONS:"business_notifications",BUSINESS_PERMISSIONS:"business_permissions",BUSINESS_PROJECTS:"business_projects",BUSINESS_PAGES:"business_pages",PAGES_ERROR_MESSAGE:"pages_error_message",PAGES_IMAGE:"pages_image",PAGES_INCORRECT_LIKE_ESTIMATE:"pages_incorrect_like_estimate",PAGES_INCORRECT_CLICK_ESTIMATE:"pages_incorrect_click_estimate",PAGES_TARGETING:"pages_targeting",PAGES_BUDGET:"pages_budget",PAGES_AD_SCHEDULE:"pages_ad_schedule",PAGES_ACCOUNT_ISSUE:"pages_account_issue",PAGES_AD_REVIEW_DISAPPROVAL:"pages_ad_review_disapproval",PAGES_OTHER:"pages_other",BP_POST_ISSUE:"bp_post_issue",BP_POST_IS_NOT_DELIVERY:"bp_post_not_delivery",BP_WRONG_REACH_ESTIMATE:"bp_wrong_reach_estimate",BP_DURATION_OF_AD:"bp_duration_of_ad",PP_CANNOT_PROMOTE_PAGE:"pp_cannot_promote_page",PW_CANNOT_PROMOTE_WEBSITE:"pw_cannot_promote_website",BP_APP_INSTALL_CANNOT_PROMOTE_APP:"bp_cannot_promote_app",LA_CANNOT_PROMOTE_LOCAL_AWARENESS:"la_cannot_promote_local_awareness",CCTA_CANNOT_PROMOTE_CCTA:"ccta_cannot_promote_ccta",COUPON_CANNOT_CREATE:"coupon_cannot_create",LWI_IMAGE_AND_TEXT:"image_and_text",LWI_PERFORMANCE:"performance",LWI_AUDIENCE:"audience",LWI_SETTING_A_BUDGET:"setting_a_budget",LWI_SCHEDULE_OF_MY_AD:"schedule_of_my_ad",LWI_AD_REVIEW_AND_DISAPPROVAL:"ad_review_and_disapproval",LWI_ACCOUNT_ISSUES:"account_issues",LWI_OTHER_ISSUES:"other_issues",ANALYTICS:"analytics"})}),null);
__d("AdsBugReportSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",HELP_TRAY:"help_tray",IN_PRODUCT:"in_product"})}),null);
__d("AdsBugReportSubCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OTHER:"other",BI_DISAPPROVALS:"bi_disapprovals",RISK_FRAUD:"risk_fraud",AD_SCHEDULE:"ad_schedule",SAVING_CHANGES:"saving_changes",OBJECTIVES:"objectives",ASSETS:"assets",PLACEMENTS:"placements",AUDIENCE:"audience",BUDGET:"budget",CREATIVE:"creative",AD_PREVIEW:"ad_preview",BULK_IMPORT:"bulk_import",SPLIT_TESTING:"split_testing",PLACING_ORDER:"placing_order",CREATION_DUP_EXISTING:"creation_dup_existing",DELIVERY_FLUCTUATIONS:"delivery_fluctuations",NO_DELIVERY:"no_delivery",OVER_SPEND:"over_spend",UNDER_DELIVERY:"under_delivery",ACCOUNT_PERMISSIONS:"account_permissions",ACCOUNT_CREATION_DELETION:"account_creation_deletion",ACCOUNT_INFORMATION:"account_information",AD_METRICS:"ad_metrics",BREAKDOWN:"breakdown",COLUMN_SELECTOR:"column_selector",EXPORTING:"exporting",FILTERS_DATES:"filters_dates",LOADING_ISSUE:"loading_issue",REPORTING_GRAPHS:"reporting_graphs",SCHEDULED_REPORTING:"scheduled_reporting",CHARGES_INVOICING_BALANCE:"charges_invoicing_balance",PAYMENT_METHODS:"payment_methods",SPEND_LIMITS:"spend_limits",BROWSING_LIBRARY:"browsing_library",CHOOSING_PLACEMENT:"choosing_placement",EDITING_HEADLINE:"editing_headline",EDITING_TEXT:"editing_text",UPLOADING_IMAGE:"uploading_image",PAGES_TARGETING_CANNOT_CHOOSE_AUDIENCE:"pages_targeting_cannot_choose_audience",PAGES_TARGETING_NOT_APPLIED:"pages_targeting_not_applied",PAGES_TARGETING_CANNOT_EDIT:"pages_targeting_cannot_edit",PAGES_TARGETING_WRONG_AUDIENCE:"pages_targeting_wrong_audience",PAGES_TARGETING_OTHER_ISSUE:"pages_targeting_other_issue",PAGES_BUDGET_CANNOT_SET_BUDGET:"pages_budget_cannot_set_budget",PAGES_BUDGET_OPTIONS_INCORRECT:"PAGES_BUDGET_OPTIONS_INCORRECT",PAGES_BUDGET_NOT_APPLIED:"pages_budget_not_applied",PAGES_BUDGET_CURRENCY_INCORRECT:"pages_budget_currency_incorrect",PAGES_BUDGET_OTHER_ISSUE:"pages_budget_other_issue",PAGES_SCHEDULE_CANNOT_SET:"pages_schedule_cannot_set",PAGES_SCHEDULE_OPTIONS_INCORRECT:"pages_schedule_options_incorrect",PAGES_SCHEDULE_CANNOT_PAUSESTOP_AD:"pages_schedule_cannot_pausestop_ad",PAGES_SCHEDULE_OTHER_ISSUE:"pages_schedule_other_issue",PAGES_REVIEW_INCORRECTLY_DISAPPROVED:"pages_review_incorrectly_disapproved",PAGES_REVIEW_BUDGET_WAS_SPENT_EVEN_AD_DISAPPROVED:"pages_review_budget_was_spent_even_ad_disapproved",PAGES_REVIEW_TAKING_TOO_LONG_TO_GET_REVIEWED:"pages_review_taking_too_long_to_get_reviewed",PAGES_REVIEW_OTHER_ISSUE:"pages_review_other_issue",BP_CANNOT_BOOST_MY_POST:"bp_cannnot_boost_my_post",BP_WRONG_POST_WAS_BOOSTED:"bp_wrong_post_was_boosted",BP_AD_IMAGE_IS_NOT_CORRECT:"bp_ad_image_is_not_correct",BP_DURATION_CANNOT_SET_DURATION:"bp_duration_cannot_set_duration",BP_DURATION_OPTIONS_INCORRECT:"bp_duration_options_incorrect",BP_DURATION_CANNOT_PAUSESTOP_AD:"bp_duration_cannot_pausestop_ad",BP_DURATION_OTHER_ISSUE:"bp_duration_other_issue",PAGES_ACCOUNT_AD_ACCOUNT:"pages_account_ad_account",PAGES_ACCOUNT_PAYMENT:"pages_account_payment",PAGES_ACCOUNT_TIMEZONE:"pages_account_timezone",PAGES_ACCOUNT_OTHER:"pages_account_other",LWI_CANT_EDIT_TEXT_OR_IMAGE:"pages_can_edit_text_or_image",LWI_PROMOTION_NOT_REACHING_PEOPLE:"pages_promotion_not_reacing_people",LWI_PROMOTION_REACHED_FEWER_THAN_EXPECTED:"pages_promotion_reached_fewer_than_expected",LWI_AUDIENCE_CANT_SELECT_AUDIENCE_I_WANT:"pages_audience_cant_select_audience_i_want",LWI_AUDIENCE_SELECTED_TARGETING_NOT_APPLIED:"pages_audience_selected_targeting_not_applied",LWI_AUDIENCE_CANT_EDIT_AUDIENCE:"pages_audience_cant_edit_audience",LWI_AUDIENCE_DELIVERING_TO_WRONG_AUDIENCE:"pages_audience_delivering_to_wrong_audience",LWI_PROMOTION_NOT_APPROVED:"pages_promotion_not_approved",LWI_PROMOTION_NOT_APPROVED_BUT_CHARGED:"pages_promotion_not_approved_but_charged",LWI_PROMOTION_TAKE_TOO_LONG_REVIEW:"pages_promotion_take_too_long_review",LWI_SOMETHING_ELSE:"pages_something_else",LWI_ACCOUNT_PAYMENT_METHOD_ISSUE:"pages_account_payment_method_issue",LWI_ACCOUNT_BILLING_ISSUE:"pages_account_billing_issue"})}),null);
__d("AdsPreviewBugReportUtils",["fbt","BugReportUtils","CurrentUser","URI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=Object.freeze({INCORRECT_DETAILS:g._("Incorrect preview details"),LOADING_ISSUE:g._("Problems loading a preview"),SHARING_ISSUE:g._("Problems sharing a preview"),OTHER:"Other"});d=Object.freeze({CROPPING:g._("Incorrect cropping of image or video"),CTA:g._("Incorrect call to action or display link"),HEADLINE:g._("Incorrect headline or text"),LINK_DESCRIPTION:g._("Incorrect link description")});f=Object.freeze({INCORRECT_IMAGE_OR_VIDEO:g._("Incorrect image or video"),LOW_RESOLUTION:g._("Low resolution preview"),BLANK_PREVIEW:g._("Blank preview")});var i=Object.freeze({SHARING_LINK:g._("Share link doesn't work"),MOBILE_PREVIEW:g._("Can't preview on mobile device"),OTHER:g._("Other")}),j=Object.freeze({}),k=b("keyMirror")(c);d=Object.freeze((h={},h[k.INCORRECT_DETAILS]=d,h[k.LOADING_ISSUE]=f,h[k.SHARING_ISSUE]=i,h[k.OTHER]=j,h));f=Object.freeze({NO_CATEGORY_SELECTION:g._("No bug category selected"),PENDING_UPLOADS:g._("You have pending uploads")});function l(a){return new(b("URI"))("/intern/ads/previews").addQueryData({tab:"preview_params_json_parser_tab",preview_params:JSON.stringify(a),force_viewer:b("CurrentUser").getID()}).setDomain("our.intern.facebook.com").setProtocol("https").getQualifiedURI().toString()}function a(a){var c=a.category,d=a.subCategory,e=a.userDescription,f=a.fbtraceID,g=a.error;a=a.previewParams;f=[{header:"PREVIEW TOOL LINK",description:"Link to Preview tool to reproduce the visible preview during the report. (Reproducing the Preview in the Ads Interfaces is still the source of truth.)",body:l(a)},{header:"PREVIEW TRACE",description:"Preview trace logged in Ads Scuba Table (i adlog)",body:f},{header:"PREVIEW ERROR",description:"Preview component error(if any):",body:JSON.stringify(g)},{header:"PREVIEW PAGELET SPEC",description:"Preview spec:",body:JSON.stringify(a,null,"\t")}];return"\n"+e+"\n"+[c,d].join("-")+"\n========\n"+b("BugReportUtils").formatSectionList(f)}e.exports={reportSummary:a,PREVIEW_BUG_CATEGORY:c,PREVIEW_BUG_CATEGORY_KEYS:k,PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY:d,SUBMIT_DISABLED_REASONS:f}}),null);
__d("LayerAbsorbWheel",["invariant","DOMEventListener"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$2=null,this.$1=a}a.prototype.enable=function(){"use strict";var a=this.$1.getRoot();a!=null||g(0,5466);this.$2=b("DOMEventListener").add(a,"wheel",this.$3,{passive:!0})};a.prototype.disable=function(){"use strict";this.$2&&(this.$2.remove(),this.$2=null)};a.prototype.$3=function(event){"use strict";event.stopPropagation()};e.exports=a}),null);
__d("ScreenshotCaptureInputPreviews.react",["cx","Image.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2ya4 _3-8i"},this.props.screenshotDataURIs.map(function(a,c){return b("React").createElement("div",{className:"_2ya5",key:c},b("React").createElement(b("Image.react"),{onClick:function(){return this.props.onScreenshotListChange(this.props.screenshotDataURIs["delete"](c))}.bind(this),className:"_2ya6",src:a}))}.bind(this)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsPreviewBugReportModal.react",["cx","fbt","invariant","AdsBugReportUploader.react","AdsLayerHideOnBlur","AdsSpinner.react","BootloadedComponent.react","BugReportUtils","CurrentUser","FDSSimplePopover.react","FDSSpinner.react","SUIHorizontalLayout.react","SUILink.react","SUIModalFillViewportHeight","SUIModalOkayButton.react","SUIRadioList.react","SUISelector.react","SUISelectorOption.react","immutable","JSResource","LayerAbsorbWheel","LayerHideOnEscape","React","ScreenshotCaptureInputPreviews.react","SUIBusinessTheme","SUIButton.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","SUITextArea.react","AdsPreviewBugReportUtils","objectEntries"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsBugReportUploader.react").FileList,l=b("BugReportUtils").BUG_REPORT_FORM_STEP,m=b("SUIRadioList.react").Item,n=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY,o=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY,p=h._("Required"),q=h._("Optional");function r(a){var c=a.disableSubmitReasonList;a=a.onSurveyComplete;a=b("React").createElement(b("SUIButton.react"),{disabled:!!c,label:h._("Send Report"),layerAction:"confirm",theme:b("SUIBusinessTheme"),use:"confirm",onClick:a});return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:c!=null&&c!==""?b("React").createElement(b("FDSSimplePopover.react"),{content:c,position:"below",showIcon:!1},a):a,secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null),theme:b("SUIBusinessTheme")})}function s(a){var c=a.title,d=a.subtitle,e=a.description;a=a.node;return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},c),d!=null&&d!==""?b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")}," (",d,")"):null,e!=null&&e!==""?b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},e):null,b("React").createElement("div",{className:"_3-8x _3-96"},a))}function t(a){__p&&__p();var c=a.category,d=a.subCategory,e=a.onCategoryChange;a=a.onSubCategoryChange;var f=function(a){var c=a[0];a=a[1];return b("React").createElement(b("SUISelectorOption.react"),{key:c,theme:b("SUIBusinessTheme"),value:c},a)},g=b("objectEntries")(n).map(f);f=c?b("objectEntries")(o[c]).map(f):null;c=b("React").createElement(b("SUISelector.react"),{placeholder:h._("Select the type of issue"),theme:b("SUIBusinessTheme"),value:c,onChange:e},g);e=f&&f.length>0?b("React").createElement(b("SUISelector.react"),{placeholder:h._("Choose a specific issue"),theme:b("SUIBusinessTheme"),value:d,onChange:a},f):null;g=b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95"},c),b("React").createElement("div",null,e));return b("React").createElement(s,{node:g,subtitle:p,title:h._("What type of problem are you experiencing?")})}function u(a){var c=a.value;a=a.onChange;c=b("React").createElement(b("SUITextArea.react"),{placeholder:h._("Explain the issue you are facing and possible steps to reproduce it"),theme:b("SUIBusinessTheme"),value:c,onChange:a});return b("React").createElement(s,{description:h._("Tell us more about what happened, including the steps we can take to reproduce the problem."),node:c,subtitle:q,title:h._("Please explain the problem")})}function v(a){var c=a.attachedFiles,d=a.product,e=a.screenshotDataURIs,f=a.onFileListChange,g=a.onPostScreenshot,i=a.onPreScreenshot;a=a.onScreenshotListChange;d=b("React").createElement(b("AdsBugReportUploader.react"),{attachedFiles:c,product:d,showAttachedFilesPreviewList:!1,showLabel:!1,onFileListChange:f});g=b("CurrentUser").isEmployee()?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ScreenshotCaptureInput.react").__setRef("AdsPreviewBugReportModal.react"),bootloadPlaceholder:b("React").createElement(b("AdsSpinner.react"),null),screenshotDataURIs:e,showPreviews:!1,onPostScreenshot:g,onPreScreenshot:i,onScreenshotListChange:a}):null;i=b("React").createElement(k,{attachedFiles:c,onFileListChange:f});c=b("React").createElement(b("ScreenshotCaptureInputPreviews.react"),{screenshotDataURIs:e,onScreenshotListChange:a});f=b("React").createElement("div",null,b("React").createElement(b("SUIHorizontalLayout.react"),{theme:b("SUIBusinessTheme")},d,g),i,c);return b("React").createElement(s,{description:h._("Attach a screenshot or video to help us understand the problem."),node:f,subtitle:q,title:h._("Please add a screenshot, video, or file")})}function w(a){var c=a.loginAsPermission;a=a.onChange;if(!b("CurrentUser").isEmployee())return null;c=b("React").createElement(b("SUIRadioList.react"),{direction:"horizontal",theme:b("SUIBusinessTheme"),value:c,onChange:a},b("React").createElement(m,{value:!0},h._("Yes")),b("React").createElement(m,{value:!1},h._("No")));return b("React").createElement(s,{node:c,subtitle:h._("FB Employee Only"),title:h._("Can we log in to your account to investigate further?")})}function x(){return b("React").createElement("div",{className:"_63_3"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Sending report")),b("React").createElement("div",null,b("React").createElement(b("FDSSpinner.react"),{shade:"dark"})))}function y(){return b("React").createElement("div",{className:"_3ae4"},b("React").createElement("div",{className:"_3ae5"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Thanks for providing feedback on your Facebook Ads Experience."))),b("React").createElement("div",{className:"_3ae6"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")},h._("If you need immediate assistance, please visit our {support_page_link}",[h._param("support_page_link",b("React").createElement(b("SUILink.react"),{href:"/business/resources/",target:"_blank"},h._("Advertiser Support Page.")))]))),b("React").createElement("div",{className:"_3ae7"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",style:{marginBottom:12},theme:b("SUIBusinessTheme")},h._("While we are constantly working to improve your experience advertising on Facebook, we cannot guarantee that we will investigate or reply to every report. We may contact you for more details as we investigate.")),b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("This reporting tool does not constitute notice to Facebook or replace or modify any terms applicable to your purchase of advertising inventory from Facebook, which continue to apply to your ad campaigns."))))}function z(a){var c=a.additionalInfoValue,d=a.attachedFiles,e=a.category,f=a.product,g=a.loginAsPermission,h=a.screenshotDataURIs,i=a.step,j=a.subCategory,k=a.onCategorySelectorChange,m=a.onSubCategorySelectorChange,n=a.onAdditionalInfoTextFieldChange,o=a.onFileListChange,p=a.onLoginAsPermissionChange,q=a.onPreScreenshot,r=a.onPostScreenshot;a=a.onScreenshotListChange;switch(i){case l.FORM:return b("React").createElement("div",{className:"_2pi8"},b("React").createElement(t,{category:e,subCategory:j,onCategoryChange:k,onSubCategoryChange:m}),b("React").createElement(u,{value:c,onChange:n}),b("React").createElement(v,{attachedFiles:d,product:f,screenshotDataURIs:h,onFileListChange:o,onPostScreenshot:r,onPreScreenshot:q,onScreenshotListChange:a}),b("React").createElement(w,{loginAsPermission:g,onChange:p}));case l.SUBMISSION:return b("React").createElement(x,null);case l.CONFIRMATION:return b("React").createElement(y,null);case l.HIDDEN:return null}}function A(a){var c=a.disableSubmitReasonList,d=a.step,e=a.onHide;a=a.onSurveyComplete;switch(d){case l.FORM:return b("React").createElement(r,{disableSubmitReasonList:c,onSurveyComplete:a});case l.CONFIRMATION:return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalOkayButton.react"),{layerAction:"button",use:"confirm",onClick:e}),theme:b("SUIBusinessTheme")});case l.SUBMISSION:case l.HIDDEN:return null}}j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerAbsorbWheel:b("LayerAbsorbWheel"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("AdsLayerHideOnBlur"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(A,{disableSubmitReasonList:this.props.disableSubmitReasonList,step:this.props.step,onHide:this.props.onHide,onSurveyComplete:this.props.onSurveyComplete}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Report a Problem")}),isShown:this.$1(),label:h._("Modal to report errors related to the Ads Preview Component"),theme:b("SUIBusinessTheme"),width:600,onHide:this.props.onHide},b("React").createElement(z,{additionalInfoValue:this.props.additionalInfoValue,attachedFiles:this.props.attachedFiles,category:this.props.category,loginAsPermission:this.props.loginAsPermission,product:this.props.product,screenshotDataURIs:this.props.screenshotDataURIs,step:this.props.step,subCategory:this.props.subCategory,onAdditionalInfoTextFieldChange:this.props.onAdditionalInfoTextFieldChange,onCategorySelectorChange:this.props.onCategorySelectorChange,onFileListChange:this.props.onFileListChange,onLoginAsPermissionChange:this.props.onLoginAsPermissionChange,onPostScreenshot:this.props.onPostScreenshot,onPreScreenshot:this.props.onPreScreenshot,onScreenshotListChange:this.props.onScreenshotListChange,onSubCategorySelectorChange:this.props.onSubCategorySelectorChange}))};a.prototype.$1=function(){switch(this.props.step){case l.FORM:case l.SUBMISSION:case l.CONFIRMATION:return!0;case l.HIDDEN:return!1;default:i(0,5145)}};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("XAdsBugReportSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ajax/bugs/submit/",{account_id:{type:"Int"},ad_object_identifier:{type:"String"},ad_objective:{type:"String"},attached_files:{type:"StringVector"},audience_id:{type:"String"},business_id:{type:"Int"},business_emails:{type:"StringVector"},category:{type:"String",required:!0},conversion_pixel_id:{type:"String"},description:{type:"String",defaultValue:""},page_id:{type:"Int"},permission_to_login_as:{type:"Bool",defaultValue:!1},post_id:{type:"Int"},post_url:{type:"String"},product:{type:"String"},session_id:{type:"String"},source:{type:"Enum",defaultValue:"unknown",enumType:1},sub_category:{type:"String"},url_tag_or_view_tag:{type:"String"},screenshot_data_uris:{type:"StringVector"}})}),null);
__d("AdsPreviewBugReportContainer.react",["cx","fbt","Promise","AdsAccountStore","AdsAdgroupPreviewBugReportButton.react","AdsAdgroupPreviewBugReportLink.react","AdsBugReportCategory","AdsBugReportConfig","AdsBugReportSource","AdsBugReportSubCategory","AdsBugReportUploader.react","AdsFluxContainer","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsInterfacesSessionConfig","AdsPreviewBugReportModal.react","AdsPreviewBugReportUtils","AsyncRequest","BugReportUtils","FBTraceIDsForFailedGraphAPIRequests","React","XAdsBugReportSubmitController","gkx","immutable","objectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsInterfacesLogEvents").Event,k=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_KEYS,l=b("AdsPreviewBugReportUtils").SUBMIT_DISABLED_REASONS,m=b("AdsPreviewBugReportUtils").reportSummary,n=b("BugReportUtils").BUG_REPORT_FORM_STEP,o={attachedFiles:{},additionalInfo:"",category:null,loginAsPermission:!1,screenshotDataURIs:b("immutable").List(),subCategory:null},p=babelHelpers["extends"]({},o,{accountID:null,completed:!1,hasPendingUploads:!1,step:n.HIDDEN}),q=200;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=babelHelpers["extends"]({},p),this.$4=function(a){this.setState({category:a,subCategory:null})}.bind(this),this.$11=function(a){this.setState({subCategory:a})}.bind(this),this.$3=function(a){this.setState({additionalInfo:a})}.bind(this),this.$5=function(a){var c=b("objectValues")(a).some(function(a){return a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.UPLOADING});this.setState({attachedFiles:a,hasPendingUploads:c})}.bind(this),this.$7=function(a){this.setState({loginAsPermission:a})}.bind(this),this.$12=function(){this.setState({step:n.SUBMISSION,completed:!0});var a=b("XAdsBugReportSubmitController").getURIBuilder(),c=[];Object.keys(this.state.attachedFiles).map(function(a){a=this.state.attachedFiles[a];a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.SUCCESS&&c.push(a.handle)}.bind(this));a.setInt("account_id",this.state.accountID).setString("category",b("AdsBugReportCategory").CREATING_AN_AD).setString("sub_category",b("AdsBugReportSubCategory").AD_PREVIEW).setEnum("source",b("AdsBugReportSource").IN_PRODUCT).setBool("permission_to_login_as",this.state.loginAsPermission);var d={attached_files:c,description:m({category:this.state.category||"",subCategory:this.state.subCategory||"",userDescription:this.state.additionalInfo,fbtraceID:this.props.fbtraceID||"",error:this.props.error||"",previewParams:this.props.previewParams}),error_fb_traces:b("FBTraceIDsForFailedGraphAPIRequests").errorFBTraces,screenshot_data_uris:this.state.screenshotDataURIs.toJSON(),session_id:b("AdsInterfacesSessionConfig").sessionID};new(b("AsyncRequest"))().setURI(a.getURI()).setData(d).setMethod("POST").setHandler(this.$13).setErrorHandler(this.$14).setFinallyHandler(function(){return this.setState(babelHelpers["extends"]({},o,{step:n.CONFIRMATION}))}.bind(this)).send()}.bind(this),this.$13=function(a){var c;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_SUCCESS,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,c[b("AdsInterfacesLoggerConfigColumns").BUG_ID]=a.payload.bug_id,c[b("AdsInterfacesLoggerConfigColumns").ERROR_TYPE]=[this.state.category,this.state.subCategory].join("-"),c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=this.props.fbtraceID,c)})}.bind(this),this.$10=function(a){this.setState({screenshotDataURIs:a})}.bind(this),this.$9=function(){return new(b("Promise"))(function(a){this.setState({step:n.HIDDEN},function(){return setTimeout(a,q)})}.bind(this))}.bind(this),this.$8=function(){this.setState({step:n.FORM})}.bind(this),this.$1=function(){this.setState({step:n.FORM},function(){var a;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_OPENED,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)})}.bind(this))}.bind(this),this.$6=function(){this.setState(babelHelpers["extends"]({},o,{step:n.HIDDEN}),function(){var a;return b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_CLOSED,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)})}.bind(this))}.bind(this),c}a.getStores=function(){return[b("AdsAccountStore")]};a.calculateState=function(a,c){c=b("AdsAccountStore").getSelectedAccountID();return babelHelpers["extends"]({},a,{accountID:c})};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,this.state.completed?h._("Thank you for your report."):b("gkx")("677855")?b("React").createElement(b("AdsAdgroupPreviewBugReportButton.react"),{isDisabled:this.props.isBugReportButtonDisabled,onClick:this.$1}):b("React").createElement(b("AdsAdgroupPreviewBugReportLink.react"),{onClick:this.$1}),b("React").createElement(b("AdsPreviewBugReportModal.react"),{additionalInfoValue:this.state.additionalInfo,attachedFiles:this.state.attachedFiles,category:this.state.category,disableSubmitReasonList:this.$2(),loginAsPermission:this.state.loginAsPermission,product:b("AdsBugReportConfig").products.ADS_CREATOR,screenshotDataURIs:this.state.screenshotDataURIs,step:this.state.step,subCategory:this.state.subCategory,onAdditionalInfoTextFieldChange:this.$3,onCategorySelectorChange:this.$4,onFileListChange:this.$5,onHide:this.$6,onLoginAsPermissionChange:this.$7,onPostScreenshot:this.$8,onPreScreenshot:this.$9,onScreenshotListChange:this.$10,onSubCategorySelectorChange:this.$11,onSurveyComplete:this.$12}))};a.prototype.$14=function(a){b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_ERROR})};a.prototype.$2=function(){var a=[];(this.state.category===null||this.state.subCategory===null&&this.state.category!==k.OTHER)&&a.push(l.NO_CATEGORY_SELECTION);this.state.hasPendingUploads&&a.push(l.PENDING_UPLOADS);if(a.length>0){a=a.map(function(a){return b("React").createElement("li",{key:a},a)});return b("React").createElement("div",null,h._("You cannot submit the form for the following reasons:"),b("React").createElement("ul",{className:"_1mf8"},a))}return null};e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);
__d("DynamicAdsPreviewRenderType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FALLBACK:"FALLBACK"})}),null);
__d("OptimisticAdPreviewAccuracyV2TypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:OptimisticAdPreviewAccuracyV2LoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:OptimisticAdPreviewAccuracyV2LoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:OptimisticAdPreviewAccuracyV2LoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActionTypeOnError=function(a){this.$1.action_type_on_error=a;return this};a.prototype.setActiveScenarioIds=function(a){this.$1.active_scenario_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setActiveScenarios=function(a){this.$1.active_scenarios=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setActualEventTime=function(a){this.$1.actual_event_time=a;return this};a.prototype.setAdAccountIDExplicit=function(a){this.$1.ad_account_id_explicit=a;return this};a.prototype.setAdPreviewFormat=function(a){this.$1.ad_preview_format=a;return this};a.prototype.setAdgroupID=function(a){this.$1.adgroup_id=a;return this};a.prototype.setAdmarketID=function(a){this.$1.admarket_id=a;return this};a.prototype.setAhgTourStep=function(a){this.$1.ahg_tour_step=a;return this};a.prototype.setAPIRequestSource=function(a){this.$1.api_request_source=a;return this};a.prototype.setAPIResponseTime=function(a){this.$1.api_response_time=a;return this};a.prototype.setArtilleryTraceID=function(a){this.$1.artillery_trace_id=a;return this};a.prototype.setArtilleryTraceIDAtCrash=function(a){this.$1.artillery_trace_id_at_crash=a;return this};a.prototype.setAtSection=function(a){this.$1.at_section=a;return this};a.prototype.setAtTool=function(a){this.$1.at_tool=a;return this};a.prototype.setAttributionWindows=function(a){this.$1.attribution_windows=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setAudienceNetworkPositions=function(a){this.$1.audience_network_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setBlameFieldSpecs=function(a){this.$1.blame_field_specs=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setBugID=function(a){this.$1.bug_id=a;return this};a.prototype.setBusinessIDExplicit=function(a){this.$1.business_id_explicit=a;return this};a.prototype.setBuyingType=function(a){this.$1.buying_type=a;return this};a.prototype.setCallName=function(a){this.$1.call_name=a;return this};a.prototype.setCampaignGroupID=function(a){this.$1.campaign_group_id=a;return this};a.prototype.setCampaignID=function(a){this.$1.campaign_id=a;return this};a.prototype.setClientURI=function(a){this.$1.client_uri=a;return this};a.prototype.setCmsID=function(a){this.$1.cms_id=a;return this};a.prototype.setCodeBase=function(a){this.$1.code_base=a;return this};a.prototype.setCohort=function(a){this.$1.cohort=a;return this};a.prototype.setColumnCategory=function(a){this.$1.column_category=a;return this};a.prototype.setComponentName=function(a){this.$1.component_name=a;return this};a.prototype.setContextMap=function(a){this.$1.context_map=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setCrashedSessionID=function(a){this.$1.crashed_session_id=a;return this};a.prototype.setCurrentAttributionWindows=function(a){this.$1.current_attribution_windows=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCurrentDateIntervalEnd=function(a){this.$1.current_date_interval_end=a;return this};a.prototype.setCurrentDateIntervalPreset=function(a){this.$1.current_date_interval_preset=a;return this};a.prototype.setCurrentDateIntervalStart=function(a){this.$1.current_date_interval_start=a;return this};a.prototype.setCurrentInsightsDatavizMetrics=function(a){this.$1.current_insights_dataviz_metrics=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCurrentInsightsDatavizSection=function(a){this.$1.current_insights_dataviz_section=a;return this};a.prototype.setCurrentInsightsDatavizSubsection=function(a){this.$1.current_insights_dataviz_subsection=a;return this};a.prototype.setCurrentInsightsTableBreakdowns=function(a){this.$1.current_insights_table_breakdowns=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCurrentInsightsTableColumnSetID=function(a){this.$1.current_insights_table_column_set_id=a;return this};a.prototype.setCurrentInsightsTableLevel=function(a){this.$1.current_insights_table_level=a;return this};a.prototype.setCurrentInsightsTableSort=function(a){this.$1.current_insights_table_sort=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCurrentInsightsTableUserColumns=function(a){this.$1.current_insights_table_user_columns=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCurrentNormalizedFilter=function(a){this.$1.current_normalized_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCurrentUserFilter=function(a){this.$1.current_user_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setCustomEventType=function(a){this.$1.custom_event_type=a;return this};a.prototype.setCustomizedPlacement=function(a){this.$1.customized_placement=a;return this};a.prototype.setDataSource=function(a){this.$1.data_source=a;return this};a.prototype.setDevicePlatforms=function(a){this.$1.device_platforms=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setDialogType=function(a){this.$1.dialog_type=a;return this};a.prototype.setDiffSpec=function(a){this.$1.diff_spec=a;return this};a.prototype.setElementsInDomAtCrash=function(a){this.$1.elements_in_dom_at_crash=a;return this};a.prototype.setEndpoint=function(a){this.$1.endpoint=a;return this};a.prototype.setErrorCode=function(a){this.$1.error_code=a;return this};a.prototype.setErrorLine=function(a){this.$1.error_line=a;return this};a.prototype.setErrorName=function(a){this.$1.error_name=a;return this};a.prototype.setErrorScript=function(a){this.$1.error_script=a;return this};a.prototype.setErrorSubcode=function(a){this.$1.error_subcode=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEventCategory=function(a){this.$1.event_category=a;return this};a.prototype.setEventIndex=function(a){this.$1.event_index=a;return this};a.prototype.setEventIndexAtCrash=function(a){this.$1.event_index_at_crash=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setEventSource=function(a){this.$1.event_source=a;return this};a.prototype.setExcludedPublisherCategories=function(a){this.$1.excluded_publisher_categories=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setExcludedPublisherListIds=function(a){this.$1.excluded_publisher_list_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setFacebookPageID=function(a){this.$1.facebook_page_id=a;return this};a.prototype.setFacebookPositions=function(a){this.$1.facebook_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setFbtraceID=function(a){this.$1.fbtrace_id=a;return this};a.prototype.setGkAbtestControlMap=function(a){this.$1.gk_abtest_control_map=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setGkAbtestTestMap=function(a){this.$1.gk_abtest_test_map=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setGkStatusMap=function(a){this.$1.gk_status_map=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setHelpListRelatedFaqs=function(a){this.$1.help_list_related_faqs=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setHelpListRelatedFeatured=function(a){this.$1.help_list_related_featured=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setInsightsQueryBreakdowns=function(a){this.$1.insights_query_breakdowns=a;return this};a.prototype.setInsightsQueryFilters=function(a){this.$1.insights_query_filters=a;return this};a.prototype.setInsightsQuerySort=function(a){this.$1.insights_query_sort=a;return this};a.prototype.setInsightsQueryTimeRange=function(a){this.$1.insights_query_time_range=a;return this};a.prototype.setInsightsTooltipSticky=function(a){this.$1.insights_tooltip_sticky=a;return this};a.prototype.setInstagramPositions=function(a){this.$1.instagram_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setIsDefaultPlacements=function(a){this.$1.is_default_placements=a;return this};a.prototype.setIsEventFirstOfTypeInSession=function(a){this.$1.is_event_first_of_type_in_session=a;return this};a.prototype.setIsFirstPage=function(a){this.$1.is_first_page=a;return this};a.prototype.setJsBuildRevision=function(a){this.$1.js_build_revision=a;return this};a.prototype.setJsHeapSizeLimitAtCrash=function(a){this.$1.js_heap_size_limit_at_crash=a;return this};a.prototype.setJsHeapSizeTotalAtCrash=function(a){this.$1.js_heap_size_total_at_crash=a;return this};a.prototype.setJsHeapSizeUsedAtCrash=function(a){this.$1.js_heap_size_used_at_crash=a;return this};a.prototype.setJsPushPhase=function(a){this.$1.js_push_phase=a;return this};a.prototype.setKpiType=function(a){this.$1.kpi_type=a;return this};a.prototype.setLastLiveTime=function(a){this.$1.last_live_time=a;return this};a.prototype.setLoadedModuleCount=function(a){this.$1.loaded_module_count=a;return this};a.prototype.setLoadedPackageCount=function(a){this.$1.loaded_package_count=a;return this};a.prototype.setLogGroupID=function(a){this.$1.log_group_id=a;return this};a.prototype.setLogGroupIndex=function(a){this.$1.log_group_index=a;return this};a.prototype.setLogItemID=function(a){this.$1.log_item_id=a;return this};a.prototype.setMegamenuColumn=function(a){this.$1.megamenu_column=a;return this};a.prototype.setMegamenuRecentsNum=function(a){this.$1.megamenu_recents_num=a;return this};a.prototype.setMessage=function(a){this.$1.message=a;return this};a.prototype.setMessageFormat=function(a){this.$1.message_format=a;return this};a.prototype.setMessageID=function(a){this.$1.message_id=a;return this};a.prototype.setMessengerPositions=function(a){this.$1.messenger_positions=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setMetaMessage=function(a){this.$1.meta_message=a;return this};a.prototype.setMockupID=function(a){this.$1.mockup_id=a;return this};a.prototype.setModuleName=function(a){this.$1.module_name=a;return this};a.prototype.setNewValue=function(a){this.$1.new_value=a;return this};a.prototype.setObjectIds=function(a){this.$1.object_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setObjectTypeExplicit=function(a){this.$1.object_type_explicit=a;return this};a.prototype.setObjective=function(a){this.$1.objective=a;return this};a.prototype.setOldValue=function(a){this.$1.old_value=a;return this};a.prototype.setOncall=function(a){this.$1.oncall=a;return this};a.prototype.setOptimisticPreviewSource=function(a){this.$1.optimistic_preview_source=a;return this};a.prototype.setOptimizationGoal=function(a){this.$1.optimization_goal=a;return this};a.prototype.setPageLocationTargeting=function(a){this.$1.page_location_targeting=a;return this};a.prototype.setPayloadOnError=function(a){this.$1.payload_on_error=a;return this};a.prototype.setPixelID=function(a){this.$1.pixel_id=a;return this};a.prototype.setPredictionID=function(a){this.$1.prediction_id=a;return this};a.prototype.setPreviousAttributionWindows=function(a){this.$1.previous_attribution_windows=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPreviousDateIntervalEnd=function(a){this.$1.previous_date_interval_end=a;return this};a.prototype.setPreviousDateIntervalPreset=function(a){this.$1.previous_date_interval_preset=a;return this};a.prototype.setPreviousDateIntervalStart=function(a){this.$1.previous_date_interval_start=a;return this};a.prototype.setPreviousInsightsDatavizMetrics=function(a){this.$1.previous_insights_dataviz_metrics=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPreviousInsightsDatavizSection=function(a){this.$1.previous_insights_dataviz_section=a;return this};a.prototype.setPreviousInsightsDatavizSubsection=function(a){this.$1.previous_insights_dataviz_subsection=a;return this};a.prototype.setPreviousInsightsTableBreakdowns=function(a){this.$1.previous_insights_table_breakdowns=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPreviousInsightsTableColumnSetID=function(a){this.$1.previous_insights_table_column_set_id=a;return this};a.prototype.setPreviousInsightsTableLevel=function(a){this.$1.previous_insights_table_level=a;return this};a.prototype.setPreviousInsightsTableSort=function(a){this.$1.previous_insights_table_sort=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPreviousInsightsTableUserColumns=function(a){this.$1.previous_insights_table_user_columns=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPreviousNormalizedFilter=function(a){this.$1.previous_normalized_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPreviousUserFilter=function(a){this.$1.previous_user_filter=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setPropsOnError=function(a){this.$1.props_on_error=a;return this};a.prototype.setPublisherPlatforms=function(a){this.$1.publisher_platforms=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setSavedLocationID=function(a){this.$1.saved_location_id=a;return this};a.prototype.setSavedStateRetrieveError=function(a){this.$1.saved_state_retrieve_error=a;return this};a.prototype.setScenarioDuration=function(a){this.$1.scenario_duration=a;return this};a.prototype.setScenarioEnd=function(a){this.$1.scenario_end=a;return this};a.prototype.setScenarioEventOccurrenceIndex=function(a){this.$1.scenario_event_occurrence_index=a;return this};a.prototype.setScenarioStart=function(a){this.$1.scenario_start=a;return this};a.prototype.setScenarioStatus=function(a){this.$1.scenario_status=a;return this};a.prototype.setScenarioSubeventAbandonedCount=function(a){this.$1.scenario_subevent_abandoned_count=a;return this};a.prototype.setScenarioSubeventCount=function(a){this.$1.scenario_subevent_count=a;return this};a.prototype.setScenarioSubeventFailCount=function(a){this.$1.scenario_subevent_fail_count=a;return this};a.prototype.setScenarioSubeventSuccessCount=function(a){this.$1.scenario_subevent_success_count=a;return this};a.prototype.setScrollDistance=function(a){this.$1.scroll_distance=a;return this};a.prototype.setSearchQuery=function(a){this.$1.search_query=a;return this};a.prototype.setSelected=function(a){this.$1.selected=a;return this};a.prototype.setServerPreviewSource=function(a){this.$1.server_preview_source=a;return this};a.prototype.setSessionDurationAtCrash=function(a){this.$1.session_duration_at_crash=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setSignalsUIComponentEnvironment=function(a){this.$1.signals_ui_component_environment=a;return this};a.prototype.setSignalsUIEventData=function(a){this.$1.signals_ui_event_data=a;return this};a.prototype.setSignalsUILoggerSessionID=function(a){this.$1.signals_ui_logger_session_id=a;return this};a.prototype.setStackTrace=function(a){this.$1.stack_trace=a;return this};a.prototype.setStateOnError=function(a){this.$1.state_on_error=a;return this};a.prototype.setStoreName=function(a){this.$1.store_name=a;return this};a.prototype.setTabCountAtCrash=function(a){this.$1.tab_count_at_crash=a;return this};a.prototype.setTargetingUIEventData=function(a){this.$1.targeting_ui_event_data=a;return this};a.prototype.setThrottledEventName=function(a){this.$1.throttled_event_name=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeSinceLoad=function(a){this.$1.time_since_load=a;return this};a.prototype.setTimeSinceNavigationStart=function(a){this.$1.time_since_navigation_start=a;return this};a.prototype.setToSection=function(a){this.$1.to_section=a;return this};a.prototype.setToTool=function(a){this.$1.to_tool=a;return this};a.prototype.setTooltipNavigatedSections=function(a){this.$1.tooltip_navigated_sections=a;return this};a.prototype.setTooltipPlacement=function(a){this.$1.tooltip_placement=a;return this};a.prototype.setTooltipType=function(a){this.$1.tooltip_type=a;return this};a.prototype.setURIAtCrash=function(a){this.$1.uri_at_crash=a;return this};a.prototype.setUserAccountIDExplicit=function(a){this.$1.user_account_id_explicit=a;return this};a.prototype.setUserDevice=function(a){this.$1.user_device=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setUserOrPageExplicit=function(a){this.$1.user_or_page_explicit=a;return this};a.prototype.setUserOs=function(a){this.$1.user_os=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVisible=function(a){this.$1.visible=a;return this};a.prototype.setWaitTimeTraceID=function(a){this.$1.wait_time_trace_id=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.setWindowHeight=function(a){this.$1.window_height=a;return this};a.prototype.setWindowWidth=function(a){this.$1.window_width=a;return this};a.prototype.setWirelessCarrier=function(a){this.$1.wireless_carrier=b("GeneratedLoggerUtils").serializeVector(a);return this};c={action_type_on_error:!0,active_scenario_ids:!0,active_scenarios:!0,actual_event_time:!0,ad_account_id_explicit:!0,ad_preview_format:!0,adgroup_id:!0,admarket_id:!0,ahg_tour_step:!0,api_request_source:!0,api_response_time:!0,artillery_trace_id:!0,artillery_trace_id_at_crash:!0,at_section:!0,at_tool:!0,attribution_windows:!0,audience_network_positions:!0,blame_field_specs:!0,bug_id:!0,business_id_explicit:!0,buying_type:!0,call_name:!0,campaign_group_id:!0,campaign_id:!0,client_uri:!0,cms_id:!0,code_base:!0,cohort:!0,column_category:!0,component_name:!0,context_map:!0,crashed_session_id:!0,current_attribution_windows:!0,current_date_interval_end:!0,current_date_interval_preset:!0,current_date_interval_start:!0,current_insights_dataviz_metrics:!0,current_insights_dataviz_section:!0,current_insights_dataviz_subsection:!0,current_insights_table_breakdowns:!0,current_insights_table_column_set_id:!0,current_insights_table_level:!0,current_insights_table_sort:!0,current_insights_table_user_columns:!0,current_normalized_filter:!0,current_user_filter:!0,custom_event_type:!0,customized_placement:!0,data_source:!0,device_platforms:!0,dialog_type:!0,diff_spec:!0,elements_in_dom_at_crash:!0,endpoint:!0,error_code:!0,error_line:!0,error_name:!0,error_script:!0,error_subcode:!0,error_type:!0,event_category:!0,event_index:!0,event_index_at_crash:!0,event_name:!0,event_source:!0,excluded_publisher_categories:!0,excluded_publisher_list_ids:!0,facebook_page_id:!0,facebook_positions:!0,fbtrace_id:!0,gk_abtest_control_map:!0,gk_abtest_test_map:!0,gk_status_map:!0,help_list_related_faqs:!0,help_list_related_featured:!0,insights_query_breakdowns:!0,insights_query_filters:!0,insights_query_sort:!0,insights_query_time_range:!0,insights_tooltip_sticky:!0,instagram_positions:!0,is_default_placements:!0,is_event_first_of_type_in_session:!0,is_first_page:!0,js_build_revision:!0,js_heap_size_limit_at_crash:!0,js_heap_size_total_at_crash:!0,js_heap_size_used_at_crash:!0,js_push_phase:!0,kpi_type:!0,last_live_time:!0,loaded_module_count:!0,loaded_package_count:!0,log_group_id:!0,log_group_index:!0,log_item_id:!0,megamenu_column:!0,megamenu_recents_num:!0,message:!0,message_format:!0,message_id:!0,messenger_positions:!0,meta_message:!0,mockup_id:!0,module_name:!0,new_value:!0,object_ids:!0,object_type_explicit:!0,objective:!0,old_value:!0,oncall:!0,optimistic_preview_source:!0,optimization_goal:!0,page_location_targeting:!0,payload_on_error:!0,pixel_id:!0,prediction_id:!0,previous_attribution_windows:!0,previous_date_interval_end:!0,previous_date_interval_preset:!0,previous_date_interval_start:!0,previous_insights_dataviz_metrics:!0,previous_insights_dataviz_section:!0,previous_insights_dataviz_subsection:!0,previous_insights_table_breakdowns:!0,previous_insights_table_column_set_id:!0,previous_insights_table_level:!0,previous_insights_table_sort:!0,previous_insights_table_user_columns:!0,previous_normalized_filter:!0,previous_user_filter:!0,props_on_error:!0,publisher_platforms:!0,saved_location_id:!0,saved_state_retrieve_error:!0,scenario_duration:!0,scenario_end:!0,scenario_event_occurrence_index:!0,scenario_start:!0,scenario_status:!0,scenario_subevent_abandoned_count:!0,scenario_subevent_count:!0,scenario_subevent_fail_count:!0,scenario_subevent_success_count:!0,scroll_distance:!0,search_query:!0,selected:!0,server_preview_source:!0,session_duration_at_crash:!0,session_id:!0,signals_ui_component_environment:!0,signals_ui_event_data:!0,signals_ui_logger_session_id:!0,stack_trace:!0,state_on_error:!0,store_name:!0,tab_count_at_crash:!0,targeting_ui_event_data:!0,throttled_event_name:!0,time:!0,time_since_load:!0,time_since_navigation_start:!0,to_section:!0,to_tool:!0,tooltip_navigated_sections:!0,tooltip_placement:!0,tooltip_type:!0,uri_at_crash:!0,user_account_id_explicit:!0,user_device:!0,user_or_page_explicit:!0,user_os:!0,vc:!0,visible:!0,wait_time_trace_id:!0,weight:!0,window_height:!0,window_width:!0,wireless_carrier:!0};e.exports=a}),null);
__d("OptimisticAdPreviewErrors",[],(function(a,b,c,d,e,f){"use strict";a={annotatedElementNotFound:"annotatedElementNotFound",carouselCardSpecNotFound:"carouselCardSpecNotFound",carouselImageContainerNotFound:"carouselImageContainerNotFound",carouselImageNotFound:"carouselImageNotFound",carouselImageRemovalNotSupported:"carouselImageRemovalNotSupported",displayLinkRemoved:"displayLinkRemoved",effectHadMultiplePathValues:"effectHadMultiplePathValues",emoticonsNotSupported:"emoticonsNotSupported",emptyImage:"emptyImage",gkFailed:"gkFailed",headlineRemoved:"headlineRemoved",iframeBlocked:"iframeBlocked",iframeNotFound:"iframeNotFound",imageNotFound:"imageNotFound",imageRemovalNotSupported:"imageRemovalNotSupported",invalidCrops:"invalidCrops",invalidCTAType:"invalidCTAType",linkDescriptionRemoved:"linkDescriptionRemoved",mentionsNotSupported:"mentionsNotSupported",noButtonCTA:"noButtonCTA",nullValue:"nullValue",previewContainerNotFound:"previewContainerNotFound",stockImagesNotSupported:"stockImagesNotSupported",targetElementNotFound:"targetElementNotFound",videoNotFound:"videoNotFound",videoRemovalNotSupported:"videoRemovalNotSupported",videoMissingMetadata:"videoMissingMetadata",carouselCardNotFound:"carouselCardNotFound",carouselCardAdded:"carouselCardAdded",carouselCardRemoved:"carouselCardRemoved",carouselCardHeadlineNotFound:"carouselCardHeadlineNotFound",carouselCardHeadlineRemoved:"carouselCardHeadlineRemoved",carouselCardMultipleChanges:"carouselCardMultipleChanges",carouselCardDescriptionNotFound:"carouselCardDescriptionNotFound",carouselCardDescriptionRemoved:"carouselCardDescriptionRemoved",carouselCardCTANotFound:"carouselCardCTANotFound",unsupportedMessageString:"unsupportedMessageString"};e.exports=a}),null);
__d("OptimisticAdPreviewResults",[],(function(a,b,c,d,e,f){"use strict";a={SKIPPED:"SKIPPED",SUCCESS:"SUCCESS"};e.exports=a}),null);
__d("OptimisticAdPreviewANInterstitialEffect",["csx","fbt","AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsImageStore","AdsOffsiteAdInterstitialPreview.react","AdsPageStore","AdsPreviewApiFormats","ApiAdObjectTypes","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","React","ReactDOM","ShutterstockImageUtils","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={name:"an-interstitial-container",id:"an-interstitial",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC],formats:[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL],update:function(a,c,d){__p&&__p();c=a.querySelector("._72xz");if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c=l(d);if(!c)return b("OptimisticAdPreviewErrors").emptyImage;if(b("ShutterstockImageUtils").isStockImageURL(c))return b("OptimisticAdPreviewErrors").stockImagesNotSupported;b("ReactDOM").render(b("React").createElement(b("AdsOffsiteAdInterstitialPreview.react"),{ctaText:n(d),description:o(d),iconSrc:s(d),imageAspectRatio:m(d),imageSrc:c,isVideo:i(d),subtitle:r(d),title:p(d)}),a);return b("OptimisticAdPreviewResults").SUCCESS}};var i=function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)===b("ApiAdObjectTypes").VIDEO},j=function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE)},k=function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);if(!a)return null;a=b("AdsImageStore").get(a);return!a?null:a},l=function(a){if(i(a))return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL);var c=k(a);a=j(a);return c?c.url:a||null},m=function(a){a=k(a);return a?Math.floor(100*a.width/a.height)/100:1},n=function(a){a=b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE);if(!a)return null;a=b("AdsCallToActionTypes").TYPES[a];return!a?null:a.text},o=function(a){return b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE)},p=function(a){var c=h._("Headline");return b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME)||c},q=function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID);return!a?null:b("AdsPageStore").get(a)},r=function(a){a=q(a);return!a?null:a.name},s=function(a){a=q(a);return!a?null:b("getByPath")(a,["picture","data","url"])};e.exports=a}),null);
__d("adsOptimisticPreviewQESelector",["adsCreateAdAccountQESelector","adsCreateSelector","camelizeProps"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateAdAccountQESelector")("ads_optimistic_preview");var g=["is_optimistic_carousel_ad_preview_enabled","is_optimistic_desktop_image_ad_preview_enabled","is_optimistic_empty_image_ad_preview_enabled","is_optimistic_ig_ad_preview_enabled","is_optimistic_image_ad_preview_enabled","is_optimistic_video_ad_preview_enabled","is_optimistic_an_interstitial_enabled"],h=["is_optimistic_carousel_ad_preview_enabled","is_optimistic_desktop_image_ad_preview_enabled","is_optimistic_empty_image_ad_preview_enabled","is_optimistic_ig_ad_preview_enabled","is_optimistic_image_ad_preview_enabled","is_optimistic_video_ad_preview_enabled"];c=b("adsCreateSelector")([a],function(a){var c=a.isDone()&&a.hasValue();return b("camelizeProps")(g.reduce(function(b,d){h.includes(d)?b[d]=c&&a.getValueEnforcing().getParamBool(d,!0):b[d]=c&&a.getValueEnforcing().getParamBool(d,!1);return b},{}))},{name:e.id+".adsOptimisticPreviewQESelector"});e.exports=c}),null);
__d("OptimisticAdPreviewUtils",["AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsLinkPostFormat","AdsLoadState_LEGACY","AdsMediaFormat","AdsPreviewApiFormats","AdsWhatsAppUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","adsOptimisticPreviewQESelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="carousel-card",h=[function(a,c,d,e){return a.isOptimisticImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").IMAGE&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticVideoAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").VIDEO&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticCarouselAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").CAROUSEL&&e===b("AdsLinkPostFormat").MULTIPLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").IMAGE&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").VIDEO&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").CAROUSEL&&e===b("AdsLinkPostFormat").MULTIPLE},function(a,c,d,e){return a.isOptimisticIgAdPreviewEnabled&&c===b("AdsPreviewApiFormats").INSTAGRAM_STANDARD&&(d===b("AdsMediaFormat").IMAGE||d===b("AdsMediaFormat").VIDEO)&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticAnInterstitialEnabled&&c===b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL&&(d===b("AdsMediaFormat").IMAGE||d===b("AdsMediaFormat").VIDEO)&&e===b("AdsLinkPostFormat").SINGLE}],i={validateAndApplyImageCropEffect:function(a,c,d,e,f,g){__p&&__p();f=i.getCrop(f);if(f===null)return b("OptimisticAdPreviewErrors").invalidCrops;a=a.getSelectedAccountIDX();c=c.getOneFor(a,g);a=typeof c==="string"?c:c.loadState;g=typeof c!=="string"?c:null;if(a===b("AdsLoadState_LEGACY").LOADING)return b("OptimisticAdPreviewErrors").imageNotFound;if(a!==b("AdsLoadState_LEGACY").LOADED)return b("OptimisticAdPreviewErrors").imageNotFound;if(g===null)return b("OptimisticAdPreviewErrors").imageNotFound;c=d.clientWidth;a=d.clientHeight;e.style.backgroundImage='url("'+g.url+'")';d=f[1][0]-f[0][0];var h=f[1][1]-f[0][1];e.style.backgroundSize=g.width/d*100+"% "+g.height/h*100+"%";e.style.backgroundPosition="-"+c/d*f[0][0]+"px -"+a/h*f[0][1]+"px";return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyImageEffect:function(a,c,d){if(d===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(d===null)return b("OptimisticAdPreviewErrors").imageRemovalNotSupported;a=a.get(d);if(!a)return b("OptimisticAdPreviewErrors").imageNotFound;c.style.background='center / cover url("'+a.url+'")';return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyCtaEffect:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").noButtonCTA;c=b("AdsCallToActionTypes").TYPES[c];if(!c)return b("OptimisticAdPreviewErrors").invalidCTAType;a.innerText=b("AdsWhatsAppUtils").isWhatsAppCTAType(c.name)?c.short_text:c.text;return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyCarouselEffect:function(a,c,d,e){__p&&__p();var f=a.querySelectorAll('[data-ad-preview="'+g+'"]');if(c===null||f===null)return b("OptimisticAdPreviewResults").SKIPPED;if(c.length>f.length)return b("OptimisticAdPreviewErrors").carouselCardAdded;a=c.map(function(a,c){__p&&__p();if(a===null)return b("OptimisticAdPreviewErrors").carouselCardRemoved;if(a===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(Object.keys(a).length>1)return b("OptimisticAdPreviewErrors").carouselCardMultipleChanges;if(!f[c])return b("OptimisticAdPreviewErrors").carouselCardNotFound;var g=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)[c];return!g?b("OptimisticAdPreviewErrors").carouselCardSpecNotFound:e(f[c],a,g)});c=a.filter(function(a){return Object.prototype.hasOwnProperty.call(b("OptimisticAdPreviewErrors"),a)});if(c.length)return c[0];c=a.filter(function(a){return a===b("OptimisticAdPreviewResults").SUCCESS});return c.length?b("OptimisticAdPreviewResults").SUCCESS:b("OptimisticAdPreviewResults").SKIPPED},shouldUpdate:function(a,b,c,d){return!a?!1:h.some(function(e){return a&&e(a,b,c,d)})},getCrop:function(a){var b=Object.keys(a)[0];a=a[b];if(a===null)return null;a.length===1&&(a[1]=a[0],a[0]=[0,0]);return a}};e.exports=i}),null);
__d("OptimisticAdPreviewCarouselDescriptionEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").DESCRIPTION,h={name:"carousel",id:"carousel-description",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],updateDescriptions:function(a,c){__p&&__p();c=c[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").carouselCardDescriptionRemoved;a=a.querySelector('[data-ad-preview="card-description"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardDescriptionNotFound;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS},update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h.updateDescriptions)}};e.exports=h}),null);
__d("OptimisticAdPreviewCarouselHeadlineEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").NAME,h={name:"carousel",id:"carousel-headline",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],updateHeadline:function(a,c){__p&&__p();c=c[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").carouselCardHeadlineRemoved;a=a.querySelector('[data-ad-preview="card-headline"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardHeadlineNotFound;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS},update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h.updateHeadline)}};e.exports=h}),null);
__d("OptimisticAdPreviewCarouselImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS,h=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"carousel-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};var i=function(a,c,d){__p&&__p();c=d[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var e=a.querySelector("i");return!e?b("OptimisticAdPreviewErrors").carouselImageNotFound:b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,e,c,d[h])};e.exports=a}),null);
__d("OptimisticAdPreviewCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"carousel-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h)}};var h=function(a,c){a=a.querySelector('[data-ad-preview="image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;a=a.querySelector("i");return!a?b("OptimisticAdPreviewErrors").carouselImageNotFound:b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c[g])};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"cta",id:"desktop-cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)}};e.exports=d}),null);
__d("OptimisticAdPreviewDesktopCarouselCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,h=b("ApiCallToActionFields").TYPE,i=function(a,c){a=a.querySelector('[data-ad-preview="carousel-cta"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;c=b("getByPath")(c,[g,h]);return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)};a={name:"carousel",id:"desktop-carousel-CTA",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],mediaFormats:[b("AdsMediaFormat").CAROUSEL],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCarouselImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS,h=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"desktop-carousel-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};var i=function(a,c,d){__p&&__p();c=d[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var e=a.querySelector('[data-ad-preview="carousel-image"]');if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,d[h])};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"desktop-carousel-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h)}};var h=function(a,c){__p&&__p();a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;c=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c[g]);if(c!==b("OptimisticAdPreviewResults").SUCCESS)return c;c=a.querySelector('[data-ad-preview="carousel-image"]');if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c.setAttribute("src","");return b("OptimisticAdPreviewResults").SUCCESS};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";a={name:"display-link",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").displayLinkRemoved;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",id:"desktop-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=a.querySelector("[data-ad-preview=image]");if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");e=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,e)}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",id:"desktop-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){c=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c);if(c!==b("OptimisticAdPreviewResults").SUCCESS)return c;c=a.querySelector('[data-ad-preview="image"]');if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c.setAttribute("src","");return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopVideoEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;c=b("AdsVideoStore").get(c);if(!c)return b("OptimisticAdPreviewErrors").videoNotFound;if(c.download_sd_url==null||c.preferredThumbnail==null||c.preferredThumbnail.uri==null)return b("OptimisticAdPreviewErrors").videoMissingMetadata;a.setAttribute("src",c.download_sd_url);a.setAttribute("poster",c.preferredThumbnail.uri);return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"display-link-container",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").displayLinkRemoved;a=a.querySelector("span");if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewHeadlineEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"headline",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD,b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").headlineRemoved;if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewIGCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"ig-cta",id:"ig-cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)}};e.exports=d}),null);
__d("OptimisticAdPreviewIGFeedImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"media-container",id:"ig-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS)||b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=b("OptimisticAdPreviewUtils").getCrop(c);if(e===null)return b("OptimisticAdPreviewErrors").invalidCrops;var f=e[1][0]-e[0][0];e=e[1][1]-e[0][1];a.style.height=e*(a.clientWidth/f)+"px";e=a.querySelector('[data-ad-preview="image"]');if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");f=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH)||b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,f)}};e.exports=a}),null);
__d("OptimisticAdPreviewIGFeedImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"media-container",id:"ig-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c,d){__p&&__p();d=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH);d&&(c=d);d=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c);if(d!==b("OptimisticAdPreviewResults").SUCCESS)return d;d=a.querySelector('[data-ad-preview="image"]');if(!d)return b("OptimisticAdPreviewErrors").targetElementNotFound;a=b("AdsImageStore").get(b("nullthrows")(c));if(!a)return b("OptimisticAdPreviewErrors").imageNotFound;d.setAttribute("src",a.url);d.style.visibility="hidden";return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewIGMessageEffect",["cx","AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={name:"ig-message",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;c===null&&(c="");var d=c.match(/(([^\u0000-\u007F]|\w|[\'!\"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~])+)|\s+/g);if(!d)if(c==="")return b("OptimisticAdPreviewResults").SUCCESS;else return b("OptimisticAdPreviewErrors").unsupportedMessageString;if(c.length!==d.reduce(function(a,b){return a+b.length},0))return b("OptimisticAdPreviewErrors").unsupportedMessageString;Array.from(a.getElementsByTagName("span")).forEach(function(a){var b=a.firstChild;b&&a.removeChild(b)});h(a,d);return b("OptimisticAdPreviewResults").SUCCESS}};var h=function(a,b){__p&&__p();b.forEach(function(b){__p&&__p();var c=document.createElement("span");(b.indexOf("#")||b.indexOf("@"))&&(c.className+="_wd9");a.insertBefore(c,a.firstChild);if(b===""){var d=document.createElement("span");a.insertBefore(d,c.firstChild);d.innerText=" "}else if(b==="\n"){d=document.createElement("br");a.insertBefore(d,c.firstChild)}else{d=document.createElement("span");a.insertBefore(d,c.firstChild);d.innerText=b}})};e.exports=a}),null);
__d("OptimisticAdPreviewImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=a.querySelector("[data-ad-preview=image]");if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;var f=b("OptimisticAdPreviewUtils").getCrop(c);if(f===null)return b("OptimisticAdPreviewErrors").invalidCrops;var g=f[1][0]-f[0][0];f=f[1][1]-f[0][1];e.style.paddingBottom=f*(a.clientWidth/g)+"px";f=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,e,c,f)}};e.exports=a}),null);
__d("OptimisticAdPreviewImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a={name:"image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c)}};e.exports=a}),null);
__d("OptimisticAdPreviewLinkDescriptionEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"link-description",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.LINK_DESCRIPTION],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD,b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").linkDescriptionRemoved;if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewMessageEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","EmoticonsList","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"message",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();c=c;if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;c===null&&(c="");if(c.indexOf("@[")!==-1)return b("OptimisticAdPreviewErrors").mentionsNotSupported;var d=new RegExp(b("EmoticonsList").regexp.source,"g");if(d.test(c))return b("OptimisticAdPreviewErrors").emoticonsNotSupported;while(a.firstChild)a.removeChild(a.firstChild);d=c.split("\n\n");d.reverse().forEach(function(b){var c=document.createElement("p");c.innerText=b;a.insertBefore(c,a.firstChild)});return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewMobileCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"cta",id:"cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){a=a.querySelector("span");if(a)return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c);else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=d}),null);
__d("OptimisticAdPreviewMobileCarouselCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,h=b("ApiCallToActionFields").TYPE,i=function(a,c){a=a.querySelector("[data-ad-preview=carousel-cta]");if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;a=a.querySelector("span");if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;c=b("getByPath")(c,[g,h]);return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)};a={name:"carousel",id:"mobile-carousel-CTA",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],mediaFormats:[b("AdsMediaFormat").CAROUSEL],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};e.exports=a}),null);
__d("OptimisticAdPreviewVideoEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;var d=b("AdsVideoStore").get(c);if(!d)return b("OptimisticAdPreviewErrors").videoNotFound;var e=a.getAttribute("data-store");if(e===null||e===void 0)return b("OptimisticAdPreviewErrors").videoNotFound;e=JSON.parse(e);e.src=d.download_sd_url;e.videoID=c;e.rootID=c;a.setAttribute("data-store",JSON.stringify(e));return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewVideoThumbnailEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";a={name:"video-cover",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;a.style.background='center / cover url("'+c+'")';return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewEffectsAggregator",["AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","OptimisticAdPreviewANInterstitialEffect","OptimisticAdPreviewCarouselDescriptionEffect","OptimisticAdPreviewCarouselHeadlineEffect","OptimisticAdPreviewCarouselImageCropEffect","OptimisticAdPreviewCarouselImageEffect","OptimisticAdPreviewDesktopCarouselCTAEffect","OptimisticAdPreviewDesktopCarouselImageCropEffect","OptimisticAdPreviewDesktopCarouselImageEffect","OptimisticAdPreviewDesktopCTAEffect","OptimisticAdPreviewDesktopDisplayLinkEffect","OptimisticAdPreviewDesktopImageCropEffect","OptimisticAdPreviewDesktopImageEffect","OptimisticAdPreviewDesktopVideoEffect","OptimisticAdPreviewDisplayLinkEffect","OptimisticAdPreviewErrors","OptimisticAdPreviewHeadlineEffect","OptimisticAdPreviewIGCTAEffect","OptimisticAdPreviewIGFeedImageCropEffect","OptimisticAdPreviewIGFeedImageEffect","OptimisticAdPreviewIGMessageEffect","OptimisticAdPreviewImageCropEffect","OptimisticAdPreviewImageEffect","OptimisticAdPreviewLinkDescriptionEffect","OptimisticAdPreviewMessageEffect","OptimisticAdPreviewMobileCarouselCTAEffect","OptimisticAdPreviewMobileCTAEffect","OptimisticAdPreviewResults","OptimisticAdPreviewVideoEffect","OptimisticAdPreviewVideoThumbnailEffect","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map,h=[b("OptimisticAdPreviewIGCTAEffect"),b("OptimisticAdPreviewIGMessageEffect"),b("OptimisticAdPreviewMessageEffect"),b("OptimisticAdPreviewImageCropEffect"),b("OptimisticAdPreviewImageEffect"),b("OptimisticAdPreviewMobileCTAEffect"),b("OptimisticAdPreviewHeadlineEffect"),b("OptimisticAdPreviewDisplayLinkEffect"),b("OptimisticAdPreviewLinkDescriptionEffect"),b("OptimisticAdPreviewVideoEffect"),b("OptimisticAdPreviewVideoThumbnailEffect"),b("OptimisticAdPreviewCarouselHeadlineEffect"),b("OptimisticAdPreviewCarouselDescriptionEffect"),b("OptimisticAdPreviewMobileCarouselCTAEffect"),b("OptimisticAdPreviewCarouselImageEffect"),b("OptimisticAdPreviewCarouselImageCropEffect"),b("OptimisticAdPreviewDesktopCTAEffect"),b("OptimisticAdPreviewDesktopImageEffect"),b("OptimisticAdPreviewDesktopImageCropEffect"),b("OptimisticAdPreviewDesktopDisplayLinkEffect"),b("OptimisticAdPreviewDesktopCarouselCTAEffect"),b("OptimisticAdPreviewDesktopCarouselImageEffect"),b("OptimisticAdPreviewDesktopCarouselImageCropEffect"),b("OptimisticAdPreviewDesktopVideoEffect"),b("OptimisticAdPreviewIGFeedImageEffect"),b("OptimisticAdPreviewIGFeedImageCropEffect"),b("OptimisticAdPreviewANInterstitialEffect")],i=function(a,c,d,e,f){__p&&__p();var g=new(b("AdsAPIAdgroupRecord"))(d);g=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(g);if(a.mediaFormats&&!a.mediaFormats.includes(g))return b("OptimisticAdPreviewResults").SKIPPED;if(a.formats&&!a.formats.includes(e))return b("OptimisticAdPreviewResults").SKIPPED;g=a.paths.map(function(a){return b("getByPath")(c,a)}).filter(function(a){return a!==void 0});if(g.length===0)return b("OptimisticAdPreviewResults").SKIPPED;if(g.length>1)return b("OptimisticAdPreviewErrors").effectHadMultiplePathValues;e=f.querySelector('[data-ad-preview="'+a.name+'"]');return!e?b("OptimisticAdPreviewErrors").annotatedElementNotFound:a.update(e,g[0],d)};a=function(a,c,d,e){var f=e;if(a===void 0)return g([["noSpecChanges",b("OptimisticAdPreviewResults").SKIPPED]]);return!f?g([["all",b("OptimisticAdPreviewErrors").previewContainerNotFound]]):g(h.map(function(e){return[e.id||e.name,i(e,b("nullthrows")(a),c,d,f)]}))};e.exports={run:a}}),null);
__d("getPathsFromSpec",[],(function(a,b,c,d,e,f){"use strict";e.exports=function a(b){return b&&typeof b==="object"&&b.constructor===Object&&Object.getOwnPropertyNames(b).length>0?Object.keys(b).map(function(c){return a(b[c]).map(function(a){return[c].concat(a)})}).reduce(function(a,b){return a.concat(b)},[]):[[]]}}),null);
__d("getSpecsDiff",["FBLogger","isSpecEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){__p&&__p();if(a===c)return void 0;var d=b("isSpecEmpty")(a),e=b("isSpecEmpty")(c);if(d&&e)return void 0;if(e)return null;if(d)return c;e=typeof a;switch(e){case"number":return isNaN(a)?c:a===c?void 0:c;case"boolean":case"string":return a===c?void 0:c;case"object":if(Array.isArray(a))return!Array.isArray(c)?c:h(a,c);if(!(i(a)&&i(c))){b("FBLogger")("ads").mustfix('Unsupported spec object type "%s"',e);return!1}d=new Set(Object.keys(a).concat(Object.keys(c)));d=d.values();var f={};for(var j=d.next();j.done===!1;j=d.next()){if(j.value==="__dataID__")continue;var k=g(a[j.value],c[j.value]);k!==void 0&&(f[j.value]=k)}return Object.keys(f).length?f:void 0;default:b("FBLogger")("ads").mustfix('Unsupported spec object type "%s"',e);return void 0}}function h(a,b){var c=[];for(var d=0,e=Math.max(a.length,b.length);d<e;d++){var f=g(a[d],b[d]);f!==void 0&&(c[d]=f)}return c.length>0?c:void 0}function i(a){return Object.prototype.toString.call(a)==="[object Object]"}e.exports=g}),null);
__d("AdsAdgroupPreview.react",["cx","fbt","AdPreviewIFrameResizeListener","AdFacebookStoryAdPreviewDisclaimer.react","AdPreviewBorderStyles","AdPreviewLoadingOverlayTypes","AdsAdgroupOptimisticAdPreviewErrorAction","AdsAdgroupOptimisticAdPreviewSkippedAction","AdsAdgroupOptimisticAdPreviewSuccessAction","AdsAdgroupPreviewLoader.react","AdsAdgroupPreviewLoadErrorDataAction","AdsAdgroupPreviewLoadFinishedDataAction","AdsAdgroupPreviewLoadStartDataAction","AdsAdgroupPreviewLoadSuccessDataAction","AdsAdgroupPreviewRefreshButton.react","AdsAdgroupPreviewRefreshLink.react","AdsAdgroupPreviewSelectedPreviewLoadedDataAction","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCCCategory","AdsCCNotificationWrapper.react","AdsFeedStoryShim.react","AdsIncreaseImageAspectRatioMobileFeedCompatibilityTip.react","AdsInstagramStoryAdPreviewDisclaimer.react","AdsInterfaceCreativeLoggingEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLoadState_LEGACY","AdsPerfTiming","AdsPreviewApiFormats","AdsPreviewBugReportContainer.react","AdsPreviewLogger","AdsPreviewUtils","AdsStockImageWatermarkNotice.react","AdsTestIDs","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","Arbiter","BUIProgressBar.react","CenteredContainer.react","DynamicAdsPreviewRenderType","ErrorMarker.react","FBLogger","OptimisticAdPreviewAccuracyV2TypedLogger","OptimisticAdPreviewEffectsAggregator","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","React","ShutterstockImageUtils","UIPagelet","WaitTimeArea.react","WebApiApplication","areEqual","areSpecsEqual","deleteByPath","getByPath","getObjectValues","getPathsFromSpec","getSpecsDiff","ghlTestUBT","gkx","guid","immutable","mergeDeep"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("AdPreviewIFrameResizeListener");var j=b("AdsInterfacesLogEvents").Event,k=b("immutable").Map;c=b("React").PropTypes;var l=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.STATIC_FALLBACK_SPEC.path,m=b("gkx")("780332"),n={Initial:"Initial",First:"First",Second:"Second"};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$1=!1,this.$2=null,this.$3=null,this.$4=!1,this.$5=!1,this.$6=!1,this.$7=null,this.$8=null,this.$9=null,this.$10=!1,this.onRefreshClick=function(){var a;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_REFRESH_CLICK,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a[b("AdsInterfacesLoggerConfigColumns").ADGROUP_SPEC]=this.props.adgroupSpec,a[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=this.state.fbtraceID,a)});b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$13(1)},{line:"1398",module:"AdsAdgroupPreview.react.js"});this.$19(this.props)}.bind(this),this.state={error:null,loading:!1,pagelet:null,pageletID:null,pageletElement:null,targetID:b("guid")(),loadingCount:0,activeContainer:n.Initial,isWaitingForPreviewToLoad:!1}}a.prototype.shouldComponentUpdate=function(a,c){return!b("areEqual")(this.props,a)||!b("areEqual")(babelHelpers["extends"]({loadingCount:0},this.state),babelHelpers["extends"]({loadingCount:0},c))};a.prototype.getNonPageLetContent=function(){return!this.state.error?null:b("React").createElement(b("ErrorMarker.react"),{name:"AdsAdgroupPreview"},b("React").createElement("div",{className:"_14-t"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"adgroup_preview_loading_error",textData:[{type:"PARAGRAPH",data:{text:this.state.error}}]},suiNoticeProps:{type:"error",messageBody:this.state.error}})))};a.prototype.getDecoratorOverlay=function(){return!this.props.decorator?null:b("React").createElement("div",{className:"_n3z",ref:"previewContainerOverlayPlaceHolder"})};a.prototype.getWatermarkNotice=function(){return!this.props.imageURL||!b("ShutterstockImageUtils").isStockImageURL(this.props.imageURL)?null:b("React").createElement(b("AdsStockImageWatermarkNotice.react"),{className:"_3-94 _3-8x"})};a.prototype.getIGStoryDisclaimer=function(a){return this.props.format!==b("AdsPreviewApiFormats").INSTAGRAM_STORY?null:b("React").createElement(b("AdsInstagramStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(a?" _3-8w":"")+(a?"":" _3-8x")})};a.prototype.getFBStoryCaptionDisclaimer=function(a){return this.props.format!==b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE||!this.props.hasInstagramStoryFormat?null:b("React").createElement(b("AdFacebookStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(a!=null?" _3-8w":"")+(a!=null?" _3-8x":"")})};a.prototype.getNewFooterSection=function(a){return!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44 _6un-"},b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,isBugReportButtonDisabled:a,previewParams:this.$11(this.props)}),b("React").createElement("div",{className:"_3-9b"},b("React").createElement(b("AdsAdgroupPreviewRefreshButton.react"),{isDisabled:a,onRefreshClick:this.onRefreshClick})))};a.prototype.getOldFooterSection=function(){return this.state.loading&&!this.$6||!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44"},b("React").createElement(b("AdsAdgroupPreviewRefreshLink.react"),{onRefreshClick:this.onRefreshClick}),b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,isBugReportButtonDisabled:!1,previewParams:this.$11(this.props)}))};a.prototype.getCenteredContaienr=function(a){return b("React").createElement(b("CenteredContainer.react"),{className:(a==null?"hidden_elem":"")+(this.state.loading?" _5zm":""),vertical:!0},a)};a.prototype.getNewLoader=function(){var a=b("gkx")("677855");return b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+(a&&!this.state.isWaitingForPreviewToLoad?" hidden_elem":"")},b("React").createElement(b("AdsAdgroupPreviewLoader.react"),{format:this.props.format}))};a.prototype.getProgressBar=function(){var a;if(!this.state.loading||this.$6||this.props.loadingOverlay!==b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR)return null;a=(a=this.props.adgroupSpec.creative)==null?void 0:a.object_type;return b("React").createElement(o,{isLoading:this.state.loading,objectType:a})};a.prototype.getOldOverlay=function(){var a=this.props.parentContainerHeight,c=null;a=a?a:"100%";this.state.loading&&!this.$6&&(this.props.loadingOverlay===b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR?c=b("React").createElement("div",{className:"_4aqb",style:{height:a}}):c=b("React").createElement("div",{className:"_1eg2",style:{height:a}},b("React").createElement(b("AdsFeedStoryShim.react"),null)));return c};a.prototype.getPreviewContainers=function(){var a=b("gkx")("677855");return b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+" _228q"+(a&&!this.$6&&this.state.isWaitingForPreviewToLoad?" hidden_elem":""),id:this.state.targetID,key:this.state.targetID},this.props.shouldOptimisticallyUpdate?b("React").createElement("div",{className:this.state.activeContainer!==n.Second?"hidden_elem":"","data-ad-preview":this.state.activeContainer!==n.First?"previewContainer":null,id:this.state.targetID+"-1",ref:"previewContainer"}):null,b("React").createElement("div",{className:this.state.activeContainer===n.Second?"hidden_elem":"","data-ad-preview":this.state.activeContainer===n.First?"previewContainer":null,id:this.state.targetID+"-2",ref:"previewContainer2"}))};a.prototype.render=function(){var a=b("gkx")("677855"),c=this.getNonPageLetContent(),d=this.getProgressBar(),e=this.getOldOverlay(),f=this.getDecoratorOverlay(),g=a?this.getNewFooterSection(this.state.loading&&!this.$6):this.getOldFooterSection(),h=this.getWatermarkNotice(),i=this.getIGStoryDisclaimer(h!=null),j=this.getFBStoryCaptionDisclaimer(h!=null);i=i||j;return b("React").createElement("div",null,b("React").createElement("div",{className:"_5zg"},!a&&d,!a&&e,this.getPreviewContainers(),a&&!this.$6&&this.getNewLoader(),h,i,this.getCenteredContaienr(c),f),g)};a.prototype.$12=function(a){__p&&__p();var c=k(a).filter(function(a){return Object.prototype.hasOwnProperty.call(b("OptimisticAdPreviewErrors"),a)});if(!c.isEmpty()){b("AdsAdgroupOptimisticAdPreviewErrorAction").dispatch({errors:c,loggingData:babelHelpers["extends"]({},this.$13(1))},{line:"679",module:"AdsAdgroupPreview.react.js"});this.$6=!1;return}c=a.filter(function(a){return a===b("OptimisticAdPreviewResults").SUCCESS});this.$6=!c.isEmpty();if(!this.$6){b("AdsAdgroupOptimisticAdPreviewSkippedAction").dispatch({loggingData:babelHelpers["extends"]({},this.$13(1))},{line:"695",module:"AdsAdgroupPreview.react.js"});return}this.$14();b("AdsAdgroupOptimisticAdPreviewSuccessAction").dispatch({loggingData:babelHelpers["extends"]({},this.$13(1)),successes:Array.from(c.keys())},{line:"704",module:"AdsAdgroupPreview.react.js"})};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this.$15(this.props),d=this.$15(a);this.$4=!1;if(!b("areSpecsEqual")(c,d)||!this.$16(c,d,a)||!this.$17(a)||this.props.lastForceUpdateTimeStamp!==a.lastForceUpdateTimeStamp||this.props.previewRenderType!==a.previewRenderType||this.props.endDateTimeStamp!==a.endDateTimeStamp||this.props.startDateTimeStamp!==a.startDateTimeStamp){this.$4=!0;c=null;try{c=b("getSpecsDiff")(this.props.adgroupSpec,a.adgroupSpec);d=b("getPathsFromSpec")(c);this.$8=JSON.stringify(Object.assign.apply(Object,[{}].concat(d.map(function(a){var c;return c={},c[a.join(".")]=b("getByPath")(this.props.adgroupSpec,a),c}.bind(this)))));this.$9=JSON.stringify(Object.assign.apply(Object,[{}].concat(d.map(function(c){var d;return d={},d[c.join(".")]=b("getByPath")(a.adgroupSpec,c),d}))))}catch(a){this.$8=a.message}b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$13(1)},{line:"756",module:"AdsAdgroupPreview.react.js"});if(this.props.shouldOptimisticallyUpdate&&!this.state.loading){c=c||b("getSpecsDiff")(this.props.adgroupSpec,a.adgroupSpec);try{this.$7=JSON.stringify(c)}catch(a){this.$7=a.message}d=this.$18(c,a.adgroupSpec);this.$12(d)}this.$19(a)}};a.prototype.$18=function(a,c){__p&&__p();var d=this.$20();if(this.props.format===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD){var e=d.getElementsByTagName("iframe")[0];if(!e)return k([["all",b("OptimisticAdPreviewErrors").iframeNotFound]]);try{d=e.contentWindow.document}catch(a){return k([["all",b("OptimisticAdPreviewErrors").iframeBlocked]])}}return b("OptimisticAdPreviewEffectsAggregator").run(a,c,this.props.format,d)};a.prototype.$20=function(){return this.state.activeContainer===n.First?this.refs.previewContainer2:this.refs.previewContainer};a.prototype.$21=function(){return this.state.activeContainer===n.First?this.refs.previewContainer:this.refs.previewContainer2};a.prototype.$14=function(){var a=this.$20();a=a.getElementsByTagName("iframe")[0];a&&a.contentWindow.document.documentElement&&a.contentWindow.document.documentElement.scrollHeight>0&&(a.style.height=a.contentWindow.document.documentElement.scrollHeight+"px")};a.prototype.$16=function(a,c,d){var e,f=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),g=new(b("AdsAPIAdgroupRecord"))(d.adgroupSpec);e=(e=f.creative)==null?void 0:e.object_type;if(e===b("ApiAdObjectTypes").INVALID)return!0;if(!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(f,this.props.adgroupSpecPathPlugin)||!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(g,d.adgroupSpecPathPlugin))return!0;e=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(f,this.props.adgroupSpecPathPlugin);f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(g,d.adgroupSpecPathPlugin);return b("areEqual")(b("getByPath")(a,e),b("getByPath")(c,f))};a.prototype.$17=function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path;return b("areEqual")(b("getByPath")(this.props.adgroupSpec,c),b("getByPath")(a.adgroupSpec,c))};a.prototype.componentDidMount=function(){__p&&__p();b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$13(1)},{line:"892",module:"AdsAdgroupPreview.react.js"}),this.$1=!0,this.$19(this.props),this.$3=b("Arbiter").subscribe("AdPreview/IFrameLoadSuccess",function(a,c){__p&&__p();a=c.iframe;if(this.state.pageletID!==this.$2)return;c=null;var d=null;if(this.props.shouldOptimisticallyUpdate&&(this.$6||!this.$5)){var e=this.$21().getElementsByTagName("iframe")[0];(this.state.activeContainer===n.Initial||e&&a.id===e.id)&&(this.$20()&&(c=this.$20().getElementsByTagName("iframe")[0]),d=e,this.setState(function(a){return{activeContainer:a.activeContainer===n.First?n.Second:n.First}}))}this.$5=!0;if(d&&c)try{a=c.contentWindow.document.getElementById("viewport");e=d.contentWindow.document.getElementById("viewport");e&&a&&new(b("OptimisticAdPreviewAccuracyV2TypedLogger"))().setOptimisticPreviewSource(a.innerHTML).setServerPreviewSource(e.innerHTML).setDiffSpec(this.$7).log()}catch(a){c=babelHelpers["extends"]({},this.$13(),{errorType:a});b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:c},{line:"958",module:"AdsAdgroupPreview.react.js"})}m?b("AdsPreviewLogger").log("preview_load_finished",this.$13()):b("AdsAdgroupPreviewLoadFinishedDataAction").dispatch({loggingData:this.$13()},{line:"968",module:"AdsAdgroupPreview.react.js"})}.bind(this))};a.prototype.componentDidUpdate=function(){this.$1&&!this.state.loading&&!this.state.pageletElement&&(this.props.onFinishedLoading&&this.props.onFinishedLoading(),this.props.shouldLogLoading&&b("AdsAdgroupPreviewSelectedPreviewLoadedDataAction").dispatch({loggingData:this.$13()},{line:"984",module:"AdsAdgroupPreview.react.js"})),b("ghlTestUBT")(function(a){this.$10=a}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$22(),this.$3&&b("Arbiter").unsubscribe(this.$3)};a.prototype.$22=function(){this.state.pagelet&&this.state.pagelet.cancel()};a.prototype.$15=function(a){var c=a.accountID,d=a.adgroupSpec,e=a.assetLabel,f=a.borderStyle,g=a.dynamicCustomization,h=a.enableMsitePlayVideo,i=a.format,j=a.hideUfiInMobileNF,k=a.isShared,l=a.loadingOverlay,m=a.locale,n=a.objective,o=a.pagePostDetails,p=a.placePageIDs,q=a.productItemIDs;a=a.isDCOPreviewWithFixedIndex;return{adaccountid:c,adid:d.id,appid:b("WebApiApplication").getClientID(),assetlabel:e,borderstyle:f,creative:d.creative,creativeID:d.creativeID,dynamiccustomization:g,enablemsiteplayvideo:!!h,format:i,hideufiinmobilefeed:j,isshared:!!k,loadingoverlay:l,locale:m,pagePostDetails:o,placePageID:p&&p.loadState===b("AdsLoadState_LEGACY").LOADED&&p.list&&p.list.length>0?p.list[0]:null,productitemids:q&&q.hasValue()?q.getValueEnforcing().toArray():null,videodata:{ad_objective:n},isDCOPreviewWithFixedIndex:a,canrenderwatchandbrowsepreview:n===b("AdsAPIObjectives").CONVERSIONS||n===b("AdsAPIObjectives").LINK_CLICKS||n===b("AdsAPIObjectives").WEBSITE_CONVERSIONS}};a.prototype.$11=function(a){__p&&__p();var c,d=this.$15(a),e=d.adid,f=d.creative,g=d.creativeID,h=d.isDCOPreviewWithFixedIndex;d=babelHelpers.objectWithoutPropertiesLoose(d,["adid","creative","creativeID","isDCOPreviewWithFixedIndex"]);var i=a.enableComment,j=new(b("AdsAPIAdgroupRecord"))(a.adgroupSpec);c=(c=j.creative)==null?void 0:c.object_type;if(c!==b("ApiAdObjectTypes").INVALID){c=b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(j,a.adgroupSpecPathPlugin);c=c?b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(j,a.adgroupSpecPathPlugin):null;j=c?b("getByPath")(f,c.slice(1)):null;if(j&&c){j=j.some(function(a){return a.picture&&a.image_hash});if(j){j=b("mergeDeep")(f);b("getByPath")(j,c.slice(1)).forEach(function(a){a.picture&&a.image_hash&&delete a.picture});f=j}}}c=l.slice(1);if(a.previewRenderType!==b("DynamicAdsPreviewRenderType").FALLBACK&&b("getByPath")(f,c)){j=b("mergeDeep")(f);b("deleteByPath")(j,c);f=j}c=babelHelpers["extends"]({},d,{enableComment:i,enddate:a.endDateTimeStamp,render_type:a.previewRenderType,startdate:a.startDateTimeStamp});return a.shouldRenderPreviewByID?a.hasCreativeIDOverride?babelHelpers["extends"]({},c,{creativeid:g}):babelHelpers["extends"]({},c,{adid:e}):babelHelpers["extends"]({},c,{creative:f,isDCOPreviewWithFixedIndex:h})};a.prototype.$19=function(a){__p&&__p();a=this.$11(a);this.$22();this.setState(function(a){return{loadingCount:a.loadingCount+1,isWaitingForPreviewToLoad:!0}});var c=null;(this.refs.previewContainer||this.refs.previewContainer2)&&(this.$2=b("guid")(),c=b("UIPagelet").loadFromEndpoint("AdPreviewPageletController",!this.props.shouldOptimisticallyUpdate||this.$6||!this.$5?this.$21():this.$20(),babelHelpers["extends"]({},a,{version:b("AdsPreviewUtils").getPageletAPIVersion()}),{append:!1,bundle:!1,crossPage:!0,contentCacheKey:b("gkx")("729315")?JSON.stringify(a):void 0,displayCallback:function(a){this.$23(this.state.targetID,a)}.bind(this),errorHandler:function(){this.$24(this.state.targetID)}.bind(this),transportErrorHandler:function(){this.$24(this.state.targetID)}.bind(this),finallyHandler:function(a){return this.$25(a)}.bind(this)}));a=!!c&&c.isContentCached();this.props.onStartedLoading&&this.props.onStartedLoading();this.setState({error:null,loading:!this.$6&&!a,pagelet:c,pageletElement:this.refs.previewContainer||null})};a.prototype.$23=function(a,c){__p&&__p();if(!this.$1||a!==this.state.targetID)return;b("AdsAdgroupPreviewLoadSuccessDataAction").dispatch({loggingData:this.$13()},{line:"1215",module:"AdsAdgroupPreview.react.js"});this.setState({error:null,loading:!1,pagelet:null,isWaitingForPreviewToLoad:!1},function(){__p&&__p();try{c();this.props.decorator&&this.props.decorator.decoratePagelet(this.$21(),this.refs.previewContainerOverlayPlaceHolder,this.props.format);var a=this.$21().getElementsByTagName("iframe")[0];if(!a){this.props.shouldOptimisticallyUpdate&&(this.$6||!this.$5)&&this.setState(function(a){return{activeContainer:a.activeContainer===n.First?n.Second:n.First}});if(this.$20()){a=this.$20().getElementsByTagName("iframe")[0];try{if(a){a=a.contentWindow.document.getElementById("viewport");a&&new(b("OptimisticAdPreviewAccuracyV2TypedLogger"))().setOptimisticPreviewSource(a.innerHTML).setServerPreviewSource(this.$21().innerHTML).setDiffSpec(this.$7).log()}}catch(c){a=babelHelpers["extends"]({},this.$13(),{errorType:c});b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:a},{line:"1280",module:"AdsAdgroupPreview.react.js"})}}m?b("AdsPreviewLogger").log("preview_load_finished",this.$13()):b("AdsAdgroupPreviewLoadFinishedDataAction").dispatch({loggingData:this.$13()},{line:"1290",module:"AdsAdgroupPreview.react.js"});this.$5=!0}this.setState({pageletElement:null,pageletID:this.$2})}catch(a){this.setState({error:a.message}),b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:this.$13()},{line:"1306",module:"AdsAdgroupPreview.react.js"})}}.bind(this))};a.prototype.$24=function(a){if(!this.$1||a!==this.state.targetID)return;a=h._("Unable to generate preview");b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:this.$13()},{line:"1324",module:"AdsAdgroupPreview.react.js"});this.setState({error:a,loading:!1,pagelet:null,pageletElement:null,isWaitingForPreviewToLoad:!1});b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").ADS_ADGROUP_PREVIEW_GENERATE_ERROR,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").OBJECTIVE]=this.props.objective,a)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)};a.prototype.$25=function(a){if(!this.$1){b("FBLogger")("ads").warn("AdsAdgroupPreview tried to call setState after unmounting");return}this.setState({fbtraceID:a&&a.getResponseHeader("X-FB-Trace-ID")})};a.prototype.$13=function(a){a===void 0&&(a=0);var c=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),d=null;this.props.shouldLogLoading!==void 0&&(d=this.props.shouldLogLoading?"visible":"not_visible");return{format:this.props.format,errorType:this.$10?"adBlocker":void 0,isEdit:this.props.isEdit||this.$4,linkPostFormat:b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,this.props.adgroupSpecPathPlugin),mediaFormat:b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c),loadingCount:this.state.loadingCount+a,timeSinceLoad:Date.now()-b("AdsPerfTiming").start,adgroupID:b("AdsAPIAdgroupRecordUtils").getID(c),metaMessage:this.state.targetID,hasObjectStorySpec:b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c),actionType:this.$7,previewParent:this.props.previewParent,visibilityType:d,newValue:this.$9,oldValue:this.$8}};a.propTypes={accountID:c.string.isRequired,adgroupSpec:c.object.isRequired,adgroupSpecPathPlugin:c.object.isRequired,assetLabel:c.string,borderStyle:c.oneOf(b("getObjectValues")(b("AdPreviewBorderStyles"))),decorator:c.object,dynamicCustomization:c.object,enableComment:c.bool,enableMsitePlayVideo:c.bool,format:c.oneOf(b("getObjectValues")(b("AdsPreviewApiFormats"))).isRequired,hasCreativeIDOverride:c.bool,hasInstagramStoryFormat:c.bool,hideUfiInMobileNF:c.bool.isRequired,imageURL:c.string,isDCOPreviewWithFixedIndex:c.bool,lastForceUpdateTimeStamp:c.number,loadingOverlay:c.oneOf(b("getObjectValues")(b("AdPreviewLoadingOverlayTypes"))),objective:c.oneOf(Object.keys(b("AdsAPIObjectives"))).isRequired,pagePostDetails:c.object,parentContainerHeight:c.number,placePageIDs:c.object,productItemIDs:c.object,shouldRenderPreviewByID:c.bool.isRequired,showFooterSection:c.bool.isRequired,onFinishedLoading:c.func};a.defaultProps={borderStyle:b("AdPreviewBorderStyles").STANDARD,decorator:null,enableComment:!1,enableMsitePlayVideo:!0,hideUfiInMobileNF:!1,loadingOverlay:b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR,showFooterSection:!0};function o(a){var c=a.isLoading?"visible":"hidden";a=a.objectType;var d="AdsAdgroupPreview";a===b("ApiAdObjectTypes").VIDEO&&(d="AdsAdgroupPreview - Video");return b("React").createElement("div",{className:"_5f6f","data-testid":b("AdsTestIDs").ADS_PROGRESS_BAR,style:{visibility:c}},b("React").createElement(b("WaitTimeArea.react"),{name:d,owner:"ads_advertiser_experience"},b("React").createElement(b("BUIProgressBar.react"),{flexibleWidth:!0,isBuffering:!0})))}e.exports=a}),null);