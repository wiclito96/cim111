if (self.CavalryLogger) { CavalryLogger.start_js(["kP2pA"]); }

__d("AdsPreviewTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AUTO_CAROUSEL:null,DYNAMIC_LOCAL_ADS:null,DYNAMIC_LOCAL_ADS_WITH_PRODUCT:null,DYNAMIC_PRODUCT:null,STANDARD:null});e.exports=a}),null);
__d("AdsPreviewV2Utils",["AdsAdgroupImageMutators","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsAssetFeedUtils","AdsCampaignUtils","AdsDynamicPreviewItemTypes","AdsLocalUtils","AdsPlacementEligibilityInfoUtils","AdsPlacementPluginList","AdsPreviewsPlugins","AdsPreviewTypes","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","ApiAdCreativeFields","ApiAdCreativeStorySpecFields","ApiObjectStorySpecFormatOption","ApiObjectStorySpecLinkFields","FBJSON","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiAdCreativeFields").OBJECT_STORY_SPEC,h=b("ApiAdCreativeFields").PRODUCT_SET_ID,i=b("ApiAdCreativeStorySpecFields").TEMPLATE_DATA,j=b("ApiObjectStorySpecLinkFields").FORMAT_OPTION,k="NEW_ADGROUP_ID";function a(a){return a.includes(k)}function l(a,c,d,e){__p&&__p();d=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);var f=b("AdsPreviewTypes").STANDARD;if(!c)return m(b("AdsPreviewTypes").STANDARD);var k=b("getByPath")(a,[g,i,j]);switch(c){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:if(k===b("ApiObjectStorySpecFormatOption").COLLECTION_VIDEO)break;f=b("getByPath")(a,[g,i])?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").LEAD_GENERATION:if(c===b("AdsAPIObjectives").APP_INSTALLS&&!b("AdsAppUtils").isMobileAppInstall(c,d)||k===b("ApiObjectStorySpecFormatOption").COLLECTION_VIDEO)break;d=b("getByPath")(a,[g,i]);f=d&&!b("AdsAssetFeedUtils").isCreativeWithAssetFeed(a)?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsLocalUtils").isLocalObjectiveSwitch(c):if(e==null||e===""){f=b("AdsPreviewTypes").STANDARD;break}k=a[h];f=k?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;break}return m(f)}function m(a){switch(a){case b("AdsPreviewTypes").STANDARD:return b("AdsDynamicPreviewItemTypes").NONE;case b("AdsPreviewTypes").AUTO_CAROUSEL:return b("AdsDynamicPreviewItemTypes").AUTO_CAROUSEL;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS:return b("AdsDynamicPreviewItemTypes").LOCATION;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:return b("AdsDynamicPreviewItemTypes").LOCATION_AND_PRODUCT;case b("AdsPreviewTypes").DYNAMIC_PRODUCT:return b("AdsDynamicPreviewItemTypes").PRODUCT;default:return b("AdsDynamicPreviewItemTypes").NONE}}function n(a,c,d){a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,adGroup:d});return d!=null?["MESSAGE_PAGE","GET_DIRECTIONS"].includes(b("AdsAPIAdgroupRecordUtils").getCallToActionType(d,a)):!1}function c(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=!1);if(a==null||e==null||c==null||d==null)return null;var h=d.buying_type,i=c.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);h=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(c,h,a,e,[],i);a=b("immutable").Set();g&&f!=null&&b("AdsAssetFeedUtils").isPACAdgroupFromSpec(f)&&b("AdsAssetFeedUtils").hasTargetRules(f)?a=b("AdsPlacementPluginList").getFilteredPositions(h,f.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES)):a=b("AdsPlacementPluginList").getPositions(h);e=b("AdsPlacementEligibilityInfoUtils").getPreviewsFromPositions(h,a).toJS();i=b("AdsPreviewsPlugins").keys(e).getList();return n(d,c,f)?b("immutable").OrderedMap(i.filter(function(a){return!(a.apiFormat==="AUDIENCE_NETWORK_INSTREAM_VIDEO")}).map(function(a){return[a.apiFormat,a]})):b("immutable").OrderedMap(i.map(function(a){return[a.apiFormat,a]}))}function o(a){return a===b("AdsAPIObjectives").STORE_VISITS}function d(a,c,d){return d.creative?l(d.creative.toJS(),b("AdsAPICampaignGroupRecordUtils").getObjective(a),c,b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(a)):b("AdsDynamicPreviewItemTypes").NONE}function f(a,c,d){a=b("AdsAPICampaignGroupRecordUtils").getObjective(a);if(!o(a))return void 0;a=b("AdsCampaignUtils").getPlacePageSetID(c);c=b("AdsCampaignUtils").getTargetingApiSpec(c);return a!=null&&a!==""?d(b("FBJSON").stringify({targeting:c,placePageSetID:a})):void 0}function p(a,c,d){__p&&__p();d=d;a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,cleanedAdgroup:d});c=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(d,a);c&&(d=d.deleteIn(c));c=!!((a=d.creative)==null?void 0:a.object_story_spec);c&&(d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID));d=b("AdsAdgroupImageMutators").removeRedundantImageURL(d);c=!!((a=d.creative)==null?void 0:a.asset_feed_spec);d=c?d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID):d;return d}e.exports={shouldDisableAudienceNetworkInstreamVideo:n,getDynamicPreviewItemTypeForPreviewType:m,getDynamicPreviewItemTypeFromAdgroupSpec:l,getDynamicPreviewItemTypeFromAdObjects:d,getPlacePageIDs:f,getPreviewPlugins:c,isAdBeingCreated:a,needsPlacePageID:o,cleanAdgroupForPreview:p}}),null);
__d("AdsMultiLanguagePlacementUtils",["fbt","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Map({"audience_network/classic":g._("Audience Network Native, Banner and Interstitial"),"audience_network/instream_video":g._("Audience Network In-stream videos"),"audience_network/rewarded_video":g._("Audience Network Rewarded Videos"),"facebook/feed":g._("Facebook Feed"),"facebook/group":g._("Facebook Groups"),"facebook/instant_article":g._("Facebook Instant Articles"),"facebook/instream_video":g._("Facebook In-stream Videos"),"facebook/marketplace":g._("Facebook Marketplace"),"facebook/right_column":g._("Facebook right column"),"facebook/search":g._("Facebook Search"),"facebook/stories":g._("Facebook Stories"),"facebook/suggested_video":g._("Facebook Suggested Videos"),"instagram/igtv":g._("Instagram IGTV"),"instagram/story":g._("Instagram Stories"),"instagram/stream":g._("Instagram Feed"),"messenger/inbox":g._("Messenger Inbox"),"messenger/story":g._("Messenger Stories"),"messenger/thread":g._("Messenger Sponsored Messages"),"whatsapp/status":g._("WhatsApp Status")});a={getPlatformAndPlacementLabels:function(a){return a.map(function(a){return h.get(a)}).filter(function(a){return a!==void 0})}};e.exports=a}),null);
__d("AdsDCOFieldsLabels",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={AUTOMATIC_FORMAT_LABEL:g._("Images, Videos and Slideshows")};e.exports=a}),null);
__d("adsAdgroupPreviewsV2Selector",["AdsAdgroupPreviewsV2UIProviderStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsAdgroupPreviewsV2UIProviderStore")],function(){return b("AdsAdgroupPreviewsV2UIProviderStore").getState()},e.id+".adsAdgroupPreviewsV2Selector");e.exports=a}),null);
__d("adsAdgroupPreviewsV2CurrentIndexSelector",["adsAdgroupPreviewsV2Selector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsAdgroupPreviewsV2Selector")],function(a){return a.adgroupIndex},{name:e.id+".adsAdgroupPreviewsV2CurrentIndexSelector"});e.exports=a}),null);
__d("AdsImageInfoStoreUtils",["AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsChildAttachmentsUtils","AdsImageIDUtils","AdsImageInfoStore","ApiObjectStorySpecLinkFields","getByPath","mergeDeep","setByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.generateFullSizeURLAdgroup=function(a){a=b("mergeDeep")({},a);return b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)?this.$1(a):this.$2(a)};a.prototype.getFullSizeAdsSimpleImageFromHash=function(a,c){c=b("AdsImageIDUtils").getImageID({accountID:c,hash:a});return c?b("AdsImageInfoStore").getFullSize(c).getValue():null};a.prototype.$2=function(a){this.$3(a,[b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.PICTURE]);return a};a.prototype.$1=function(a){var c=b("AdsChildAttachmentsUtils").getChildAttachmentsPathFromSpec(a);if(c==null)return a;c=b("getByPath")(a,c);c.forEach(function(a){return this.$3(a,[[b("ApiObjectStorySpecLinkFields").PICTURE]])}.bind(this));return a};a.prototype.$3=function(a,c){c.some(function(c){var d=b("getByPath")(a,c);d=b("AdsImageIDUtils").getImageID({url:d});if(!d)return!1;d=b("AdsImageInfoStore").getFullSizeURL(d);d=d.hasValue()?d.getValueEnforcing():null;b("setByPath")(a,c,d);return!0})};function a(){}e.exports=new a()}),null);
__d("AdsSphericalPhotoErrorUtils",["errorCode","AdsImageInfoStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageInfoStoreUtils").getFullSizeAdsSimpleImageFromHash,i={isAnySphericalPhotoAd:function(a,b){return i.isSphericalPhotoPostAd(a,b)||i.isSphericalPhotoLinkAd(a,b)},isSphericalPhotoPostAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.photo_data)==null?void 0:a.image_hash;a=a?h(a,b):null;return!a?!1:a.isSphericalPhoto},isSphericalPhotoLinkAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.link_data)==null?void 0:a.image_hash;a=a?h(a,b):null;return!a?!1:a.isSphericalPhoto}};e.exports=i}),null);
__d("AdsAdgroupPreviewSwitchToFormatReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b=a.get("formatIndexMap").set(b.data.adgroupIndex,b.data.formatIndex);return a.merge({formatIndexMap:b})}};e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataAction",["Laminar","AdsAdgroupPreviewSwitchToFormatReducerPlugin","AdsAdgroupPreviewsV2UIDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAdgroupPreviewSwitchToFormatReducerPlugin"),b("AdsAdgroupPreviewsV2UIDataProvider"),{})]},function(){return[]},"AdgroupPreview.SWITCH_TO_FORMAT");e.exports=a}),null);
__d("AdsUEditorDLOLoggingEvents",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DLO_UI_ENTRYPOINT_LOADED:null,DLO_UI_DIALOG_OPEN:null,DLO_UI_DIALOG_DISMISS_NO_CHANGES:null,DLO_UI_DIALOG_DISMISS_UNSAVED_CHANGES:null,DLO_UI_DIALOG_SAVED:null,DLO_UI_DIALOG_SAVE_ERRORS:null,DLO_UI_DIALOG_ADD_LANGUAGE:null,DLO_UI_DIALOG_MAX_LANGUAGES_ADDED:null,DLO_UI_DIALOG_SELECT_LANGUAGE:null,DLO_UI_DIALOG_CHANGE_LANGUAGE:null,DLO_UI_DIALOG_REMOVE_LANGUAGE:null,DLO_UI_TYPEAHEAD_RECOMMENDED_LANGUAGE_SELECTED:null,DLO_UI_TYPEAHEAD_OTHER_LANGUAGE_SELECTED:null,DLO_UI_UNSUPPORTED_PLACEMENTS_WARNING_SHOWN:null,DLO_UI_UNSUPPORTED_PLACEMENTS_REMOVED:null,DLO_UI_PLACEMENT_CUSTOMIZATIONS_REMOVED:null,DLO_UI_BLOCKER_HOVER_CARD_SHOW:null,DLO_UI_BLOCKER_HOVER_CARD_CLICK:null,DLO_UI_LANGUAGE_TYPEAHEAD_ERROR:null,DLO_UI_ADD_LANGUAGE_BUTTON_CLICKED:null,DLO_UI_ADD_PRIMARY_LANGUAGE_BUTTON_CLICKED:null,DLO_UI_SHOW_DEFAULT_LANGUAGE_BUTTON_CLICKED:null,DLO_UI_HIDE_DEFAULT_LANGUAGE_BUTTON_CLICKED:null,DLO_UI_ENABLE_LINKS:null,DLO_UI_DISABLE_LINKS:null});e.exports=a}),null);