if (self.CavalryLogger) { CavalryLogger.start_js(["wSQeP"]); }

__d("AdsLocationMetaActionsTypeDefaultLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.DEFAULT_LOAD");e.exports=a}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.DEFAULT_LOAD_ERROR");e.exports=a}),null);
__d("AdsLocationMetaDataManager",["AdsGraphAPI","AdsLocationMetaActionsTypeDefaultLoadDataAction","AdsLocationMetaActionsTypeDefaultLoadErrorDataAction","AdsLocationMetaConstant","ApiAdPlacePageSetFields","GraphAPIFieldUtils","cachedGraphAPI","promiseDone"],(function(a,b,c,d,e,f){"use strict";a.prototype.getName=function(a,c){b("promiseDone")(b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id+".getName").object("place_page_set",c)).get({fields:[b("ApiAdPlacePageSetFields").LOCATION_TYPES,b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiAdPlacePageSetFields").METADATA,[b("AdsLocationMetaConstant").SUBFIELD_AUDIENCE,b("AdsLocationMetaConstant").SUBFIELD_FIXED_RADIUS,b("AdsLocationMetaConstant").SUBFIELD_EXTRA_DATA]),b("ApiAdPlacePageSetFields").NAME,b("ApiAdPlacePageSetFields").PARENT_PAGE,b("ApiAdPlacePageSetFields").TARGETED_AREA_TYPE]}),function(d){return b("AdsLocationMetaActionsTypeDefaultLoadDataAction").dispatch({locationMetaKey:a,locationTypes:d.location_types,metadata:d.metadata,name:d.name,pageSetID:c,parentPageID:d.parent_page.id,targetedAreaType:d.targeted_area_type},{line:"75",module:"AdsLocationMetaDataManager.js"})},function(c){return b("AdsLocationMetaActionsTypeDefaultLoadErrorDataAction").dispatch({locationMetaKey:a,error:c},{line:"85",module:"AdsLocationMetaDataManager.js"})})};function a(){}e.exports=new a()}),null);
__d("AdsLocationMetaActionsTypeClearDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsLocationMetaActionsType_.CLEAR";e.exports={actionType:a}}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsLocationMetaActionsType_.DEFAULT_LOAD";e.exports={actionType:a}}),null);
__d("AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsLocationMetaActionsType_.DEFAULT_LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsLocationMetaActionsTypeUpdateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsLocationMetaActionsType_.UPDATE";e.exports={actionType:a}}),null);
__d("AdsLocationMetaActionsTypeUpdateRadiusActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsLocationMetaActionsType_.UPDATE_RADIUS";e.exports={actionType:a}}),null);
__d("AdsLocationMetaStoreKey",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({campaignIDs:void 0,pageSetID:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdTargetSpecDistanceUnit",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MILE:"mile",KILOMETER:"kilometer"})}),null);
__d("AdsLocationMetaUtils",["AdsAPIPageSetTargetedAreaType","AdsLocationMeta","AdsLocationMetaConstant","AdTargetSpecDistanceUnit","DistanceConstants","LocationConstants","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a==null)return null;try{a=JSON.parse(a);return{ancestorID:a.ancestorID,showIneligibleLocations:a.showIneligibleLocations}}catch(a){return null}}function h(a,b){a=k(a);var c=b.distance_unit;return i(parseFloat(b.value),a,c)}function i(a,c,d){if(c===d)return a.toString();if(c===b("AdTargetSpecDistanceUnit").KILOMETER)return(a*b("DistanceConstants").KILOMETERS_PER_MILE).toFixed(1);return c===b("AdTargetSpecDistanceUnit").MILE?(a*b("DistanceConstants").MILES_PER_KILOMETER).toFixed(1):a.toString()}function a(a){return a.selectedRadiusType==b("AdsLocationMetaConstant").AUDIENCE?a.getIn(b("AdsLocationMetaConstant").AUDIENCE_IS_DEFAULT_PATH):a.getIn(b("AdsLocationMetaConstant").DISTANCE_IS_DEFAULT_PATH)}function j(a,c){if(c===b("AdsAPIPageSetTargetedAreaType").MARKETING_AREA)return b("AdsLocationMetaConstant").MARKETING_AREA;if(a===null||a===void 0)return b("AdsLocationMetaConstant").UNKNOWN;return a?b("AdsLocationMetaConstant").AUDIENCE:b("AdsLocationMetaConstant").DISTANCE}function k(a){if(a.audience!=null&&a.audience.max_radius!=null)return a.audience.max_radius.distance_unit;return a.fixed_radius!=null?a.fixed_radius.distance_unit:b("LocationConstants").RadiusInfo.getLocalizedUnit()}function c(a,c){a=a;c=i(parseFloat(c.radius),a.distanceUnit,c.distanceUnit);c=Math.max(parseFloat(c),1).toFixed(0);a.getIn(b("AdsLocationMetaConstant").DISTANCE_IS_DEFAULT_PATH)&&(a=a.setIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH,c));a.getIn(b("AdsLocationMetaConstant").AUDIENCE_IS_DEFAULT_PATH)&&(a=a.setIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH,c));return a}d={getSelectedRadiusType:j,parseExtraData:g,isMetadataRadiusDefault:a,updateMetadataWithRadius:c,createMetadataFromAPIResponse:function(a,c,d,e,f){var i=g(e.extra_data);d=j(!!e.audience,d);return new(b("AdsLocationMeta"))({name:a,version:0,distanceUnit:k(e),locationTypes:c,selectedRadiusType:d,radiuses:b("immutable").Map({audience:new(b("AdsLocationMeta").AdsRadiusData)({value:e.audience?e.audience.size.toString():b("LocationConstants").DEFAULT_AUDIENCE_SIZE,hasMax:e.audience&&e.audience.max_radius,max:e.audience&&e.audience.max_radius?h(e,e.audience.max_radius):b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),isDefault:!(e.audience&&e.audience.max_radius)}),distance:new(b("AdsLocationMeta").AdsRadiusData)({value:e.fixed_radius?h(e,e.fixed_radius):b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(),isDefault:!e.fixed_radius})}),showIneligibleLocations:i?i.showIneligibleLocations:!0,ancestorID:i!=null&&i.ancestorID!=null?i.ancestorID:f})}};e.exports=d}),null);
__d("LMLocationSetEditorResetStateActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="LMLocationSetEditorResetStateActionPlugin";e.exports={actionType:a}}),null);
__d("AdsLocationMetaStore",["AdsAPIPageSetTargetedAreaType","AdsDataAtom","AdsLocationMeta","AdsLocationMetaActionsTypeClearDataActionFlux","AdsLocationMetaActionsTypeDefaultLoadDataActionFlux","AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux","AdsLocationMetaActionsTypeUpdateDataActionFlux","AdsLocationMetaActionsTypeUpdateRadiusActionFlux","AdsLocationMetaConstant","AdsLocationMetaDataManager","AdsLocationMetaStoreKey","AdsLocationMetaUtils","AdsLocationTreeActionsTypeAddLocationDataActionFlux","AdsNewLocationTargetingEditorResetStateActionFlux","FluxStore","LMLocationSetEditorResetStateActionFlux","LoadObject","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.$AdsLocationMetaStore1=b("immutable").Map(),this.$AdsLocationMetaStore2=b("immutable").Map()}a.prototype.__getActionTypes=function(){return h?[b("AdsLocationMetaActionsTypeClearDataActionFlux").actionType,b("AdsLocationMetaActionsTypeDefaultLoadDataActionFlux").actionType,b("AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux").actionType,b("AdsLocationMetaActionsTypeUpdateDataActionFlux").actionType,b("AdsLocationMetaActionsTypeUpdateRadiusActionFlux").actionType,b("AdsLocationTreeActionsTypeAddLocationDataActionFlux").actionType,b("AdsNewLocationTargetingEditorResetStateActionFlux").actionType,b("LMLocationSetEditorResetStateActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsLocationMetaActionsTypeDefaultLoadErrorDataActionFlux").actionType:c=c;this.$AdsLocationMetaStore2=this.$AdsLocationMetaStore2.set(c.locationMetaKey,b("LoadObject").withError(c.error));this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(c.locationMetaKey,b("LoadObject").withError(c.error));this.__emitChange();break;case b("AdsLocationMetaActionsTypeDefaultLoadDataActionFlux").actionType:c=c;this.$AdsLocationMetaStore2=this.$AdsLocationMetaStore2.set(c.locationMetaKey,b("LoadObject").withValue(c.parentPageID));this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(c.locationMetaKey,b("LoadObject").withValue(this.$AdsLocationMetaStore3(c)));this.__emitChange();break;case b("AdsLocationTreeActionsTypeAddLocationDataActionFlux").actionType:a=c.treeKey;var d=a.campaignIDs;a=a.pageSetID;d=new(b("AdsLocationMetaStoreKey"))({campaignIDs:d,pageSetID:a});a=this.$AdsLocationMetaStore1.get(d);a!=null&&a.hasValue()&&(this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(d,b("LoadObject").withValue(a.getValueEnforcing().setIn(b("AdsLocationMetaConstant").SHOW_INELIGIBLE_LOCATIONS_PATH,!0))),this.__emitChange());break;case b("AdsLocationMetaActionsTypeUpdateDataActionFlux").actionType:c=c;d=this.$AdsLocationMetaStore1.get(c.locationMetaKey);this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(c.locationMetaKey,d!=null&&d.hasValue()?b("LoadObject").withValue(b("nullthrows")(d.getValue()).setIn(c.path,c.value)):d);this.__emitChange();break;case b("AdsLocationMetaActionsTypeUpdateRadiusActionFlux").actionType:c=c;this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.update(c.locationMetaKey,function(a){return a==null?null:a.map(function(a){return a.setIn(c.path,c.value).setIn(c.path===b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH?b("AdsLocationMetaConstant").AUDIENCE_IS_DEFAULT_PATH:b("AdsLocationMetaConstant").DISTANCE_IS_DEFAULT_PATH,!1)})});this.__emitChange();break;case b("AdsLocationMetaActionsTypeClearDataActionFlux").actionType:case b("AdsNewLocationTargetingEditorResetStateActionFlux").actionType:case b("LMLocationSetEditorResetStateActionFlux").actionType:c=c;this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1["delete"](c.locationMetaKey);this.__emitChange();break}};a.prototype.getParentPageID=function(a,c){if(!c)return b("LoadObject").withValue(null);if(this.$AdsLocationMetaStore2.has(a))return this.$AdsLocationMetaStore2.get(a);b("AdsLocationMetaDataManager").getName(a,c);this.$AdsLocationMetaStore2=this.$AdsLocationMetaStore2.set(a,b("LoadObject").loading());return this.$AdsLocationMetaStore2.get(a)};a.prototype.getLocationMeta=function(a,c,d){if(this.$AdsLocationMetaStore1.has(a))return b("nullthrows")(this.$AdsLocationMetaStore1.get(a));c&&b("AdsLocationMetaDataManager").getName(a,c);this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(a,c?b("LoadObject").loading():b("LoadObject").withValue(new(b("AdsLocationMeta"))()));return b("nullthrows")(this.$AdsLocationMetaStore1.get(a))};a.prototype.getLocationMetaWithDefaultRadius=function(a,c,d){var e=this.getLocationMeta(a,c);return e.isLoading()?e:e.map(function(c){if(c==null||!b("AdsLocationMetaUtils").isMetadataRadiusDefault(c))return e;this.$AdsLocationMetaStore1=this.$AdsLocationMetaStore1.set(a,b("LoadObject").withValue(b("AdsLocationMetaUtils").updateMetadataWithRadius(c,d)));return this.$AdsLocationMetaStore1.get(a)||b("LoadObject").empty()}.bind(this))};a.prototype.$AdsLocationMetaStore3=function(a){return!a.metadata?new(b("AdsLocationMeta"))().updateIn(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH,function(c){return a.targetedAreaType===b("AdsAPIPageSetTargetedAreaType").MARKETING_AREA?b("AdsLocationMetaConstant").MARKETING_AREA:c}):b("AdsLocationMetaUtils").createMetadataFromAPIResponse(a.name,a.locationTypes,a.targetedAreaType,a.metadata,a.pageSetID)};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsTargetingLocationPageSetInteractionDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map;c={initialState:a()};e.exports=c}),null);
__d("AdsTargetingLocationPageSetInteractionDataProvider",["AdsTargetingLocationPageSetInteractionDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsTargetingLocationPageSetInteractionDataProviderPlugin"),"AdsTargetingLocationPageSetInteractionDataProviderPlugin")}),null);
__d("AdsTargetingLocationPageSetInteractionReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,b){var c=a.get(b.key);switch(b.interactionType){case"click":return a.set(b.key,babelHelpers["extends"]({},c,{clickCount:c.clickCount+1,hasUsedBulkAdd:b.options&&!!b.options.isBulkAdd||c.hasUsedBulkAdd}));case"key_stroke":return a.set(b.key,babelHelpers["extends"]({},c,{keyStrokeCount:c.keyStrokeCount+1}));case"tree_click":return a.set(b.key,babelHelpers["extends"]({},c,{treeClickCount:c.treeClickCount+1}));case"tree_key_stroke":return a.set(b.key,babelHelpers["extends"]({},c,{treeKeyStrokeCount:c.treeKeyStrokeCount+1}))}return a}};e.exports=a}),null);
__d("AdsTargetingLocationPageSetInteractionAction",["Laminar","AdsTargetingLocationPageSetInteractionReducerPlugin","AdsTargetingLocationPageSetInteractionDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsTargetingLocationPageSetInteractionReducerPlugin"),b("AdsTargetingLocationPageSetInteractionDataProvider"),{})]},function(){return[]},"ADS_TARGETING_LOCATION_PAGE_SET_INTERACTION");e.exports=a}),null);
__d("AdsTargetingLocationPageSetOpenDialogReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.key,g(b.key,b.entryPoint))}};function g(a,b){a=a.split("-");a[0];a=a[1];return{clickCount:0,entryPoint:b,hasUsedBulkAdd:!1,isSuccessful:!1,keyStrokeCount:0,seqNo:parseInt(a,10),treeClickCount:0,treeKeyStrokeCount:0}}e.exports=a}),null);
__d("AdsTargetingLocationPageSetOpenDialogAction",["Laminar","AdsTargetingLocationPageSetOpenDialogReducerPlugin","AdsTargetingLocationPageSetInteractionDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsTargetingLocationPageSetOpenDialogReducerPlugin"),b("AdsTargetingLocationPageSetInteractionDataProvider"),{})]},function(){return[]},"ADS_TARGETING_LOCATION_PAGE_SET_OPEN_DIALOG");e.exports=a}),null);
__d("AdsNewLocationTargetingInteractionLoggingUtils",["AdsInterfacesLogEvents","AdsInterfacesLogger","AdsTargetingLocationPageSetCloseDialogAction","AdsTargetingLocationPageSetInteractionAction","AdsTargetingLocationPageSetInteractionDataProvider","AdsTargetingLocationPageSetOpenDialogAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInterfacesLogEvents").EventCategory;a={getNewInteractionLoggerKey:function(a){return"new:"+Date.now()+"-"+a},startLogging:function(a,c){b("AdsTargetingLocationPageSetOpenDialogAction").dispatch({key:c,entryPoint:a},{line:"34",module:"AdsNewLocationTargetingInteractionLoggingUtils.js"})},logInteraction:function(a,c,d){a!=null&&c!=null&&b("AdsTargetingLocationPageSetInteractionAction").dispatch({key:a,interactionType:c,options:d},{line:"46",module:"AdsNewLocationTargetingInteractionLoggingUtils.js"})},finishLogging:function(a,c,d){b("AdsTargetingLocationPageSetCloseDialogAction").dispatch({key:a,editorStateKey:d,isSuccessful:c},{line:"59",module:"AdsNewLocationTargetingInteractionLoggingUtils.js"});d=b("AdsTargetingLocationPageSetInteractionDataProvider").toFluxSelector();c=d().get(a);b("AdsInterfacesLogger").log({eventCategory:g.USER_ACTION,eventName:"new_targeting_location_pageset_dialog_interactions",data:{new_value:JSON.stringify(c)}})}};e.exports=a}),null);
__d("AdsTargetingLocationPageSetCloseDialogReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.key,babelHelpers["extends"]({},a.get(b.key),{isSuccessful:b.isSuccessful}))}};e.exports=a}),null);
__d("AdsTargetingLocationPageSetCloseDialogAction",["Laminar","AdsNewLocationTargetingEditorUpdateStateOnDialogCloseReducerPlugin","AdsNewLocationTargetingEditorProvider","AdsTargetingLocationPageSetCloseDialogReducerPlugin","AdsTargetingLocationPageSetInteractionDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsNewLocationTargetingEditorUpdateStateOnDialogCloseReducerPlugin"),b("AdsNewLocationTargetingEditorProvider"),{}),b("Laminar").__createReducer(b("AdsTargetingLocationPageSetCloseDialogReducerPlugin"),b("AdsTargetingLocationPageSetInteractionDataProvider"),{})]},function(){return[]},"ADS_TARGETING_LOCATION_PAGE_SET_CLOSE_DIALOG");e.exports=a}),null);
__d("AdsNewLocationTargetingEditorUpdateStateOnDialogCloseReducerPlugin",["AdsNewLocationTargetingInteractionLoggingUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.editorStateKey==null?a:a.update(c.editorStateKey,function(a){var c=a.interactionLoggerKeySeqNo+1;return a.merge({interactionLoggerKey:b("AdsNewLocationTargetingInteractionLoggingUtils").getNewInteractionLoggerKey(c),interactionLoggerKeySeqNo:c})})}};e.exports=a}),null);
__d("adsSharedLocationPageSelector",["AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageUtils","ApiPagePaths","adsCreateStoreThunkSelector","getByPath","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,c){return b("naturalComparator")(b("getByPath")(a,b("ApiPagePaths").NAME),b("getByPath")(c,b("ApiPagePaths").NAME))};a=b("adsCreateStoreThunkSelector")(b("AdsPageStore"),function(a){return b("AdsLoadStateUtils_LEGACY").toLoadObject(b("AdsPageStore").get(a)).map(function(a){var c=b("AdsPageUtils").getSharedParentPageIDs(a);c=Array.from(b("AdsPageStore").getAll(c).values()).map(function(a){return b("AdsLoadStateUtils_LEGACY").toLoadObject(a)});return b("AdsLoadObjectUtils").all([a].concat(c))}).map(function(a){return a.filter(function(a){return b("AdsPageUtils").hasLocations(a)})}).map(function(a){return a.sort(g)})});e.exports=a}),null);